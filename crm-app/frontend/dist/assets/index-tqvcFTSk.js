var hT=Object.defineProperty;var fT=(e,t,n)=>t in e?hT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ue=(e,t,n)=>fT(e,typeof t!="symbol"?t+"":t,n);function mT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Cd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dj={exports:{}},kd={},hj={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tl=Symbol.for("react.element"),pT=Symbol.for("react.portal"),gT=Symbol.for("react.fragment"),xT=Symbol.for("react.strict_mode"),yT=Symbol.for("react.profiler"),vT=Symbol.for("react.provider"),bT=Symbol.for("react.context"),wT=Symbol.for("react.forward_ref"),jT=Symbol.for("react.suspense"),ST=Symbol.for("react.memo"),NT=Symbol.for("react.lazy"),Ry=Symbol.iterator;function CT(e){return e===null||typeof e!="object"?null:(e=Ry&&e[Ry]||e["@@iterator"],typeof e=="function"?e:null)}var fj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mj=Object.assign,pj={};function Na(e,t,n){this.props=e,this.context=t,this.refs=pj,this.updater=n||fj}Na.prototype.isReactComponent={};Na.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Na.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gj(){}gj.prototype=Na.prototype;function lg(e,t,n){this.props=e,this.context=t,this.refs=pj,this.updater=n||fj}var cg=lg.prototype=new gj;cg.constructor=lg;mj(cg,Na.prototype);cg.isPureReactComponent=!0;var Ly=Array.isArray,xj=Object.prototype.hasOwnProperty,ug={current:null},yj={key:!0,ref:!0,__self:!0,__source:!0};function vj(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)xj.call(t,r)&&!yj.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Tl,type:e,key:i,ref:a,props:s,_owner:ug.current}}function kT(e,t){return{$$typeof:Tl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tl}function DT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fy=/\/+/g;function Eh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DT(""+e.key):t.toString(36)}function Hc(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Tl:case pT:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Eh(a,0):r,Ly(s)?(n="",e!=null&&(n=e.replace(Fy,"$&/")+"/"),Hc(s,t,n,"",function(u){return u})):s!=null&&(dg(s)&&(s=kT(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Fy,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Ly(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Eh(i,l);a+=Hc(i,t,n,c,s)}else if(c=CT(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Eh(i,l++),a+=Hc(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Jl(e,t,n){if(e==null)return e;var r=[],s=0;return Hc(e,r,"","",function(i){return t.call(n,i,s++)}),r}function ET(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qt={current:null},qc={transition:null},TT={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:qc,ReactCurrentOwner:ug};function bj(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Jl,forEach:function(e,t,n){Jl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jl(e,function(){t++}),t},toArray:function(e){return Jl(e,function(t){return t})||[]},only:function(e){if(!dg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=Na;ke.Fragment=gT;ke.Profiler=yT;ke.PureComponent=lg;ke.StrictMode=xT;ke.Suspense=jT;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TT;ke.act=bj;ke.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mj({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ug.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)xj.call(t,c)&&!yj.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Tl,type:e.type,key:s,ref:i,props:r,_owner:a}};ke.createContext=function(e){return e={$$typeof:bT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vT,_context:e},e.Consumer=e};ke.createElement=vj;ke.createFactory=function(e){var t=vj.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:wT,render:e}};ke.isValidElement=dg;ke.lazy=function(e){return{$$typeof:NT,_payload:{_status:-1,_result:e},_init:ET}};ke.memo=function(e,t){return{$$typeof:ST,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=qc.transition;qc.transition={};try{e()}finally{qc.transition=t}};ke.unstable_act=bj;ke.useCallback=function(e,t){return qt.current.useCallback(e,t)};ke.useContext=function(e){return qt.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return qt.current.useDeferredValue(e)};ke.useEffect=function(e,t){return qt.current.useEffect(e,t)};ke.useId=function(){return qt.current.useId()};ke.useImperativeHandle=function(e,t,n){return qt.current.useImperativeHandle(e,t,n)};ke.useInsertionEffect=function(e,t){return qt.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return qt.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return qt.current.useMemo(e,t)};ke.useReducer=function(e,t,n){return qt.current.useReducer(e,t,n)};ke.useRef=function(e){return qt.current.useRef(e)};ke.useState=function(e){return qt.current.useState(e)};ke.useSyncExternalStore=function(e,t,n){return qt.current.useSyncExternalStore(e,t,n)};ke.useTransition=function(){return qt.current.useTransition()};ke.version="18.3.1";hj.exports=ke;var x=hj.exports;const re=Cd(x),hg=mT({__proto__:null,default:re},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT=x,_T=Symbol.for("react.element"),AT=Symbol.for("react.fragment"),IT=Object.prototype.hasOwnProperty,MT=PT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OT={key:!0,ref:!0,__self:!0,__source:!0};function wj(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)IT.call(t,r)&&!OT.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:_T,type:e,key:i,ref:a,props:s,_owner:MT.current}}kd.Fragment=AT;kd.jsx=wj;kd.jsxs=wj;dj.exports=kd;var o=dj.exports,jj={exports:{}},mn={},Sj={exports:{}},Nj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,P){var R=E.length;E.push(P);e:for(;0<R;){var B=R-1>>>1,q=E[B];if(0<s(q,P))E[B]=P,E[R]=q,R=B;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var P=E[0],R=E.pop();if(R!==P){E[0]=R;e:for(var B=0,q=E.length,J=q>>>1;B<J;){var ne=2*(B+1)-1,ae=E[ne],G=ne+1,O=E[G];if(0>s(ae,R))G<q&&0>s(O,ae)?(E[B]=O,E[G]=R,B=G):(E[B]=ae,E[ne]=R,B=ne);else if(G<q&&0>s(O,R))E[B]=O,E[G]=R,B=G;else break e}}return P}function s(E,P){var R=E.sortIndex-P.sortIndex;return R!==0?R:E.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(E){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=E)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function S(E){if(g=!1,w(E),!p)if(n(c)!==null)p=!0,W(j);else{var P=n(u);P!==null&&I(S,P.startTime-E)}}function j(E,P){p=!1,g&&(g=!1,b(N),N=-1),m=!0;var R=f;try{for(w(P),h=n(c);h!==null&&(!(h.expirationTime>P)||E&&!L());){var B=h.callback;if(typeof B=="function"){h.callback=null,f=h.priorityLevel;var q=B(h.expirationTime<=P);P=e.unstable_now(),typeof q=="function"?h.callback=q:h===n(c)&&r(c),w(P)}else r(c);h=n(c)}if(h!==null)var J=!0;else{var ne=n(u);ne!==null&&I(S,ne.startTime-P),J=!1}return J}finally{h=null,f=R,m=!1}}var k=!1,C=null,N=-1,D=5,T=-1;function L(){return!(e.unstable_now()-T<D)}function V(){if(C!==null){var E=e.unstable_now();T=E;var P=!0;try{P=C(!0,E)}finally{P?F():(k=!1,C=null)}}else k=!1}var F;if(typeof v=="function")F=function(){v(V)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,z=_.port2;_.port1.onmessage=V,F=function(){z.postMessage(null)}}else F=function(){y(V,0)};function W(E){C=E,k||(k=!0,F())}function I(E,P){N=y(function(){E(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,W(j))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var R=f;f=P;try{return E()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,P){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var R=f;f=E;try{return P()}finally{f=R}},e.unstable_scheduleCallback=function(E,P,R){var B=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?B+R:B):R=B,E){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=R+q,E={id:d++,callback:P,priorityLevel:E,startTime:R,expirationTime:q,sortIndex:-1},R>B?(E.sortIndex=R,t(u,E),n(c)===null&&E===n(u)&&(g?(b(N),N=-1):g=!0,I(S,R-B))):(E.sortIndex=q,t(c,E),p||m||(p=!0,W(j))),E},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(E){var P=f;return function(){var R=f;f=P;try{return E.apply(this,arguments)}finally{f=R}}}})(Nj);Sj.exports=Nj;var RT=Sj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT=x,hn=RT;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cj=new Set,Ho={};function bi(e,t){aa(e,t),aa(e+"Capture",t)}function aa(e,t){for(Ho[e]=t,e=0;e<t.length;e++)Cj.add(t[e])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pm=Object.prototype.hasOwnProperty,FT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$y={},zy={};function $T(e){return pm.call(zy,e)?!0:pm.call($y,e)?!1:FT.test(e)?zy[e]=!0:($y[e]=!0,!1)}function zT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BT(e,t,n,r){if(t===null||typeof t>"u"||zT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gt(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var fg=/[\-:]([a-z])/g;function mg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fg,mg);kt[t]=new Gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fg,mg);kt[t]=new Gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fg,mg);kt[t]=new Gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function pg(e,t,n,r){var s=kt.hasOwnProperty(t)?kt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BT(t,n,s,r)&&(n=null),r||s===null?$T(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $r=LT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zl=Symbol.for("react.element"),Ri=Symbol.for("react.portal"),Li=Symbol.for("react.fragment"),gg=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),kj=Symbol.for("react.provider"),Dj=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),yg=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),Ej=Symbol.for("react.offscreen"),By=Symbol.iterator;function Va(e){return e===null||typeof e!="object"?null:(e=By&&e[By]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Object.assign,Th;function mo(e){if(Th===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Th=t&&t[1]||""}return`
`+Th+e}var Ph=!1;function _h(e,t){if(!e||Ph)return"";Ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Ph=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mo(e):""}function VT(e){switch(e.tag){case 5:return mo(e.type);case 16:return mo("Lazy");case 13:return mo("Suspense");case 19:return mo("SuspenseList");case 0:case 2:case 15:return e=_h(e.type,!1),e;case 11:return e=_h(e.type.render,!1),e;case 1:return e=_h(e.type,!0),e;default:return""}}function vm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Li:return"Fragment";case Ri:return"Portal";case gm:return"Profiler";case gg:return"StrictMode";case xm:return"Suspense";case ym:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dj:return(e.displayName||"Context")+".Consumer";case kj:return(e._context.displayName||"Context")+".Provider";case xg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yg:return t=e.displayName||null,t!==null?t:vm(e.type)||"Memo";case Qr:t=e._payload,e=e._init;try{return vm(e(t))}catch{}}return null}function UT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vm(t);case 8:return t===gg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ss(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WT(e){var t=Tj(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ec(e){e._valueTracker||(e._valueTracker=WT(e))}function Pj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Tj(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bm(e,t){var n=t.checked;return Ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ss(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _j(e,t){t=t.checked,t!=null&&pg(e,"checked",t,!1)}function wm(e,t){_j(e,t);var n=Ss(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jm(e,t.type,n):t.hasOwnProperty("defaultValue")&&jm(e,t.type,Ss(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jm(e,t,n){(t!=="number"||pu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var po=Array.isArray;function Ji(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ss(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Sm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(po(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ss(n)}}function Aj(e,t){var n=Ss(t.value),r=Ss(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ij(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ij(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tc,Mj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tc=tc||document.createElement("div"),tc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HT=["Webkit","ms","Moz","O"];Object.keys(Co).forEach(function(e){HT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Co[t]=Co[e]})});function Oj(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Co.hasOwnProperty(e)&&Co[e]?(""+t).trim():t+"px"}function Rj(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Oj(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var qT=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cm(e,t){if(t){if(qT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function km(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=null;function vg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Em=null,Zi=null,ea=null;function qy(e){if(e=Al(e)){if(typeof Em!="function")throw Error(X(280));var t=e.stateNode;t&&(t=_d(t),Em(e.stateNode,e.type,t))}}function Lj(e){Zi?ea?ea.push(e):ea=[e]:Zi=e}function Fj(){if(Zi){var e=Zi,t=ea;if(ea=Zi=null,qy(e),t)for(e=0;e<t.length;e++)qy(t[e])}}function $j(e,t){return e(t)}function zj(){}var Ah=!1;function Bj(e,t,n){if(Ah)return e(t,n);Ah=!0;try{return $j(e,t,n)}finally{Ah=!1,(Zi!==null||ea!==null)&&(zj(),Fj())}}function Go(e,t){var n=e.stateNode;if(n===null)return null;var r=_d(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var Tm=!1;if(Ir)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){Tm=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{Tm=!1}function GT(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ko=!1,gu=null,xu=!1,Pm=null,YT={onError:function(e){ko=!0,gu=e}};function QT(e,t,n,r,s,i,a,l,c){ko=!1,gu=null,GT.apply(YT,arguments)}function KT(e,t,n,r,s,i,a,l,c){if(QT.apply(this,arguments),ko){if(ko){var u=gu;ko=!1,gu=null}else throw Error(X(198));xu||(xu=!0,Pm=u)}}function wi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gy(e){if(wi(e)!==e)throw Error(X(188))}function XT(e){var t=e.alternate;if(!t){if(t=wi(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Gy(s),e;if(i===r)return Gy(s),t;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function Uj(e){return e=XT(e),e!==null?Wj(e):null}function Wj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wj(e);if(t!==null)return t;e=e.sibling}return null}var Hj=hn.unstable_scheduleCallback,Yy=hn.unstable_cancelCallback,JT=hn.unstable_shouldYield,ZT=hn.unstable_requestPaint,rt=hn.unstable_now,eP=hn.unstable_getCurrentPriorityLevel,bg=hn.unstable_ImmediatePriority,qj=hn.unstable_UserBlockingPriority,yu=hn.unstable_NormalPriority,tP=hn.unstable_LowPriority,Gj=hn.unstable_IdlePriority,Dd=null,ar=null;function nP(e){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(Dd,e,void 0,(e.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:iP,rP=Math.log,sP=Math.LN2;function iP(e){return e>>>=0,e===0?32:31-(rP(e)/sP|0)|0}var nc=64,rc=4194304;function go(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=go(l):(i&=a,i!==0&&(r=go(i)))}else a=n&~s,a!==0?r=go(a):i!==0&&(r=go(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wn(t),s=1<<n,r|=e[n],t&=~s;return r}function aP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Wn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=aP(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function _m(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yj(){var e=nc;return nc<<=1,!(nc&4194240)&&(nc=64),e}function Ih(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wn(t),e[t]=n}function lP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Wn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function wg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Le=0;function Qj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kj,jg,Xj,Jj,Zj,Am=!1,sc=[],cs=null,us=null,ds=null,Yo=new Map,Qo=new Map,Jr=[],cP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qy(e,t){switch(e){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(t.pointerId)}}function Wa(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Al(t),t!==null&&jg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function uP(e,t,n,r,s){switch(t){case"focusin":return cs=Wa(cs,e,t,n,r,s),!0;case"dragenter":return us=Wa(us,e,t,n,r,s),!0;case"mouseover":return ds=Wa(ds,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Yo.set(i,Wa(Yo.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qo.set(i,Wa(Qo.get(i)||null,e,t,n,r,s)),!0}return!1}function eS(e){var t=Xs(e.target);if(t!==null){var n=wi(t);if(n!==null){if(t=n.tag,t===13){if(t=Vj(n),t!==null){e.blockedOn=t,Zj(e.priority,function(){Xj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Im(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Dm=r,n.target.dispatchEvent(r),Dm=null}else return t=Al(n),t!==null&&jg(t),e.blockedOn=n,!1;t.shift()}return!0}function Ky(e,t,n){Gc(e)&&n.delete(t)}function dP(){Am=!1,cs!==null&&Gc(cs)&&(cs=null),us!==null&&Gc(us)&&(us=null),ds!==null&&Gc(ds)&&(ds=null),Yo.forEach(Ky),Qo.forEach(Ky)}function Ha(e,t){e.blockedOn===t&&(e.blockedOn=null,Am||(Am=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,dP)))}function Ko(e){function t(s){return Ha(s,e)}if(0<sc.length){Ha(sc[0],e);for(var n=1;n<sc.length;n++){var r=sc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(cs!==null&&Ha(cs,e),us!==null&&Ha(us,e),ds!==null&&Ha(ds,e),Yo.forEach(t),Qo.forEach(t),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)eS(n),n.blockedOn===null&&Jr.shift()}var ta=$r.ReactCurrentBatchConfig,bu=!0;function hP(e,t,n,r){var s=Le,i=ta.transition;ta.transition=null;try{Le=1,Sg(e,t,n,r)}finally{Le=s,ta.transition=i}}function fP(e,t,n,r){var s=Le,i=ta.transition;ta.transition=null;try{Le=4,Sg(e,t,n,r)}finally{Le=s,ta.transition=i}}function Sg(e,t,n,r){if(bu){var s=Im(e,t,n,r);if(s===null)Uh(e,t,r,wu,n),Qy(e,r);else if(uP(s,e,t,n,r))r.stopPropagation();else if(Qy(e,r),t&4&&-1<cP.indexOf(e)){for(;s!==null;){var i=Al(s);if(i!==null&&Kj(i),i=Im(e,t,n,r),i===null&&Uh(e,t,r,wu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Uh(e,t,r,null,n)}}var wu=null;function Im(e,t,n,r){if(wu=null,e=vg(r),e=Xs(e),e!==null)if(t=wi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vj(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wu=e,null}function tS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eP()){case bg:return 1;case qj:return 4;case yu:case tP:return 16;case Gj:return 536870912;default:return 16}default:return 16}}var ns=null,Ng=null,Yc=null;function nS(){if(Yc)return Yc;var e,t=Ng,n=t.length,r,s="value"in ns?ns.value:ns.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Yc=s.slice(e,1<r?1-r:void 0)}function Qc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ic(){return!0}function Xy(){return!1}function pn(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ic:Xy,this.isPropagationStopped=Xy,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ic)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ic)},persist:function(){},isPersistent:ic}),t}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cg=pn(Ca),_l=Ze({},Ca,{view:0,detail:0}),mP=pn(_l),Mh,Oh,qa,Ed=Ze({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qa&&(qa&&e.type==="mousemove"?(Mh=e.screenX-qa.screenX,Oh=e.screenY-qa.screenY):Oh=Mh=0,qa=e),Mh)},movementY:function(e){return"movementY"in e?e.movementY:Oh}}),Jy=pn(Ed),pP=Ze({},Ed,{dataTransfer:0}),gP=pn(pP),xP=Ze({},_l,{relatedTarget:0}),Rh=pn(xP),yP=Ze({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),vP=pn(yP),bP=Ze({},Ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wP=pn(bP),jP=Ze({},Ca,{data:0}),Zy=pn(jP),SP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CP[e])?!!t[e]:!1}function kg(){return kP}var DP=Ze({},_l,{key:function(e){if(e.key){var t=SP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kg,charCode:function(e){return e.type==="keypress"?Qc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),EP=pn(DP),TP=Ze({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e0=pn(TP),PP=Ze({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kg}),_P=pn(PP),AP=Ze({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),IP=pn(AP),MP=Ze({},Ed,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OP=pn(MP),RP=[9,13,27,32],Dg=Ir&&"CompositionEvent"in window,Do=null;Ir&&"documentMode"in document&&(Do=document.documentMode);var LP=Ir&&"TextEvent"in window&&!Do,rS=Ir&&(!Dg||Do&&8<Do&&11>=Do),t0=" ",n0=!1;function sS(e,t){switch(e){case"keyup":return RP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fi=!1;function FP(e,t){switch(e){case"compositionend":return iS(t);case"keypress":return t.which!==32?null:(n0=!0,t0);case"textInput":return e=t.data,e===t0&&n0?null:e;default:return null}}function $P(e,t){if(Fi)return e==="compositionend"||!Dg&&sS(e,t)?(e=nS(),Yc=Ng=ns=null,Fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rS&&t.locale!=="ko"?null:t.data;default:return null}}var zP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zP[e.type]:t==="textarea"}function aS(e,t,n,r){Lj(r),t=ju(t,"onChange"),0<t.length&&(n=new Cg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Eo=null,Xo=null;function BP(e){xS(e,0)}function Td(e){var t=Bi(e);if(Pj(t))return e}function VP(e,t){if(e==="change")return t}var oS=!1;if(Ir){var Lh;if(Ir){var Fh="oninput"in document;if(!Fh){var s0=document.createElement("div");s0.setAttribute("oninput","return;"),Fh=typeof s0.oninput=="function"}Lh=Fh}else Lh=!1;oS=Lh&&(!document.documentMode||9<document.documentMode)}function i0(){Eo&&(Eo.detachEvent("onpropertychange",lS),Xo=Eo=null)}function lS(e){if(e.propertyName==="value"&&Td(Xo)){var t=[];aS(t,Xo,e,vg(e)),Bj(BP,t)}}function UP(e,t,n){e==="focusin"?(i0(),Eo=t,Xo=n,Eo.attachEvent("onpropertychange",lS)):e==="focusout"&&i0()}function WP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Td(Xo)}function HP(e,t){if(e==="click")return Td(t)}function qP(e,t){if(e==="input"||e==="change")return Td(t)}function GP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qn=typeof Object.is=="function"?Object.is:GP;function Jo(e,t){if(qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pm.call(t,s)||!qn(e[s],t[s]))return!1}return!0}function a0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o0(e,t){var n=a0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=a0(n)}}function cS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uS(){for(var e=window,t=pu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pu(e.document)}return t}function Eg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YP(e){var t=uS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cS(n.ownerDocument.documentElement,n)){if(r!==null&&Eg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=o0(n,i);var a=o0(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QP=Ir&&"documentMode"in document&&11>=document.documentMode,$i=null,Mm=null,To=null,Om=!1;function l0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Om||$i==null||$i!==pu(r)||(r=$i,"selectionStart"in r&&Eg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),To&&Jo(To,r)||(To=r,r=ju(Mm,"onSelect"),0<r.length&&(t=new Cg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$i)))}function ac(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zi={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},$h={},dS={};Ir&&(dS=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Pd(e){if($h[e])return $h[e];if(!zi[e])return e;var t=zi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dS)return $h[e]=t[n];return e}var hS=Pd("animationend"),fS=Pd("animationiteration"),mS=Pd("animationstart"),pS=Pd("transitionend"),gS=new Map,c0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(e,t){gS.set(e,t),bi(t,[e])}for(var zh=0;zh<c0.length;zh++){var Bh=c0[zh],KP=Bh.toLowerCase(),XP=Bh[0].toUpperCase()+Bh.slice(1);Ts(KP,"on"+XP)}Ts(hS,"onAnimationEnd");Ts(fS,"onAnimationIteration");Ts(mS,"onAnimationStart");Ts("dblclick","onDoubleClick");Ts("focusin","onFocus");Ts("focusout","onBlur");Ts(pS,"onTransitionEnd");aa("onMouseEnter",["mouseout","mouseover"]);aa("onMouseLeave",["mouseout","mouseover"]);aa("onPointerEnter",["pointerout","pointerover"]);aa("onPointerLeave",["pointerout","pointerover"]);bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JP=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function u0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,KT(r,t,void 0,e),e.currentTarget=null}function xS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;u0(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;u0(s,l,u),i=c}}}if(xu)throw e=Pm,xu=!1,Pm=null,e}function Be(e,t){var n=t[zm];n===void 0&&(n=t[zm]=new Set);var r=e+"__bubble";n.has(r)||(yS(t,e,2,!1),n.add(r))}function Vh(e,t,n){var r=0;t&&(r|=4),yS(n,e,r,t)}var oc="_reactListening"+Math.random().toString(36).slice(2);function Zo(e){if(!e[oc]){e[oc]=!0,Cj.forEach(function(n){n!=="selectionchange"&&(JP.has(n)||Vh(n,!1,e),Vh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oc]||(t[oc]=!0,Vh("selectionchange",!1,t))}}function yS(e,t,n,r){switch(tS(t)){case 1:var s=hP;break;case 4:s=fP;break;default:s=Sg}n=s.bind(null,t,n,e),s=void 0,!Tm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Uh(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Xs(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Bj(function(){var u=i,d=vg(n),h=[];e:{var f=gS.get(e);if(f!==void 0){var m=Cg,p=e;switch(e){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":m=EP;break;case"focusin":p="focus",m=Rh;break;case"focusout":p="blur",m=Rh;break;case"beforeblur":case"afterblur":m=Rh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=gP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_P;break;case hS:case fS:case mS:m=vP;break;case pS:m=IP;break;case"scroll":m=mP;break;case"wheel":m=OP;break;case"copy":case"cut":case"paste":m=wP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=e0}var g=(t&4)!==0,y=!g&&e==="scroll",b=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,w;v!==null;){w=v;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,b!==null&&(S=Go(v,b),S!=null&&g.push(el(v,S,w)))),y)break;v=v.return}0<g.length&&(f=new m(f,p,null,n,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Dm&&(p=n.relatedTarget||n.fromElement)&&(Xs(p)||p[Mr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?Xs(p):null,p!==null&&(y=wi(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=Jy,S="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=e0,S="onPointerLeave",b="onPointerEnter",v="pointer"),y=m==null?f:Bi(m),w=p==null?f:Bi(p),f=new g(S,v+"leave",m,n,d),f.target=y,f.relatedTarget=w,S=null,Xs(d)===u&&(g=new g(b,v+"enter",p,n,d),g.target=w,g.relatedTarget=y,S=g),y=S,m&&p)t:{for(g=m,b=p,v=0,w=g;w;w=Ti(w))v++;for(w=0,S=b;S;S=Ti(S))w++;for(;0<v-w;)g=Ti(g),v--;for(;0<w-v;)b=Ti(b),w--;for(;v--;){if(g===b||b!==null&&g===b.alternate)break t;g=Ti(g),b=Ti(b)}g=null}else g=null;m!==null&&d0(h,f,m,g,!1),p!==null&&y!==null&&d0(h,y,p,g,!0)}}e:{if(f=u?Bi(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var j=VP;else if(r0(f))if(oS)j=qP;else{j=WP;var k=UP}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=HP);if(j&&(j=j(e,u))){aS(h,j,n,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&jm(f,"number",f.value)}switch(k=u?Bi(u):window,e){case"focusin":(r0(k)||k.contentEditable==="true")&&($i=k,Mm=u,To=null);break;case"focusout":To=Mm=$i=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,l0(h,n,d);break;case"selectionchange":if(QP)break;case"keydown":case"keyup":l0(h,n,d)}var C;if(Dg)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Fi?sS(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(rS&&n.locale!=="ko"&&(Fi||N!=="onCompositionStart"?N==="onCompositionEnd"&&Fi&&(C=nS()):(ns=d,Ng="value"in ns?ns.value:ns.textContent,Fi=!0)),k=ju(u,N),0<k.length&&(N=new Zy(N,e,null,n,d),h.push({event:N,listeners:k}),C?N.data=C:(C=iS(n),C!==null&&(N.data=C)))),(C=LP?FP(e,n):$P(e,n))&&(u=ju(u,"onBeforeInput"),0<u.length&&(d=new Zy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}xS(h,t)})}function el(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ju(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Go(e,n),i!=null&&r.unshift(el(e,i,s)),i=Go(e,t),i!=null&&r.push(el(e,i,s))),e=e.return}return r}function Ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function d0(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Go(n,i),c!=null&&a.unshift(el(n,c,l))):s||(c=Go(n,i),c!=null&&a.push(el(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var ZP=/\r\n?/g,e_=/\u0000|\uFFFD/g;function h0(e){return(typeof e=="string"?e:""+e).replace(ZP,`
`).replace(e_,"")}function lc(e,t,n){if(t=h0(t),h0(e)!==t&&n)throw Error(X(425))}function Su(){}var Rm=null,Lm=null;function Fm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $m=typeof setTimeout=="function"?setTimeout:void 0,t_=typeof clearTimeout=="function"?clearTimeout:void 0,f0=typeof Promise=="function"?Promise:void 0,n_=typeof queueMicrotask=="function"?queueMicrotask:typeof f0<"u"?function(e){return f0.resolve(null).then(e).catch(r_)}:$m;function r_(e){setTimeout(function(){throw e})}function Wh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ko(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ko(t)}function hs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function m0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ka=Math.random().toString(36).slice(2),sr="__reactFiber$"+ka,tl="__reactProps$"+ka,Mr="__reactContainer$"+ka,zm="__reactEvents$"+ka,s_="__reactListeners$"+ka,i_="__reactHandles$"+ka;function Xs(e){var t=e[sr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mr]||n[sr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=m0(e);e!==null;){if(n=e[sr])return n;e=m0(e)}return t}e=n,n=e.parentNode}return null}function Al(e){return e=e[sr]||e[Mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function _d(e){return e[tl]||null}var Bm=[],Vi=-1;function Ps(e){return{current:e}}function We(e){0>Vi||(e.current=Bm[Vi],Bm[Vi]=null,Vi--)}function $e(e,t){Vi++,Bm[Vi]=e.current,e.current=t}var Ns={},Ot=Ps(Ns),Jt=Ps(!1),ci=Ns;function oa(e,t){var n=e.type.contextTypes;if(!n)return Ns;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Zt(e){return e=e.childContextTypes,e!=null}function Nu(){We(Jt),We(Ot)}function p0(e,t,n){if(Ot.current!==Ns)throw Error(X(168));$e(Ot,t),$e(Jt,n)}function vS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(X(108,UT(e)||"Unknown",s));return Ze({},n,r)}function Cu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ns,ci=Ot.current,$e(Ot,e),$e(Jt,Jt.current),!0}function g0(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=vS(e,t,ci),r.__reactInternalMemoizedMergedChildContext=e,We(Jt),We(Ot),$e(Ot,e)):We(Jt),$e(Jt,n)}var wr=null,Ad=!1,Hh=!1;function bS(e){wr===null?wr=[e]:wr.push(e)}function a_(e){Ad=!0,bS(e)}function _s(){if(!Hh&&wr!==null){Hh=!0;var e=0,t=Le;try{var n=wr;for(Le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wr=null,Ad=!1}catch(s){throw wr!==null&&(wr=wr.slice(e+1)),Hj(bg,_s),s}finally{Le=t,Hh=!1}}return null}var Ui=[],Wi=0,ku=null,Du=0,jn=[],Sn=0,ui=null,Sr=1,Nr="";function Bs(e,t){Ui[Wi++]=Du,Ui[Wi++]=ku,ku=e,Du=t}function wS(e,t,n){jn[Sn++]=Sr,jn[Sn++]=Nr,jn[Sn++]=ui,ui=e;var r=Sr;e=Nr;var s=32-Wn(r)-1;r&=~(1<<s),n+=1;var i=32-Wn(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Sr=1<<32-Wn(t)+s|n<<s|r,Nr=i+e}else Sr=1<<i|n<<s|r,Nr=e}function Tg(e){e.return!==null&&(Bs(e,1),wS(e,1,0))}function Pg(e){for(;e===ku;)ku=Ui[--Wi],Ui[Wi]=null,Du=Ui[--Wi],Ui[Wi]=null;for(;e===ui;)ui=jn[--Sn],jn[Sn]=null,Nr=jn[--Sn],jn[Sn]=null,Sr=jn[--Sn],jn[Sn]=null}var cn=null,on=null,He=!1,Bn=null;function jS(e,t){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function x0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cn=e,on=hs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cn=e,on=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ui!==null?{id:Sr,overflow:Nr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,cn=e,on=null,!0):!1;default:return!1}}function Vm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Um(e){if(He){var t=on;if(t){var n=t;if(!x0(e,t)){if(Vm(e))throw Error(X(418));t=hs(n.nextSibling);var r=cn;t&&x0(e,t)?jS(r,n):(e.flags=e.flags&-4097|2,He=!1,cn=e)}}else{if(Vm(e))throw Error(X(418));e.flags=e.flags&-4097|2,He=!1,cn=e}}}function y0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cn=e}function cc(e){if(e!==cn)return!1;if(!He)return y0(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fm(e.type,e.memoizedProps)),t&&(t=on)){if(Vm(e))throw SS(),Error(X(418));for(;t;)jS(e,t),t=hs(t.nextSibling)}if(y0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){on=hs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}on=null}}else on=cn?hs(e.stateNode.nextSibling):null;return!0}function SS(){for(var e=on;e;)e=hs(e.nextSibling)}function la(){on=cn=null,He=!1}function _g(e){Bn===null?Bn=[e]:Bn.push(e)}var o_=$r.ReactCurrentBatchConfig;function Ga(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function uc(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v0(e){var t=e._init;return t(e._payload)}function NS(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function n(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function s(b,v){return b=gs(b,v),b.index=0,b.sibling=null,b}function i(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=2,v):w):(b.flags|=2,v)):(b.flags|=1048576,v)}function a(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,w,S){return v===null||v.tag!==6?(v=Jh(w,b.mode,S),v.return=b,v):(v=s(v,w),v.return=b,v)}function c(b,v,w,S){var j=w.type;return j===Li?d(b,v,w.props.children,S,w.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qr&&v0(j)===v.type)?(S=s(v,w.props),S.ref=Ga(b,v,w),S.return=b,S):(S=nu(w.type,w.key,w.props,null,b.mode,S),S.ref=Ga(b,v,w),S.return=b,S)}function u(b,v,w,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Zh(w,b.mode,S),v.return=b,v):(v=s(v,w.children||[]),v.return=b,v)}function d(b,v,w,S,j){return v===null||v.tag!==7?(v=si(w,b.mode,S,j),v.return=b,v):(v=s(v,w),v.return=b,v)}function h(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Jh(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zl:return w=nu(v.type,v.key,v.props,null,b.mode,w),w.ref=Ga(b,null,v),w.return=b,w;case Ri:return v=Zh(v,b.mode,w),v.return=b,v;case Qr:var S=v._init;return h(b,S(v._payload),w)}if(po(v)||Va(v))return v=si(v,b.mode,w,null),v.return=b,v;uc(b,v)}return null}function f(b,v,w,S){var j=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zl:return w.key===j?c(b,v,w,S):null;case Ri:return w.key===j?u(b,v,w,S):null;case Qr:return j=w._init,f(b,v,j(w._payload),S)}if(po(w)||Va(w))return j!==null?null:d(b,v,w,S,null);uc(b,w)}return null}function m(b,v,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(w)||null,l(v,b,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zl:return b=b.get(S.key===null?w:S.key)||null,c(v,b,S,j);case Ri:return b=b.get(S.key===null?w:S.key)||null,u(v,b,S,j);case Qr:var k=S._init;return m(b,v,w,k(S._payload),j)}if(po(S)||Va(S))return b=b.get(w)||null,d(v,b,S,j,null);uc(v,S)}return null}function p(b,v,w,S){for(var j=null,k=null,C=v,N=v=0,D=null;C!==null&&N<w.length;N++){C.index>N?(D=C,C=null):D=C.sibling;var T=f(b,C,w[N],S);if(T===null){C===null&&(C=D);break}e&&C&&T.alternate===null&&t(b,C),v=i(T,v,N),k===null?j=T:k.sibling=T,k=T,C=D}if(N===w.length)return n(b,C),He&&Bs(b,N),j;if(C===null){for(;N<w.length;N++)C=h(b,w[N],S),C!==null&&(v=i(C,v,N),k===null?j=C:k.sibling=C,k=C);return He&&Bs(b,N),j}for(C=r(b,C);N<w.length;N++)D=m(C,b,N,w[N],S),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?N:D.key),v=i(D,v,N),k===null?j=D:k.sibling=D,k=D);return e&&C.forEach(function(L){return t(b,L)}),He&&Bs(b,N),j}function g(b,v,w,S){var j=Va(w);if(typeof j!="function")throw Error(X(150));if(w=j.call(w),w==null)throw Error(X(151));for(var k=j=null,C=v,N=v=0,D=null,T=w.next();C!==null&&!T.done;N++,T=w.next()){C.index>N?(D=C,C=null):D=C.sibling;var L=f(b,C,T.value,S);if(L===null){C===null&&(C=D);break}e&&C&&L.alternate===null&&t(b,C),v=i(L,v,N),k===null?j=L:k.sibling=L,k=L,C=D}if(T.done)return n(b,C),He&&Bs(b,N),j;if(C===null){for(;!T.done;N++,T=w.next())T=h(b,T.value,S),T!==null&&(v=i(T,v,N),k===null?j=T:k.sibling=T,k=T);return He&&Bs(b,N),j}for(C=r(b,C);!T.done;N++,T=w.next())T=m(C,b,N,T.value,S),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?N:T.key),v=i(T,v,N),k===null?j=T:k.sibling=T,k=T);return e&&C.forEach(function(V){return t(b,V)}),He&&Bs(b,N),j}function y(b,v,w,S){if(typeof w=="object"&&w!==null&&w.type===Li&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Zl:e:{for(var j=w.key,k=v;k!==null;){if(k.key===j){if(j=w.type,j===Li){if(k.tag===7){n(b,k.sibling),v=s(k,w.props.children),v.return=b,b=v;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qr&&v0(j)===k.type){n(b,k.sibling),v=s(k,w.props),v.ref=Ga(b,k,w),v.return=b,b=v;break e}n(b,k);break}else t(b,k);k=k.sibling}w.type===Li?(v=si(w.props.children,b.mode,S,w.key),v.return=b,b=v):(S=nu(w.type,w.key,w.props,null,b.mode,S),S.ref=Ga(b,v,w),S.return=b,b=S)}return a(b);case Ri:e:{for(k=w.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(b,v.sibling),v=s(v,w.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else t(b,v);v=v.sibling}v=Zh(w,b.mode,S),v.return=b,b=v}return a(b);case Qr:return k=w._init,y(b,v,k(w._payload),S)}if(po(w))return p(b,v,w,S);if(Va(w))return g(b,v,w,S);uc(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(b,v.sibling),v=s(v,w),v.return=b,b=v):(n(b,v),v=Jh(w,b.mode,S),v.return=b,b=v),a(b)):n(b,v)}return y}var ca=NS(!0),CS=NS(!1),Eu=Ps(null),Tu=null,Hi=null,Ag=null;function Ig(){Ag=Hi=Tu=null}function Mg(e){var t=Eu.current;We(Eu),e._currentValue=t}function Wm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function na(e,t){Tu=e,Ag=Hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xt=!0),e.firstContext=null)}function _n(e){var t=e._currentValue;if(Ag!==e)if(e={context:e,memoizedValue:t,next:null},Hi===null){if(Tu===null)throw Error(X(308));Hi=e,Tu.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var Js=null;function Og(e){Js===null?Js=[e]:Js.push(e)}function kS(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Og(t)):(n.next=s.next,s.next=n),t.interleaved=n,Or(e,r)}function Or(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kr=!1;function Rg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Er(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Or(e,n)}return s=r.interleaved,s===null?(t.next=t,Og(r)):(t.next=s.next,s.next=t),r.interleaved=t,Or(e,n)}function Kc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wg(e,n)}}function b0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pu(e,t,n,r){var s=e.updateQueue;Kr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(f=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(m,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(m,h,f):p,f==null)break e;h=Ze({},h,f);break e;case 2:Kr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);hi|=a,e.lanes=a,e.memoizedState=h}}function w0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Il={},or=Ps(Il),nl=Ps(Il),rl=Ps(Il);function Zs(e){if(e===Il)throw Error(X(174));return e}function Lg(e,t){switch($e(rl,t),$e(nl,e),$e(or,Il),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nm(t,e)}We(or),$e(or,t)}function ua(){We(or),We(nl),We(rl)}function ES(e){Zs(rl.current);var t=Zs(or.current),n=Nm(t,e.type);t!==n&&($e(nl,e),$e(or,n))}function Fg(e){nl.current===e&&(We(or),We(nl))}var Qe=Ps(0);function _u(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qh=[];function $g(){for(var e=0;e<qh.length;e++)qh[e]._workInProgressVersionPrimary=null;qh.length=0}var Xc=$r.ReactCurrentDispatcher,Gh=$r.ReactCurrentBatchConfig,di=0,Je=null,pt=null,yt=null,Au=!1,Po=!1,sl=0,l_=0;function Dt(){throw Error(X(321))}function zg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qn(e[n],t[n]))return!1;return!0}function Bg(e,t,n,r,s,i){if(di=i,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xc.current=e===null||e.memoizedState===null?h_:f_,e=n(r,s),Po){i=0;do{if(Po=!1,sl=0,25<=i)throw Error(X(301));i+=1,yt=pt=null,t.updateQueue=null,Xc.current=m_,e=n(r,s)}while(Po)}if(Xc.current=Iu,t=pt!==null&&pt.next!==null,di=0,yt=pt=Je=null,Au=!1,t)throw Error(X(300));return e}function Vg(){var e=sl!==0;return sl=0,e}function tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Je.memoizedState=yt=e:yt=yt.next=e,yt}function An(){if(pt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=yt===null?Je.memoizedState:yt.next;if(t!==null)yt=t,pt=e;else{if(e===null)throw Error(X(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},yt===null?Je.memoizedState=yt=e:yt=yt.next=e}return yt}function il(e,t){return typeof t=="function"?t(e):t}function Yh(e){var t=An(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=pt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((di&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,Je.lanes|=d,hi|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,qn(r,t.memoizedState)||(Xt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Je.lanes|=i,hi|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qh(e){var t=An(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);qn(i,t.memoizedState)||(Xt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function TS(){}function PS(e,t){var n=Je,r=An(),s=t(),i=!qn(r.memoizedState,s);if(i&&(r.memoizedState=s,Xt=!0),r=r.queue,Ug(IS.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,al(9,AS.bind(null,n,r,s,t),void 0,null),vt===null)throw Error(X(349));di&30||_S(n,t,s)}return s}function _S(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function AS(e,t,n,r){t.value=n,t.getSnapshot=r,MS(t)&&OS(e)}function IS(e,t,n){return n(function(){MS(t)&&OS(e)})}function MS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qn(e,n)}catch{return!0}}function OS(e){var t=Or(e,1);t!==null&&Hn(t,e,1,-1)}function j0(e){var t=tr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:e},t.queue=e,e=e.dispatch=d_.bind(null,Je,e),[t.memoizedState,e]}function al(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function RS(){return An().memoizedState}function Jc(e,t,n,r){var s=tr();Je.flags|=e,s.memoizedState=al(1|t,n,void 0,r===void 0?null:r)}function Id(e,t,n,r){var s=An();r=r===void 0?null:r;var i=void 0;if(pt!==null){var a=pt.memoizedState;if(i=a.destroy,r!==null&&zg(r,a.deps)){s.memoizedState=al(t,n,i,r);return}}Je.flags|=e,s.memoizedState=al(1|t,n,i,r)}function S0(e,t){return Jc(8390656,8,e,t)}function Ug(e,t){return Id(2048,8,e,t)}function LS(e,t){return Id(4,2,e,t)}function FS(e,t){return Id(4,4,e,t)}function $S(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zS(e,t,n){return n=n!=null?n.concat([e]):null,Id(4,4,$S.bind(null,t,e),n)}function Wg(){}function BS(e,t){var n=An();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function VS(e,t){var n=An();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function US(e,t,n){return di&21?(qn(n,t)||(n=Yj(),Je.lanes|=n,hi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xt=!0),e.memoizedState=n)}function c_(e,t){var n=Le;Le=n!==0&&4>n?n:4,e(!0);var r=Gh.transition;Gh.transition={};try{e(!1),t()}finally{Le=n,Gh.transition=r}}function WS(){return An().memoizedState}function u_(e,t,n){var r=ps(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HS(e))qS(t,n);else if(n=kS(e,t,n,r),n!==null){var s=Ut();Hn(n,e,r,s),GS(n,t,r)}}function d_(e,t,n){var r=ps(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HS(e))qS(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,qn(l,a)){var c=t.interleaved;c===null?(s.next=s,Og(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=kS(e,t,s,r),n!==null&&(s=Ut(),Hn(n,e,r,s),GS(n,t,r))}}function HS(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function qS(e,t){Po=Au=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function GS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wg(e,n)}}var Iu={readContext:_n,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},h_={readContext:_n,useCallback:function(e,t){return tr().memoizedState=[e,t===void 0?null:t],e},useContext:_n,useEffect:S0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jc(4194308,4,$S.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jc(4,2,e,t)},useMemo:function(e,t){var n=tr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=tr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=u_.bind(null,Je,e),[r.memoizedState,e]},useRef:function(e){var t=tr();return e={current:e},t.memoizedState=e},useState:j0,useDebugValue:Wg,useDeferredValue:function(e){return tr().memoizedState=e},useTransition:function(){var e=j0(!1),t=e[0];return e=c_.bind(null,e[1]),tr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Je,s=tr();if(He){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),vt===null)throw Error(X(349));di&30||_S(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,S0(IS.bind(null,r,i,e),[e]),r.flags|=2048,al(9,AS.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=tr(),t=vt.identifierPrefix;if(He){var n=Nr,r=Sr;n=(r&~(1<<32-Wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=sl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=l_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f_={readContext:_n,useCallback:BS,useContext:_n,useEffect:Ug,useImperativeHandle:zS,useInsertionEffect:LS,useLayoutEffect:FS,useMemo:VS,useReducer:Yh,useRef:RS,useState:function(){return Yh(il)},useDebugValue:Wg,useDeferredValue:function(e){var t=An();return US(t,pt.memoizedState,e)},useTransition:function(){var e=Yh(il)[0],t=An().memoizedState;return[e,t]},useMutableSource:TS,useSyncExternalStore:PS,useId:WS,unstable_isNewReconciler:!1},m_={readContext:_n,useCallback:BS,useContext:_n,useEffect:Ug,useImperativeHandle:zS,useInsertionEffect:LS,useLayoutEffect:FS,useMemo:VS,useReducer:Qh,useRef:RS,useState:function(){return Qh(il)},useDebugValue:Wg,useDeferredValue:function(e){var t=An();return pt===null?t.memoizedState=e:US(t,pt.memoizedState,e)},useTransition:function(){var e=Qh(il)[0],t=An().memoizedState;return[e,t]},useMutableSource:TS,useSyncExternalStore:PS,useId:WS,unstable_isNewReconciler:!1};function $n(e,t){if(e&&e.defaultProps){t=Ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Md={isMounted:function(e){return(e=e._reactInternals)?wi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ut(),s=ps(e),i=Er(r,s);i.payload=t,n!=null&&(i.callback=n),t=fs(e,i,s),t!==null&&(Hn(t,e,s,r),Kc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ut(),s=ps(e),i=Er(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=fs(e,i,s),t!==null&&(Hn(t,e,s,r),Kc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ut(),r=ps(e),s=Er(n,r);s.tag=2,t!=null&&(s.callback=t),t=fs(e,s,r),t!==null&&(Hn(t,e,r,n),Kc(t,e,r))}};function N0(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Jo(n,r)||!Jo(s,i):!0}function YS(e,t,n){var r=!1,s=Ns,i=t.contextType;return typeof i=="object"&&i!==null?i=_n(i):(s=Zt(t)?ci:Ot.current,r=t.contextTypes,i=(r=r!=null)?oa(e,s):Ns),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Md,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function C0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Md.enqueueReplaceState(t,t.state,null)}function qm(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Rg(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=_n(i):(i=Zt(t)?ci:Ot.current,s.context=oa(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Hm(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Md.enqueueReplaceState(s,s.state,null),Pu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function da(e,t){try{var n="",r=t;do n+=VT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Kh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var p_=typeof WeakMap=="function"?WeakMap:Map;function QS(e,t,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ou||(Ou=!0,rp=r),Gm(e,t)},n}function KS(e,t,n){n=Er(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Gm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Gm(e,t),typeof r!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function k0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new p_;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=T_.bind(null,e,t,n),t.then(e,e))}function D0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function E0(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Er(-1,1),t.tag=2,fs(n,t,1))),n.lanes|=1),e)}var g_=$r.ReactCurrentOwner,Xt=!1;function Bt(e,t,n,r){t.child=e===null?CS(t,null,n,r):ca(t,e.child,n,r)}function T0(e,t,n,r,s){n=n.render;var i=t.ref;return na(t,s),r=Bg(e,t,n,r,i,s),n=Vg(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rr(e,t,s)):(He&&n&&Tg(t),t.flags|=1,Bt(e,t,r,s),t.child)}function P0(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Jg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,XS(e,t,i,r,s)):(e=nu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jo,n(a,r)&&e.ref===t.ref)return Rr(e,t,s)}return t.flags|=1,e=gs(i,r),e.ref=t.ref,e.return=t,t.child=e}function XS(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Jo(i,r)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,Rr(e,t,s)}return Ym(e,t,n,r,s)}function JS(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Gi,rn),rn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(Gi,rn),rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(Gi,rn),rn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,$e(Gi,rn),rn|=r;return Bt(e,t,s,n),t.child}function ZS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ym(e,t,n,r,s){var i=Zt(n)?ci:Ot.current;return i=oa(t,i),na(t,s),n=Bg(e,t,n,r,i,s),r=Vg(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rr(e,t,s)):(He&&r&&Tg(t),t.flags|=1,Bt(e,t,n,s),t.child)}function _0(e,t,n,r,s){if(Zt(n)){var i=!0;Cu(t)}else i=!1;if(na(t,s),t.stateNode===null)Zc(e,t),YS(t,n,r),qm(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=_n(u):(u=Zt(n)?ci:Ot.current,u=oa(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&C0(t,a,r,u),Kr=!1;var f=t.memoizedState;a.state=f,Pu(t,r,a,s),c=t.memoizedState,l!==r||f!==c||Jt.current||Kr?(typeof d=="function"&&(Hm(t,n,d,r),c=t.memoizedState),(l=Kr||N0(t,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,DS(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:$n(t.type,l),a.props=u,h=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=_n(c):(c=Zt(n)?ci:Ot.current,c=oa(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&C0(t,a,r,c),Kr=!1,f=t.memoizedState,a.state=f,Pu(t,r,a,s);var p=t.memoizedState;l!==h||f!==p||Jt.current||Kr?(typeof m=="function"&&(Hm(t,n,m,r),p=t.memoizedState),(u=Kr||N0(t,n,u,r,f,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Qm(e,t,n,r,i,s)}function Qm(e,t,n,r,s,i){ZS(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&g0(t,n,!1),Rr(e,t,i);r=t.stateNode,g_.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ca(t,e.child,null,i),t.child=ca(t,null,l,i)):Bt(e,t,l,i),t.memoizedState=r.state,s&&g0(t,n,!0),t.child}function eN(e){var t=e.stateNode;t.pendingContext?p0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&p0(e,t.context,!1),Lg(e,t.containerInfo)}function A0(e,t,n,r,s){return la(),_g(s),t.flags|=256,Bt(e,t,n,r),t.child}var Km={dehydrated:null,treeContext:null,retryLane:0};function Xm(e){return{baseLanes:e,cachePool:null,transitions:null}}function tN(e,t,n){var r=t.pendingProps,s=Qe.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),$e(Qe,s&1),e===null)return Um(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ld(a,r,0,null),e=si(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Xm(n),t.memoizedState=Km,e):Hg(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return x_(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=gs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=gs(l,i):(i=si(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Xm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Km,r}return i=e.child,e=i.sibling,r=gs(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hg(e,t){return t=Ld({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dc(e,t,n,r){return r!==null&&_g(r),ca(t,e.child,null,n),e=Hg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x_(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Kh(Error(X(422))),dc(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ld({mode:"visible",children:r.children},s,0,null),i=si(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ca(t,e.child,null,a),t.child.memoizedState=Xm(a),t.memoizedState=Km,i);if(!(t.mode&1))return dc(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(X(419)),r=Kh(i,r,void 0),dc(e,t,a,r)}if(l=(a&e.childLanes)!==0,Xt||l){if(r=vt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Or(e,s),Hn(r,e,s,-1))}return Xg(),r=Kh(Error(X(421))),dc(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=P_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,on=hs(s.nextSibling),cn=t,He=!0,Bn=null,e!==null&&(jn[Sn++]=Sr,jn[Sn++]=Nr,jn[Sn++]=ui,Sr=e.id,Nr=e.overflow,ui=t),t=Hg(t,r.children),t.flags|=4096,t)}function I0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wm(e.return,t,n)}function Xh(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function nN(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Bt(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&I0(e,n,t);else if(e.tag===19)I0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&_u(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Xh(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_u(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Xh(t,!0,n,null,i);break;case"together":Xh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=gs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function y_(e,t,n){switch(t.tag){case 3:eN(t),la();break;case 5:ES(t);break;case 1:Zt(t.type)&&Cu(t);break;case 4:Lg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;$e(Eu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?tN(e,t,n):($e(Qe,Qe.current&1),e=Rr(e,t,n),e!==null?e.sibling:null);$e(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return nN(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,JS(e,t,n)}return Rr(e,t,n)}var rN,Jm,sN,iN;rN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jm=function(){};sN=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Zs(or.current);var i=null;switch(n){case"input":s=bm(e,s),r=bm(e,r),i=[];break;case"select":s=Ze({},s,{value:void 0}),r=Ze({},r,{value:void 0}),i=[];break;case"textarea":s=Sm(e,s),r=Sm(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Su)}Cm(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ho.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ho.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};iN=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ya(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function v_(e,t,n){var r=t.pendingProps;switch(Pg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Zt(t.type)&&Nu(),Et(t),null;case 3:return r=t.stateNode,ua(),We(Jt),We(Ot),$g(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bn!==null&&(ap(Bn),Bn=null))),Jm(e,t),Et(t),null;case 5:Fg(t);var s=Zs(rl.current);if(n=t.type,e!==null&&t.stateNode!=null)sN(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return Et(t),null}if(e=Zs(or.current),cc(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[sr]=t,r[tl]=i,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<xo.length;s++)Be(xo[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Vy(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":Wy(r,i),Be("invalid",r)}Cm(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&lc(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&lc(r.textContent,l,e),s=["children",""+l]):Ho.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Be("scroll",r)}switch(n){case"input":ec(r),Uy(r,i,!0);break;case"textarea":ec(r),Hy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Su)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ij(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[sr]=t,e[tl]=r,rN(e,t,!1,!1),t.stateNode=e;e:{switch(a=km(n,r),n){case"dialog":Be("cancel",e),Be("close",e),s=r;break;case"iframe":case"object":case"embed":Be("load",e),s=r;break;case"video":case"audio":for(s=0;s<xo.length;s++)Be(xo[s],e);s=r;break;case"source":Be("error",e),s=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),s=r;break;case"details":Be("toggle",e),s=r;break;case"input":Vy(e,r),s=bm(e,r),Be("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ze({},r,{value:void 0}),Be("invalid",e);break;case"textarea":Wy(e,r),s=Sm(e,r),Be("invalid",e);break;default:s=r}Cm(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Rj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Mj(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&qo(e,c):typeof c=="number"&&qo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ho.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Be("scroll",e):c!=null&&pg(e,i,c,a))}switch(n){case"input":ec(e),Uy(e,r,!1);break;case"textarea":ec(e),Hy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ss(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ji(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ji(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)iN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=Zs(rl.current),Zs(or.current),cc(t)){if(r=t.stateNode,n=t.memoizedProps,r[sr]=t,(i=r.nodeValue!==n)&&(e=cn,e!==null))switch(e.tag){case 3:lc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lc(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=t,t.stateNode=r}return Et(t),null;case 13:if(We(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&on!==null&&t.mode&1&&!(t.flags&128))SS(),la(),t.flags|=98560,i=!1;else if(i=cc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(X(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[sr]=t}else la(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),i=!1}else Bn!==null&&(ap(Bn),Bn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?gt===0&&(gt=3):Xg())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return ua(),Jm(e,t),e===null&&Zo(t.stateNode.containerInfo),Et(t),null;case 10:return Mg(t.type._context),Et(t),null;case 17:return Zt(t.type)&&Nu(),Et(t),null;case 19:if(We(Qe),i=t.memoizedState,i===null)return Et(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Ya(i,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=_u(e),a!==null){for(t.flags|=128,Ya(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(Qe,Qe.current&1|2),t.child}e=e.sibling}i.tail!==null&&rt()>ha&&(t.flags|=128,r=!0,Ya(i,!1),t.lanes=4194304)}else{if(!r)if(e=_u(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ya(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!He)return Et(t),null}else 2*rt()-i.renderingStartTime>ha&&n!==1073741824&&(t.flags|=128,r=!0,Ya(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=rt(),t.sibling=null,n=Qe.current,$e(Qe,r?n&1|2:n&1),t):(Et(t),null);case 22:case 23:return Kg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rn&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function b_(e,t){switch(Pg(t),t.tag){case 1:return Zt(t.type)&&Nu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ua(),We(Jt),We(Ot),$g(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fg(t),null;case 13:if(We(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));la()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Qe),null;case 4:return ua(),null;case 10:return Mg(t.type._context),null;case 22:case 23:return Kg(),null;case 24:return null;default:return null}}var hc=!1,_t=!1,w_=typeof WeakSet=="function"?WeakSet:Set,oe=null;function qi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function Zm(e,t,n){try{n()}catch(r){tt(e,t,r)}}var M0=!1;function j_(e,t){if(Rm=bu,e=uS(),Eg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lm={focusedElem:e,selectionRange:n},bu=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:$n(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(S){tt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return p=M0,M0=!1,p}function _o(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zm(t,n,i)}s=s.next}while(s!==r)}}function Od(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ep(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function aN(e){var t=e.alternate;t!==null&&(e.alternate=null,aN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sr],delete t[tl],delete t[zm],delete t[s_],delete t[i_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oN(e){return e.tag===5||e.tag===3||e.tag===4}function O0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Su));else if(r!==4&&(e=e.child,e!==null))for(tp(e,t,n),e=e.sibling;e!==null;)tp(e,t,n),e=e.sibling}function np(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(np(e,t,n),e=e.sibling;e!==null;)np(e,t,n),e=e.sibling}var jt=null,zn=!1;function Ur(e,t,n){for(n=n.child;n!==null;)lN(e,t,n),n=n.sibling}function lN(e,t,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(Dd,n)}catch{}switch(n.tag){case 5:_t||qi(n,t);case 6:var r=jt,s=zn;jt=null,Ur(e,t,n),jt=r,zn=s,jt!==null&&(zn?(e=jt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(zn?(e=jt,n=n.stateNode,e.nodeType===8?Wh(e.parentNode,n):e.nodeType===1&&Wh(e,n),Ko(e)):Wh(jt,n.stateNode));break;case 4:r=jt,s=zn,jt=n.stateNode.containerInfo,zn=!0,Ur(e,t,n),jt=r,zn=s;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Zm(n,t,a),s=s.next}while(s!==r)}Ur(e,t,n);break;case 1:if(!_t&&(qi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){tt(n,t,l)}Ur(e,t,n);break;case 21:Ur(e,t,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,Ur(e,t,n),_t=r):Ur(e,t,n);break;default:Ur(e,t,n)}}function R0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new w_),t.forEach(function(r){var s=__.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:jt=l.stateNode,zn=!1;break e;case 3:jt=l.stateNode.containerInfo,zn=!0;break e;case 4:jt=l.stateNode.containerInfo,zn=!0;break e}l=l.return}if(jt===null)throw Error(X(160));lN(i,a,s),jt=null,zn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){tt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cN(t,e),t=t.sibling}function cN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fn(t,e),Jn(e),r&4){try{_o(3,e,e.return),Od(3,e)}catch(g){tt(e,e.return,g)}try{_o(5,e,e.return)}catch(g){tt(e,e.return,g)}}break;case 1:Fn(t,e),Jn(e),r&512&&n!==null&&qi(n,n.return);break;case 5:if(Fn(t,e),Jn(e),r&512&&n!==null&&qi(n,n.return),e.flags&32){var s=e.stateNode;try{qo(s,"")}catch(g){tt(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&_j(s,i),km(l,a);var u=km(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Rj(s,h):d==="dangerouslySetInnerHTML"?Mj(s,h):d==="children"?qo(s,h):pg(s,d,h,u)}switch(l){case"input":wm(s,i);break;case"textarea":Aj(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ji(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ji(s,!!i.multiple,i.defaultValue,!0):Ji(s,!!i.multiple,i.multiple?[]:"",!1))}s[tl]=i}catch(g){tt(e,e.return,g)}}break;case 6:if(Fn(t,e),Jn(e),r&4){if(e.stateNode===null)throw Error(X(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){tt(e,e.return,g)}}break;case 3:if(Fn(t,e),Jn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ko(t.containerInfo)}catch(g){tt(e,e.return,g)}break;case 4:Fn(t,e),Jn(e);break;case 13:Fn(t,e),Jn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yg=rt())),r&4&&R0(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(u=_t)||d,Fn(t,e),_t=u):Fn(t,e),Jn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(oe=e,d=e.child;d!==null;){for(h=oe=d;oe!==null;){switch(f=oe,m=f.child,f.tag){case 0:case 11:case 14:case 15:_o(4,f,f.return);break;case 1:qi(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){tt(r,n,g)}}break;case 5:qi(f,f.return);break;case 22:if(f.memoizedState!==null){F0(h);continue}}m!==null?(m.return=f,oe=m):F0(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Oj("display",a))}catch(g){tt(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){tt(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fn(t,e),Jn(e),r&4&&R0(e);break;case 21:break;default:Fn(t,e),Jn(e)}}function Jn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(oN(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qo(s,""),r.flags&=-33);var i=O0(e);np(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=O0(e);tp(e,l,a);break;default:throw Error(X(161))}}catch(c){tt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S_(e,t,n){oe=e,uN(e)}function uN(e,t,n){for(var r=(e.mode&1)!==0;oe!==null;){var s=oe,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||hc;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||_t;l=hc;var u=_t;if(hc=a,(_t=c)&&!u)for(oe=s;oe!==null;)a=oe,c=a.child,a.tag===22&&a.memoizedState!==null?$0(s):c!==null?(c.return=a,oe=c):$0(s);for(;i!==null;)oe=i,uN(i),i=i.sibling;oe=s,hc=l,_t=u}L0(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,oe=i):L0(e)}}function L0(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||Od(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_t)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:$n(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&w0(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}w0(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ko(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}_t||t.flags&512&&ep(t)}catch(f){tt(t,t.return,f)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function F0(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function $0(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Od(4,t)}catch(c){tt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){tt(t,s,c)}}var i=t.return;try{ep(t)}catch(c){tt(t,i,c)}break;case 5:var a=t.return;try{ep(t)}catch(c){tt(t,a,c)}}}catch(c){tt(t,t.return,c)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var N_=Math.ceil,Mu=$r.ReactCurrentDispatcher,qg=$r.ReactCurrentOwner,Tn=$r.ReactCurrentBatchConfig,_e=0,vt=null,ct=null,Nt=0,rn=0,Gi=Ps(0),gt=0,ol=null,hi=0,Rd=0,Gg=0,Ao=null,Qt=null,Yg=0,ha=1/0,vr=null,Ou=!1,rp=null,ms=null,fc=!1,rs=null,Ru=0,Io=0,sp=null,eu=-1,tu=0;function Ut(){return _e&6?rt():eu!==-1?eu:eu=rt()}function ps(e){return e.mode&1?_e&2&&Nt!==0?Nt&-Nt:o_.transition!==null?(tu===0&&(tu=Yj()),tu):(e=Le,e!==0||(e=window.event,e=e===void 0?16:tS(e.type)),e):1}function Hn(e,t,n,r){if(50<Io)throw Io=0,sp=null,Error(X(185));Pl(e,n,r),(!(_e&2)||e!==vt)&&(e===vt&&(!(_e&2)&&(Rd|=n),gt===4&&Zr(e,Nt)),en(e,r),n===1&&_e===0&&!(t.mode&1)&&(ha=rt()+500,Ad&&_s()))}function en(e,t){var n=e.callbackNode;oP(e,t);var r=vu(e,e===vt?Nt:0);if(r===0)n!==null&&Yy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yy(n),t===1)e.tag===0?a_(z0.bind(null,e)):bS(z0.bind(null,e)),n_(function(){!(_e&6)&&_s()}),n=null;else{switch(Qj(r)){case 1:n=bg;break;case 4:n=qj;break;case 16:n=yu;break;case 536870912:n=Gj;break;default:n=yu}n=yN(n,dN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dN(e,t){if(eu=-1,tu=0,_e&6)throw Error(X(327));var n=e.callbackNode;if(ra()&&e.callbackNode!==n)return null;var r=vu(e,e===vt?Nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lu(e,r);else{t=r;var s=_e;_e|=2;var i=fN();(vt!==e||Nt!==t)&&(vr=null,ha=rt()+500,ri(e,t));do try{D_();break}catch(l){hN(e,l)}while(!0);Ig(),Mu.current=i,_e=s,ct!==null?t=0:(vt=null,Nt=0,t=gt)}if(t!==0){if(t===2&&(s=_m(e),s!==0&&(r=s,t=ip(e,s))),t===1)throw n=ol,ri(e,0),Zr(e,r),en(e,rt()),n;if(t===6)Zr(e,r);else{if(s=e.current.alternate,!(r&30)&&!C_(s)&&(t=Lu(e,r),t===2&&(i=_m(e),i!==0&&(r=i,t=ip(e,i))),t===1))throw n=ol,ri(e,0),Zr(e,r),en(e,rt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:Vs(e,Qt,vr);break;case 3:if(Zr(e,r),(r&130023424)===r&&(t=Yg+500-rt(),10<t)){if(vu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=$m(Vs.bind(null,e,Qt,vr),t);break}Vs(e,Qt,vr);break;case 4:if(Zr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Wn(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*N_(r/1960))-r,10<r){e.timeoutHandle=$m(Vs.bind(null,e,Qt,vr),r);break}Vs(e,Qt,vr);break;case 5:Vs(e,Qt,vr);break;default:throw Error(X(329))}}}return en(e,rt()),e.callbackNode===n?dN.bind(null,e):null}function ip(e,t){var n=Ao;return e.current.memoizedState.isDehydrated&&(ri(e,t).flags|=256),e=Lu(e,t),e!==2&&(t=Qt,Qt=n,t!==null&&ap(t)),e}function ap(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function C_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zr(e,t){for(t&=~Gg,t&=~Rd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wn(t),r=1<<n;e[n]=-1,t&=~r}}function z0(e){if(_e&6)throw Error(X(327));ra();var t=vu(e,0);if(!(t&1))return en(e,rt()),null;var n=Lu(e,t);if(e.tag!==0&&n===2){var r=_m(e);r!==0&&(t=r,n=ip(e,r))}if(n===1)throw n=ol,ri(e,0),Zr(e,t),en(e,rt()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vs(e,Qt,vr),en(e,rt()),null}function Qg(e,t){var n=_e;_e|=1;try{return e(t)}finally{_e=n,_e===0&&(ha=rt()+500,Ad&&_s())}}function fi(e){rs!==null&&rs.tag===0&&!(_e&6)&&ra();var t=_e;_e|=1;var n=Tn.transition,r=Le;try{if(Tn.transition=null,Le=1,e)return e()}finally{Le=r,Tn.transition=n,_e=t,!(_e&6)&&_s()}}function Kg(){rn=Gi.current,We(Gi)}function ri(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,t_(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nu();break;case 3:ua(),We(Jt),We(Ot),$g();break;case 5:Fg(r);break;case 4:ua();break;case 13:We(Qe);break;case 19:We(Qe);break;case 10:Mg(r.type._context);break;case 22:case 23:Kg()}n=n.return}if(vt=e,ct=e=gs(e.current,null),Nt=rn=t,gt=0,ol=null,Gg=Rd=hi=0,Qt=Ao=null,Js!==null){for(t=0;t<Js.length;t++)if(n=Js[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Js=null}return e}function hN(e,t){do{var n=ct;try{if(Ig(),Xc.current=Iu,Au){for(var r=Je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Au=!1}if(di=0,yt=pt=Je=null,Po=!1,sl=0,qg.current=null,n===null||n.return===null){gt=1,ol=t,ct=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=Nt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=D0(a);if(m!==null){m.flags&=-257,E0(m,a,l,i,t),m.mode&1&&k0(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){k0(i,u,t),Xg();break e}c=Error(X(426))}}else if(He&&l.mode&1){var y=D0(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),E0(y,a,l,i,t),_g(da(c,l));break e}}i=c=da(c,l),gt!==4&&(gt=2),Ao===null?Ao=[i]:Ao.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=QS(i,c,t);b0(i,b);break e;case 1:l=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ms===null||!ms.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=KS(i,l,t);b0(i,S);break e}}i=i.return}while(i!==null)}pN(n)}catch(j){t=j,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function fN(){var e=Mu.current;return Mu.current=Iu,e===null?Iu:e}function Xg(){(gt===0||gt===3||gt===2)&&(gt=4),vt===null||!(hi&268435455)&&!(Rd&268435455)||Zr(vt,Nt)}function Lu(e,t){var n=_e;_e|=2;var r=fN();(vt!==e||Nt!==t)&&(vr=null,ri(e,t));do try{k_();break}catch(s){hN(e,s)}while(!0);if(Ig(),_e=n,Mu.current=r,ct!==null)throw Error(X(261));return vt=null,Nt=0,gt}function k_(){for(;ct!==null;)mN(ct)}function D_(){for(;ct!==null&&!JT();)mN(ct)}function mN(e){var t=xN(e.alternate,e,rn);e.memoizedProps=e.pendingProps,t===null?pN(e):ct=t,qg.current=null}function pN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=b_(n,t),n!==null){n.flags&=32767,ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,ct=null;return}}else if(n=v_(n,t,rn),n!==null){ct=n;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);gt===0&&(gt=5)}function Vs(e,t,n){var r=Le,s=Tn.transition;try{Tn.transition=null,Le=1,E_(e,t,n,r)}finally{Tn.transition=s,Le=r}return null}function E_(e,t,n,r){do ra();while(rs!==null);if(_e&6)throw Error(X(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(lP(e,i),e===vt&&(ct=vt=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fc||(fc=!0,yN(yu,function(){return ra(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Tn.transition,Tn.transition=null;var a=Le;Le=1;var l=_e;_e|=4,qg.current=null,j_(e,n),cN(n,e),YP(Lm),bu=!!Rm,Lm=Rm=null,e.current=n,S_(n),ZT(),_e=l,Le=a,Tn.transition=i}else e.current=n;if(fc&&(fc=!1,rs=e,Ru=s),i=e.pendingLanes,i===0&&(ms=null),nP(n.stateNode),en(e,rt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ou)throw Ou=!1,e=rp,rp=null,e;return Ru&1&&e.tag!==0&&ra(),i=e.pendingLanes,i&1?e===sp?Io++:(Io=0,sp=e):Io=0,_s(),null}function ra(){if(rs!==null){var e=Qj(Ru),t=Tn.transition,n=Le;try{if(Tn.transition=null,Le=16>e?16:e,rs===null)var r=!1;else{if(e=rs,rs=null,Ru=0,_e&6)throw Error(X(331));var s=_e;for(_e|=4,oe=e.current;oe!==null;){var i=oe,a=i.child;if(oe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(oe=u;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:_o(8,d,i)}var h=d.child;if(h!==null)h.return=d,oe=h;else for(;oe!==null;){d=oe;var f=d.sibling,m=d.return;if(aN(d),d===u){oe=null;break}if(f!==null){f.return=m,oe=f;break}oe=m}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}oe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,oe=a;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_o(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,oe=b;break e}oe=i.return}}var v=e.current;for(oe=v;oe!==null;){a=oe;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,oe=w;else e:for(a=v;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Od(9,l)}}catch(j){tt(l,l.return,j)}if(l===a){oe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,oe=S;break e}oe=l.return}}if(_e=s,_s(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(Dd,e)}catch{}r=!0}return r}finally{Le=n,Tn.transition=t}}return!1}function B0(e,t,n){t=da(n,t),t=QS(e,t,1),e=fs(e,t,1),t=Ut(),e!==null&&(Pl(e,1,t),en(e,t))}function tt(e,t,n){if(e.tag===3)B0(e,e,n);else for(;t!==null;){if(t.tag===3){B0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ms===null||!ms.has(r))){e=da(n,e),e=KS(t,e,1),t=fs(t,e,1),e=Ut(),t!==null&&(Pl(t,1,e),en(t,e));break}}t=t.return}}function T_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&n,vt===e&&(Nt&n)===n&&(gt===4||gt===3&&(Nt&130023424)===Nt&&500>rt()-Yg?ri(e,0):Gg|=n),en(e,t)}function gN(e,t){t===0&&(e.mode&1?(t=rc,rc<<=1,!(rc&130023424)&&(rc=4194304)):t=1);var n=Ut();e=Or(e,t),e!==null&&(Pl(e,t,n),en(e,n))}function P_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gN(e,n)}function __(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),gN(e,n)}var xN;xN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)Xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xt=!1,y_(e,t,n);Xt=!!(e.flags&131072)}else Xt=!1,He&&t.flags&1048576&&wS(t,Du,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zc(e,t),e=t.pendingProps;var s=oa(t,Ot.current);na(t,n),s=Bg(null,t,r,e,s,n);var i=Vg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zt(r)?(i=!0,Cu(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rg(t),s.updater=Md,t.stateNode=s,s._reactInternals=t,qm(t,r,e,n),t=Qm(null,t,r,!0,i,n)):(t.tag=0,He&&i&&Tg(t),Bt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=I_(r),e=$n(r,e),s){case 0:t=Ym(null,t,r,e,n);break e;case 1:t=_0(null,t,r,e,n);break e;case 11:t=T0(null,t,r,e,n);break e;case 14:t=P0(null,t,r,$n(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$n(r,s),Ym(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$n(r,s),_0(e,t,r,s,n);case 3:e:{if(eN(t),e===null)throw Error(X(387));r=t.pendingProps,i=t.memoizedState,s=i.element,DS(e,t),Pu(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=da(Error(X(423)),t),t=A0(e,t,r,n,s);break e}else if(r!==s){s=da(Error(X(424)),t),t=A0(e,t,r,n,s);break e}else for(on=hs(t.stateNode.containerInfo.firstChild),cn=t,He=!0,Bn=null,n=CS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),r===s){t=Rr(e,t,n);break e}Bt(e,t,r,n)}t=t.child}return t;case 5:return ES(t),e===null&&Um(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Fm(r,s)?a=null:i!==null&&Fm(r,i)&&(t.flags|=32),ZS(e,t),Bt(e,t,a,n),t.child;case 6:return e===null&&Um(t),null;case 13:return tN(e,t,n);case 4:return Lg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ca(t,null,r,n):Bt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$n(r,s),T0(e,t,r,s,n);case 7:return Bt(e,t,t.pendingProps,n),t.child;case 8:return Bt(e,t,t.pendingProps.children,n),t.child;case 12:return Bt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,$e(Eu,r._currentValue),r._currentValue=a,i!==null)if(qn(i.value,a)){if(i.children===s.children&&!Jt.current){t=Rr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Er(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Wm(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(X(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Wm(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Bt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,na(t,n),s=_n(s),r=r(s),t.flags|=1,Bt(e,t,r,n),t.child;case 14:return r=t.type,s=$n(r,t.pendingProps),s=$n(r.type,s),P0(e,t,r,s,n);case 15:return XS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$n(r,s),Zc(e,t),t.tag=1,Zt(r)?(e=!0,Cu(t)):e=!1,na(t,n),YS(t,r,s),qm(t,r,s,n),Qm(null,t,r,!0,e,n);case 19:return nN(e,t,n);case 22:return JS(e,t,n)}throw Error(X(156,t.tag))};function yN(e,t){return Hj(e,t)}function A_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,n,r){return new A_(e,t,n,r)}function Jg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I_(e){if(typeof e=="function")return Jg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xg)return 11;if(e===yg)return 14}return 2}function gs(e,t){var n=e.alternate;return n===null?(n=Cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nu(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Jg(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Li:return si(n.children,s,i,t);case gg:a=8,s|=8;break;case gm:return e=Cn(12,n,t,s|2),e.elementType=gm,e.lanes=i,e;case xm:return e=Cn(13,n,t,s),e.elementType=xm,e.lanes=i,e;case ym:return e=Cn(19,n,t,s),e.elementType=ym,e.lanes=i,e;case Ej:return Ld(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kj:a=10;break e;case Dj:a=9;break e;case xg:a=11;break e;case yg:a=14;break e;case Qr:a=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Cn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function si(e,t,n,r){return e=Cn(7,e,r,t),e.lanes=n,e}function Ld(e,t,n,r){return e=Cn(22,e,r,t),e.elementType=Ej,e.lanes=n,e.stateNode={isHidden:!1},e}function Jh(e,t,n){return e=Cn(6,e,null,t),e.lanes=n,e}function Zh(e,t,n){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function M_(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ih(0),this.expirationTimes=Ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ih(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zg(e,t,n,r,s,i,a,l,c){return e=new M_(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Cn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rg(i),e}function O_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ri,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vN(e){if(!e)return Ns;e=e._reactInternals;e:{if(wi(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(Zt(n))return vS(e,n,t)}return t}function bN(e,t,n,r,s,i,a,l,c){return e=Zg(n,r,!0,e,s,i,a,l,c),e.context=vN(null),n=e.current,r=Ut(),s=ps(n),i=Er(r,s),i.callback=t??null,fs(n,i,s),e.current.lanes=s,Pl(e,s,r),en(e,r),e}function Fd(e,t,n,r){var s=t.current,i=Ut(),a=ps(s);return n=vN(n),t.context===null?t.context=n:t.pendingContext=n,t=Er(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fs(s,t,a),e!==null&&(Hn(e,s,a,i),Kc(e,s,a)),a}function Fu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function V0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ex(e,t){V0(e,t),(e=e.alternate)&&V0(e,t)}function R_(){return null}var wN=typeof reportError=="function"?reportError:function(e){console.error(e)};function tx(e){this._internalRoot=e}$d.prototype.render=tx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Fd(e,t,null,null)};$d.prototype.unmount=tx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fi(function(){Fd(null,e,null,null)}),t[Mr]=null}};function $d(e){this._internalRoot=e}$d.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jr.length&&t!==0&&t<Jr[n].priority;n++);Jr.splice(n,0,e),n===0&&eS(e)}};function nx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function U0(){}function L_(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Fu(a);i.call(u)}}var a=bN(t,r,e,0,null,!1,!1,"",U0);return e._reactRootContainer=a,e[Mr]=a.current,Zo(e.nodeType===8?e.parentNode:e),fi(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Fu(c);l.call(u)}}var c=Zg(e,0,!1,null,null,!1,!1,"",U0);return e._reactRootContainer=c,e[Mr]=c.current,Zo(e.nodeType===8?e.parentNode:e),fi(function(){Fd(t,c,n,r)}),c}function Bd(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Fu(a);l.call(c)}}Fd(t,a,e,s)}else a=L_(n,t,e,s,r);return Fu(a)}Kj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=go(t.pendingLanes);n!==0&&(wg(t,n|1),en(t,rt()),!(_e&6)&&(ha=rt()+500,_s()))}break;case 13:fi(function(){var r=Or(e,1);if(r!==null){var s=Ut();Hn(r,e,1,s)}}),ex(e,1)}};jg=function(e){if(e.tag===13){var t=Or(e,134217728);if(t!==null){var n=Ut();Hn(t,e,134217728,n)}ex(e,134217728)}};Xj=function(e){if(e.tag===13){var t=ps(e),n=Or(e,t);if(n!==null){var r=Ut();Hn(n,e,t,r)}ex(e,t)}};Jj=function(){return Le};Zj=function(e,t){var n=Le;try{return Le=e,t()}finally{Le=n}};Em=function(e,t,n){switch(t){case"input":if(wm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=_d(r);if(!s)throw Error(X(90));Pj(r),wm(r,s)}}}break;case"textarea":Aj(e,n);break;case"select":t=n.value,t!=null&&Ji(e,!!n.multiple,t,!1)}};$j=Qg;zj=fi;var F_={usingClientEntryPoint:!1,Events:[Al,Bi,_d,Lj,Fj,Qg]},Qa={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$_={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uj(e),e===null?null:e.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||R_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Dd=mc.inject($_),ar=mc}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F_;mn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nx(t))throw Error(X(200));return O_(e,t,null,n)};mn.createRoot=function(e,t){if(!nx(e))throw Error(X(299));var n=!1,r="",s=wN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Zg(e,1,!1,null,null,n,!1,r,s),e[Mr]=t.current,Zo(e.nodeType===8?e.parentNode:e),new tx(t)};mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=Uj(t),e=e===null?null:e.stateNode,e};mn.flushSync=function(e){return fi(e)};mn.hydrate=function(e,t,n){if(!zd(t))throw Error(X(200));return Bd(null,e,t,!0,n)};mn.hydrateRoot=function(e,t,n){if(!nx(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=wN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=bN(t,null,e,1,n??null,s,!1,i,a),e[Mr]=t.current,Zo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new $d(t)};mn.render=function(e,t,n){if(!zd(t))throw Error(X(200));return Bd(null,e,t,!1,n)};mn.unmountComponentAtNode=function(e){if(!zd(e))throw Error(X(40));return e._reactRootContainer?(fi(function(){Bd(null,null,e,!1,function(){e._reactRootContainer=null,e[Mr]=null})}),!0):!1};mn.unstable_batchedUpdates=Qg;mn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zd(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return Bd(e,t,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function jN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jN)}catch(e){console.error(e)}}jN(),jj.exports=mn;var Ml=jj.exports;const z_=Cd(Ml);var SN,W0=Ml;SN=W0.createRoot,W0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ll.apply(this,arguments)}var ss;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ss||(ss={}));const H0="popstate";function B_(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return op("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$u(s)}return U_(t,n,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function NN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function V_(){return Math.random().toString(36).substr(2,8)}function q0(e,t){return{usr:e.state,key:e.key,idx:t}}function op(e,t,n,r){return n===void 0&&(n=null),ll({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Da(t):t,{state:n,key:t&&t.key||r||V_()})}function $u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Da(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function U_(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=ss.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(ll({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=ss.Pop;let y=d(),b=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:b})}function f(y,b){l=ss.Push;let v=op(g.location,y,b);u=d()+1;let w=q0(v,u),S=g.createHref(v);try{a.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}i&&c&&c({action:l,location:g.location,delta:1})}function m(y,b){l=ss.Replace;let v=op(g.location,y,b);u=d();let w=q0(v,u),S=g.createHref(v);a.replaceState(w,"",S),i&&c&&c({action:l,location:g.location,delta:0})}function p(y){let b=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:$u(y);return v=v.replace(/ $/,"%20"),ot(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let g={get action(){return l},get location(){return e(s,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(H0,h),c=y,()=>{s.removeEventListener(H0,h),c=null}},createHref(y){return t(s,y)},createURL:p,encodeLocation(y){let b=p(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(y){return a.go(y)}};return g}var G0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(G0||(G0={}));function W_(e,t,n){return n===void 0&&(n="/"),H_(e,t,n)}function H_(e,t,n,r){let s=typeof t=="string"?Da(t):t,i=rx(s.pathname||"/",n);if(i==null)return null;let a=CN(e);q_(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=sA(i);l=tA(a[c],u)}return l}function CN(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ot(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=xs([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),CN(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Z_(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of kN(i.path))s(i,a,c)}),t}function kN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=kN(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function q_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:eA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const G_=/^:[\w-]+$/,Y_=3,Q_=2,K_=1,X_=10,J_=-2,Y0=e=>e==="*";function Z_(e,t){let n=e.split("/"),r=n.length;return n.some(Y0)&&(r+=J_),t&&(r+=Q_),n.filter(s=>!Y0(s)).reduce((s,i)=>s+(G_.test(i)?Y_:i===""?K_:X_),r)}function eA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function tA(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=nA({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:xs([i,h.pathname]),pathnameBase:lA(xs([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=xs([i,h.pathnameBase]))}return a}function nA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=rA(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let g=l[h]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[h];return m&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function rA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),NN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function sA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return NN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function iA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Da(e):e;return{pathname:n?n.startsWith("/")?n:aA(n,t):t,search:cA(r),hash:uA(s)}}function aA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ef(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sx(e,t){let n=oA(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ix(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Da(e):(s=ll({},e),ot(!s.pathname||!s.pathname.includes("?"),ef("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),ef("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),ef("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=iA(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const xs=e=>e.join("/").replace(/\/\/+/g,"/"),lA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const DN=["post","put","patch","delete"];new Set(DN);const hA=["get",...DN];new Set(hA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cl.apply(this,arguments)}const ax=x.createContext(null),fA=x.createContext(null),As=x.createContext(null),Vd=x.createContext(null),dr=x.createContext({outlet:null,matches:[],isDataRoute:!1}),EN=x.createContext(null);function mA(e,t){let{relative:n}=t===void 0?{}:t;Ea()||ot(!1);let{basename:r,navigator:s}=x.useContext(As),{hash:i,pathname:a,search:l}=_N(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:xs([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Ea(){return x.useContext(Vd)!=null}function hr(){return Ea()||ot(!1),x.useContext(Vd).location}function TN(e){x.useContext(As).static||x.useLayoutEffect(e)}function On(){let{isDataRoute:e}=x.useContext(dr);return e?TA():pA()}function pA(){Ea()||ot(!1);let e=x.useContext(ax),{basename:t,future:n,navigator:r}=x.useContext(As),{matches:s}=x.useContext(dr),{pathname:i}=hr(),a=JSON.stringify(sx(s,n.v7_relativeSplatPath)),l=x.useRef(!1);return TN(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=ix(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:xs([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,a,i,e])}const gA=x.createContext(null);function xA(e){let t=x.useContext(dr).outlet;return t&&x.createElement(gA.Provider,{value:e},t)}function PN(){let{matches:e}=x.useContext(dr),t=e[e.length-1];return t?t.params:{}}function _N(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(As),{matches:s}=x.useContext(dr),{pathname:i}=hr(),a=JSON.stringify(sx(s,r.v7_relativeSplatPath));return x.useMemo(()=>ix(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function yA(e,t){return vA(e,t)}function vA(e,t,n,r){Ea()||ot(!1);let{navigator:s}=x.useContext(As),{matches:i}=x.useContext(dr),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=hr(),d;if(t){var h;let y=typeof t=="string"?Da(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||ot(!1),d=y}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=W_(e,{pathname:m}),g=NA(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:xs([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:xs([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return t&&g?x.createElement(Vd.Provider,{value:{location:cl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ss.Pop}},g):g}function bA(){let e=EA(),t=dA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:s},n):null,null)}const wA=x.createElement(bA,null);class jA extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(dr.Provider,{value:this.props.routeContext},x.createElement(EN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SA(e){let{routeContext:t,match:n,children:r}=e,s=x.useContext(ax);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(dr.Provider,{value:t},r)}function NA(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ot(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,p=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||p){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let m,p=!1,g=null,y=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||wA,c&&(u<0&&f===0?(PA("route-fallback"),p=!0,y=null):u===f&&(p=!0,y=h.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,f+1)),v=()=>{let w;return m?w=g:p?w=y:h.route.Component?w=x.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,x.createElement(SA,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(jA,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var AN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(AN||{}),IN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(IN||{});function CA(e){let t=x.useContext(ax);return t||ot(!1),t}function kA(e){let t=x.useContext(fA);return t||ot(!1),t}function DA(e){let t=x.useContext(dr);return t||ot(!1),t}function MN(e){let t=DA(),n=t.matches[t.matches.length-1];return n.route.id||ot(!1),n.route.id}function EA(){var e;let t=x.useContext(EN),n=kA(),r=MN();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function TA(){let{router:e}=CA(AN.UseNavigateStable),t=MN(IN.UseNavigateStable),n=x.useRef(!1);return TN(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,cl({fromRouteId:t},i)))},[e,t])}const Q0={};function PA(e,t,n){Q0[e]||(Q0[e]=!0)}function _A(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Vn(e){let{to:t,replace:n,state:r,relative:s}=e;Ea()||ot(!1);let{future:i,static:a}=x.useContext(As),{matches:l}=x.useContext(dr),{pathname:c}=hr(),u=On(),d=ix(t,sx(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function ON(e){return xA(e.context)}function Ye(e){ot(!1)}function AA(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ss.Pop,navigator:i,static:a=!1,future:l}=e;Ea()&&ot(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:a,future:cl({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Da(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:p="default"}=r,g=x.useMemo(()=>{let y=rx(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:m,key:p},navigationType:s}},[c,d,h,f,m,p,s]);return g==null?null:x.createElement(As.Provider,{value:u},x.createElement(Vd.Provider,{children:n,value:g}))}function IA(e){let{children:t,location:n}=e;return yA(lp(t),n)}new Promise(()=>{});function lp(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,s)=>{if(!x.isValidElement(r))return;let i=[...t,s];if(r.type===x.Fragment){n.push.apply(n,lp(r.props.children,i));return}r.type!==Ye&&ot(!1),!r.props.index||!r.props.children||ot(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=lp(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cp.apply(this,arguments)}function MA(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function OA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RA(e,t){return e.button===0&&(!t||t==="_self")&&!OA(e)}function up(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function LA(e,t){let n=up(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const FA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$A="6";try{window.__reactRouterVersion=$A}catch{}const zA="startTransition",K0=hg[zA];function BA(e){let{basename:t,children:n,future:r,window:s}=e,i=x.useRef();i.current==null&&(i.current=B_({window:s,v5Compat:!0}));let a=i.current,[l,c]=x.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=x.useCallback(h=>{u&&K0?K0(()=>c(h)):c(h)},[c,u]);return x.useLayoutEffect(()=>a.listen(d),[a,d]),x.useEffect(()=>_A(r),[r]),x.createElement(AA,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const VA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rr=x.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=MA(t,FA),{basename:m}=x.useContext(As),p,g=!1;if(typeof u=="string"&&UA.test(u)&&(p=u,VA))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=rx(S.pathname,m);S.origin===w.origin&&j!=null?u=j+S.search+S.hash:g=!0}catch{}let y=mA(u,{relative:s}),b=WA(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function v(w){r&&r(w),w.defaultPrevented||b(w)}return x.createElement("a",cp({},f,{href:p||y,onClick:g||i?r:v,ref:n,target:c}))});var X0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(X0||(X0={}));var J0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(J0||(J0={}));function WA(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=On(),u=hr(),d=_N(e,{relative:a});return x.useCallback(h=>{if(RA(h,n)){h.preventDefault();let f=r!==void 0?r:$u(u)===$u(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,i,a,l])}function HA(e){let t=x.useRef(up(e)),n=x.useRef(!1),r=hr(),s=x.useMemo(()=>LA(r.search,n.current?null:t.current),[r.search]),i=On(),a=x.useCallback((l,c)=>{const u=up(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>x.createElement("svg",{ref:d,...qA,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${GA(e)}`,l].join(" "),...u},[...t.map(([h,f])=>x.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=ee("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=ee("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=ee("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=ee("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=ee("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=ee("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=ee("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=ee("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=ee("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=ee("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=ee("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=ee("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=ee("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=ee("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=ee("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=ee("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=ee("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ee("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=ee("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=ee("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=ee("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ee("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=ee("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=ee("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ee("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),_I=380,AI=520,av=320,ov=320,lv=600,cv=700,II=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState([{sender:"ai",text:"Hi! I am your Sales Agent AI. How can I help you today?"}]),[s,i]=x.useState(""),[a,l]=x.useState({width:_I,height:AI}),[c,u]=x.useState(!1),d=x.useRef(null),h=x.useRef(null),f=x.useRef(null);x.useEffect(()=>{e&&f.current&&f.current.scrollIntoView({behavior:"smooth"})},[n,e]),x.useEffect(()=>{const p=y=>{if(!c||!h.current)return;const b=y.clientX-h.current.x,v=y.clientY-h.current.y;l({width:Math.min(Math.max(h.current.width+b,av),lv),height:Math.min(Math.max(h.current.height+v,ov),cv)})},g=()=>u(!1);return c&&(window.addEventListener("mousemove",p),window.addEventListener("mouseup",g)),()=>{window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",g)}},[c]);const m=async()=>{if(!s.trim())return;const p={sender:"user",text:s};r(g=>[...g,p]),i("");try{const g=await fetch("/agent/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s})});if(!g.ok)throw new Error("Network error");const y=await g.json();r(b=>[...b,{sender:"ai",text:y.reply||"No response from agent."}])}catch{r(y=>[...y,{sender:"ai",text:"Sorry, there was a problem connecting to the agent."}])}};return o.jsxs(o.Fragment,{children:[!e&&o.jsx("button",{className:"fixed bottom-8 right-8 z-50 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg p-4 flex items-center justify-center transition-all",style:{boxShadow:"0 4px 24px 0 rgba(0,0,0,0.18)"},onClick:()=>t(!0),"aria-label":"Open Chat",children:o.jsx(rv,{className:"h-7 w-7"})}),e&&o.jsxs("div",{ref:d,className:"fixed bottom-8 right-8 z-50 bg-white rounded-2xl shadow-2xl flex flex-col border border-gray-200",style:{width:a.width,height:a.height,minWidth:av,minHeight:ov,maxWidth:lv,maxHeight:cv,boxShadow:"0 8px 32px 0 rgba(0,0,0,0.22)"},children:[o.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-gray-100 bg-gradient-to-r from-blue-600 to-blue-500 rounded-t-2xl",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rv,{className:"h-5 w-5 text-white"}),o.jsx("span",{className:"text-white font-semibold text-lg",children:"Sales Agent AI"}),o.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded bg-yellow-400 text-gray-900 font-semibold",title:"This module is in development",children:"In development"})]}),o.jsx("button",{onClick:()=>t(!1),className:"text-white hover:text-gray-200 p-1 rounded-full",children:o.jsx(Ni,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 bg-gray-50",style:{fontFamily:"Inter, sans-serif"},children:[n.map((p,g)=>o.jsx("div",{className:`mb-3 flex ${p.sender==="user"?"justify-end":"justify-start"}`,children:o.jsx("div",{className:`max-w-[80%] px-4 py-2 rounded-xl shadow-sm text-base leading-relaxed break-words ${p.sender==="user"?"bg-blue-600 text-white rounded-br-sm":"bg-white text-gray-900 border border-gray-200 rounded-bl-sm"}`,style:{wordBreak:"break-word"},children:p.text})},g)),o.jsx("div",{ref:f})]}),o.jsxs("div",{className:"px-4 py-3 bg-white border-t border-gray-100 flex items-center gap-2 rounded-b-2xl",children:[o.jsx("input",{type:"text",className:"flex-1 px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 bg-gray-50 placeholder-gray-400 text-base",placeholder:"Type your message...",value:s,onChange:p=>i(p.target.value),onKeyDown:p=>{p.key==="Enter"&&m()},"aria-label":"Type your message",autoFocus:!0}),o.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white rounded-lg p-2 flex items-center justify-center transition-all disabled:opacity-50",onClick:m,disabled:!s.trim(),"aria-label":"Send",children:o.jsx(fa,{className:"h-5 w-5"})})]}),o.jsx("div",{className:"absolute bottom-2 right-2 w-5 h-5 cursor-nwse-resize z-50",style:{userSelect:"none"},onMouseDown:p=>{u(!0),h.current={x:p.clientX,y:p.clientY,width:a.width,height:a.height},p.preventDefault()},title:"Resize",children:o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:o.jsx("path",{d:"M3 17L17 3M10 17H17V10",stroke:"#60A5FA",strokeWidth:"2",strokeLinecap:"round"})})})]})]})};class MI extends x.Component{constructor(n){super(n);ue(this,"resetErrorState",()=>{this.setState({hasError:!1,error:void 0})});ue(this,"handleLogout",()=>{localStorage.removeItem("jwt-token"),localStorage.removeItem("explicit-login-performed"),localStorage.removeItem("auth-storage"),window.location.href="/login"});this.state={hasError:!1}}static getDerivedStateFromError(n){if(n.message.includes("Authentication required")||n.message.includes("JWT")||n.message.includes("401")||n.message.includes("token")||n.message.includes("unauthorized"))return{hasError:!0,error:n};throw n}componentDidCatch(n){console.error("Auth Error Boundary caught error:",n)}render(){var n;return this.state.hasError?o.jsx("div",{className:"fixed inset-0 bg-white flex flex-col items-center justify-center",children:o.jsxs("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-lg border border-gray-200",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Authentication Error"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an authentication error. Your session may have expired or been invalidated."}),o.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:o.jsxs("p",{className:"text-sm text-red-700",children:["Error: ",((n=this.state.error)==null?void 0:n.message)||"Authentication failed"]})}),o.jsxs("div",{className:"flex flex-col space-y-3",children:[o.jsx("button",{onClick:this.handleLogout,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Return to Login"}),o.jsx("button",{onClick:this.resetErrorState,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-100",children:"Try Again"})]})]})}):this.props.children}}function OI({children:e}){return o.jsx(MI,{children:e})}const RI={},uv=e=>{let t;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,m))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(RI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},LI=e=>e?uv(e):uv;var GN={exports:{}},YN={},QN={exports:{}},KN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=x;function FI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $I=typeof Object.is=="function"?Object.is:FI,zI=ma.useState,BI=ma.useEffect,VI=ma.useLayoutEffect,UI=ma.useDebugValue;function WI(e,t){var n=t(),r=zI({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return VI(function(){s.value=n,s.getSnapshot=t,tf(s)&&i({inst:s})},[e,n,t]),BI(function(){return tf(s)&&i({inst:s}),e(function(){tf(s)&&i({inst:s})})},[e]),UI(n),n}function tf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$I(e,n)}catch{return!0}}function HI(e,t){return t()}var qI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HI:WI;KN.useSyncExternalStore=ma.useSyncExternalStore!==void 0?ma.useSyncExternalStore:qI;QN.exports=KN;var GI=QN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=x,YI=GI;function QI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KI=typeof Object.is=="function"?Object.is:QI,XI=YI.useSyncExternalStore,JI=Hd.useRef,ZI=Hd.useEffect,eM=Hd.useMemo,tM=Hd.useDebugValue;YN.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=JI(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=eM(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&a.hasValue){var p=a.value;if(s(p,m))return h=p}return h=m}if(p=h,KI(d,m))return p;var g=r(m);return s!==void 0&&s(p,g)?(d=m,p):(d=m,h=g)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,s]);var l=XI(e,i[0],i[1]);return ZI(function(){a.hasValue=!0,a.value=l},[l]),tM(l),l};GN.exports=YN;var nM=GN.exports;const rM=Cd(nM),XN={},{useDebugValue:sM}=re,{useSyncExternalStoreWithSelector:iM}=rM;let dv=!1;const aM=e=>e;function oM(e,t=aM,n){(XN?"production":void 0)!=="production"&&n&&!dv&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),dv=!0);const r=iM(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return sM(r),r}const hv=e=>{(XN?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?LI(e):e,n=(r,s)=>oM(t,r,s);return Object.assign(n,t),n},JN=e=>e?hv(e):hv;function lM(e){try{const t=e.split(".")[1];return JSON.parse(atob(t.replace(/-/g,"+").replace(/_/g,"/")))}catch{return{}}}const ZN=()=>{const e={"Content-Type":"application/json"},t=localStorage.getItem("jwt-token");return t&&(e.Authorization=`Bearer ${t}`),e},cM=async(e,t)=>{try{console.log(" Starting sign in process for:",e);const n="http://103.224.243.242:3001/api",r=`${n}/auth/login`;console.log("Login URL:",r);const s=await fetch(r,{method:"POST",headers:ZN(),body:JSON.stringify({email:e,password:t})});if(!s.ok){let c="Authentication failed";try{const u=await s.json();u&&u.message&&(c=u.message)}catch{}throw new Error(c)}let i;try{i=await s.json()}catch{throw new Error("Invalid response from server.")}const{token:a,user:l}=i;if(!l||!l.id||!l.email||!a)throw new Error("Invalid user data received from server");return(!l.role||!["admin","sales_agent","operations_manager","operator","support"].includes(l.role))&&(console.warn(" User role missing or invalid, assigning default role"),l.role="admin"),localStorage.setItem("jwt-token",a),console.log(" Authentication successful"),l}catch(n){throw console.error("Error signing in:",n),n}},uM=async()=>{try{await fetch("/api/auth/logout",{method:"POST",headers:ZN()}),localStorage.removeItem("jwt-token")}catch(e){console.error("Error signing out:",e),localStorage.removeItem("jwt-token")}},eC=async()=>{try{const e=localStorage.getItem("jwt-token");if(!e)return null;const t=lM(e);if(t.exp&&t.exp*1e3<Date.now())return localStorage.removeItem("jwt-token"),null;console.log(" getCurrentUser: Decoding JWT token directly");const n={id:t.id,email:t.email,name:t.name,role:t.role};return console.log(" getCurrentUser: User from JWT:",JSON.stringify(n,null,2)),!n.id||!n.email||!n.role?(console.error(" getCurrentUser: Invalid user data in JWT"),localStorage.removeItem("jwt-token"),null):n}catch(e){return console.error("Error getting current user:",e),localStorage.removeItem("jwt-token"),null}},dM=(e,t)=>{try{localStorage.getItem("explicit-login-performed")==="true"?(localStorage.setItem("auth-token",t),localStorage.setItem("auth-user",JSON.stringify(e)),localStorage.setItem("auth-saved","complete")):console.log("Not saving auth data - no explicit login detected")}catch(n){console.error("Failed to save auth data to local storage:",n)}},hM=()=>{localStorage.removeItem("auth-token"),localStorage.removeItem("auth-user"),localStorage.removeItem("auth-saved"),localStorage.removeItem("auth-checking"),localStorage.removeItem("explicit-login-performed"),sessionStorage.removeItem("explicit-auth-action")},Ge=JN()(e=>({user:null,token:null,isAuthenticated:!1,error:null,login:async(t,n)=>{try{e({error:null});const r=await cM(t,n);if(console.log(" Login successful - User data received:",JSON.stringify(r,null,2)),console.log(" User role check:",r==null?void 0:r.role),!r||!r.role)throw console.error(" User object missing or role undefined:",r),new Error("Invalid user data - role missing");if(!["admin","sales_agent","operations_manager","operator","support"].includes(r.role))throw console.error(" Invalid user role:",r.role),new Error(`Invalid user role: ${r.role}`);console.log(" User role validation passed:",r.role);const s=localStorage.getItem("jwt-token")||"";e({user:r,token:s,isAuthenticated:!0,error:null}),dM(r,s),localStorage.setItem("explicit-login-performed","true"),localStorage.setItem("last-login-time",Date.now().toString())}catch(r){throw e({error:r.message}),r}},logout:async()=>{try{localStorage.setItem("logging-out","true"),await uM(),e({user:null,token:null,isAuthenticated:!1,error:null}),hM(),localStorage.removeItem("explicit-login-performed"),localStorage.removeItem("jwt-token")}catch(t){throw e({error:t.message}),t}finally{setTimeout(()=>{localStorage.removeItem("logging-out")},1e3)}},setUser:t=>e({user:t,isAuthenticated:!!t,error:null}),clearUser:()=>e({user:null,token:null,isAuthenticated:!1,error:null})}));function fM(){var v,w;const[e,t]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState(!1),[a,l]=x.useState(null),[c,u]=x.useState("loading"),{login:d,error:h,isAuthenticated:f,user:m}=Ge();console.log("LoginForm rendering"),console.log("Auth state:",{error:h,isAuthenticated:f}),x.useEffect(()=>{console.log("LoginForm mounted");const S="http://103.224.243.242:3001/api";fetch(`${S}/health`,{credentials:"include",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(j=>(console.log("API health check response:",j.status),u(j.ok?"available":"error"),j.text())).then(j=>{console.log("API health check data:",j)}).catch(j=>{console.error("API health check failed:",j),u("error"),l(`API connection error: ${j.message}. Make sure the API server is running at ${S}`)}),console.log("Environment variables check:",{apiUrl:"http://103.224.243.242:3001/api",dbHost:"crm-db"})},[]);const p=On(),g=hr(),y=((w=(v=g.state)==null?void 0:v.from)==null?void 0:w.pathname)||"/dashboard";x.useEffect(()=>{console.log(" LoginForm useEffect - Authentication check:",{isAuthenticated:f,user:m==null?void 0:m.name}),f&&m&&(console.log(" User is authenticated, navigating to:",y),p(y,{replace:!0}))},[f,m,p,y]),x.useEffect(()=>{g.pathname==="/login"&&localStorage.removeItem("jwt-token")},[g.pathname]);const b=async S=>{if(S.preventDefault(),!e||!n){l("Email and password are required");return}i(!0),console.log(" Login attempt for:",e);try{const j="http://103.224.243.242:3001/api";try{const k=await fetch(`${j}/health`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!k.ok)throw console.error("API health check failed before login attempt:",await k.text()),u("error"),new Error(`API server is not responding correctly. Status: ${k.status}`);u("available"),console.log("API health check passed, proceeding with login")}catch(k){throw console.error("Failed to connect to API:",k),u("error"),new Error("Cannot connect to API. Please ensure the server is running.")}console.log(" Calling auth store login..."),await d(e,n),console.log(" Login attempt successful, auth state should be updated"),setTimeout(()=>{var C,N;const k=Ge.getState();console.log(" Current auth state after login:",{isAuthenticated:k.isAuthenticated,user:(C=k.user)==null?void 0:C.name,userRole:(N=k.user)==null?void 0:N.role,token:k.token?"Present":"Missing",fullUser:k.user}),k.isAuthenticated&&k.user?(console.log(" Forcing navigation to dashboard..."),console.log(" User object before navigation:",JSON.stringify(k.user,null,2)),p("/dashboard",{replace:!0})):console.log(" Auth state not updated properly, user may need to refresh")},500)}catch(j){console.error("Login error:",j),j instanceof Error&&(j.message.includes("<!DOCTYPE")||j.message.includes("<html>")?l(`API returned HTML instead of JSON. The API server might not be running correctly. 
            Make sure the API server is running at http://103.224.243.242:3001/api.`):(j.message.includes("NetworkError")||j.message.includes("Failed to fetch"))&&l(`Network error: Cannot connect to API server. 
            Please check your network connection and make sure the server is running.`)),r("")}finally{i(!1)}};if(a)return o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-red-50",children:o.jsxs("div",{className:"w-full max-w-md px-6 py-8 bg-white rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Rendering Login Form"}),o.jsx("p",{className:"text-gray-700 mb-4",children:a}),o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-2 px-4 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reload Page"})]})});if(c==="error")return o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-red-50",children:o.jsxs("div",{className:"w-full max-w-md px-6 py-8 bg-white rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"API Connection Error"}),o.jsxs("p",{className:"text-gray-700 mb-4",children:["Unable to connect to the API server. The server might not be running.",o.jsx("br",{}),"API URL: ","http://103.224.243.242:3001/api"]}),o.jsxs("div",{className:"mb-4 p-4 bg-gray-100 rounded",children:[o.jsx("h3",{className:"font-bold mb-2",children:"Troubleshooting steps:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[o.jsx("li",{children:"Make sure the API server is running"}),o.jsx("li",{children:"Check your .env file configuration"}),o.jsx("li",{children:"Verify database connection settings"}),o.jsx("li",{children:"Check browser console for network errors"})]})]}),o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-2 px-4 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reload Page"})]})});try{return o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-5",children:[o.jsx("div",{children:o.jsx("input",{id:"login-email",name:"email",type:"email",value:e,onChange:S=>t(S.target.value),required:!0,autoComplete:"email",placeholder:"Email address",className:"w-full border-0 border-b border-gray-300 focus:border-black focus:ring-0 text-base py-3 px-0 bg-transparent placeholder-gray-400 outline-none text-[#222] font-semibold",style:{color:"#222",WebkitTextFillColor:"#222",background:"transparent"}})}),o.jsx("div",{children:o.jsx("input",{id:"login-password",name:"password",type:"password",value:n,onChange:S=>r(S.target.value),required:!0,autoComplete:"current-password",placeholder:"Password",className:"w-full border-0 border-b border-gray-300 focus:border-black focus:ring-0 text-base py-3 px-0 bg-transparent placeholder-gray-400 outline-none text-[#222] font-semibold",style:{color:"#222",WebkitTextFillColor:"#222",background:"transparent"}})})]}),o.jsx("div",{className:"flex justify-end text-xs mt-1",children:o.jsxs("a",{href:"#",className:"text-blue-700 hover:underline",children:["Forget password ",o.jsx("span",{className:"font-bold",children:"Click here"})]})}),o.jsx("button",{type:"submit",disabled:s,className:"w-full h-12 bg-black text-white rounded-md text-lg font-semibold mt-2 transition-colors duration-150 hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-black focus:ring-opacity-50",children:s?"Logging in...":"Login Now"}),h&&o.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start gap-3",children:[o.jsx(ji,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-sm",children:h})]})]})}catch(S){return console.error("Error rendering login form:",S),l(`Error rendering login form: ${S instanceof Error?S.message:String(S)}`),null}}function mM({error:e,resetError:t}){return o.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"20px",backgroundColor:"#f0f2f5"},children:o.jsxs("div",{style:{width:"100%",maxWidth:"400px",background:"white",padding:"30px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",textAlign:"center"},children:[o.jsx("h1",{style:{marginBottom:"16px",color:"#e53e3e"},children:"Login Error"}),o.jsx("p",{style:{marginBottom:"24px"},children:"We encountered a problem with the login form."}),o.jsx("div",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",marginBottom:"24px",textAlign:"left",overflowWrap:"break-word"},children:o.jsx("code",{style:{color:"#e53e3e"},children:e.message})}),o.jsx("button",{onClick:t,style:{padding:"12px 24px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Try Again"})]})})}class pM extends x.Component{constructor(n){super(n);ue(this,"resetError",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n){console.error("Login page error:",n)}render(){return this.state.hasError?o.jsx(mM,{error:this.state.error,resetError:this.resetError}):this.props.children}}function gM(){const{isAuthenticated:e}=Ge();return e?o.jsx(Vn,{to:"/dashboard"}):o.jsxs("div",{className:"h-screen overflow-hidden flex flex-col lg:flex-row bg-[#F2EEE7]",children:[o.jsxs("div",{className:"relative flex-1 flex flex-col justify-center items-center bg-gradient-to-br from-[#385197] to-[#404040] text-white px-8 py-12 overflow-hidden",children:[o.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-20",viewBox:"0 0 800 800",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M0 800 Q400 400 800 800",stroke:"white",strokeWidth:"2"}),o.jsx("path",{d:"M0 600 Q400 200 800 600",stroke:"white",strokeWidth:"1.5"}),o.jsx("path",{d:"M0 400 Q400 0 800 400",stroke:"white",strokeWidth:"1"})]}),o.jsxs("div",{className:"relative z-10 flex flex-col items-start max-w-lg w-full",children:[o.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold mb-4 leading-tight flex items-center gap-2",children:[o.jsx("span",{className:"text-white drop-shadow-lg",children:"Hello,"}),o.jsx("span",{className:"text-[#FFCC3F] drop-shadow-[0_2px_8px_rgba(255,204,63,0.7)]",children:"ASP Cranes!"}),o.jsx("span",{className:"inline-block text-5xl ml-2 align-middle",children:""})]}),o.jsx("p",{className:"text-xl md:text-2xl font-bold mb-8 text-white drop-shadow-lg tracking-wide",children:"The all-in-one platform to supercharge your heavy equipment rental business."}),o.jsxs("p",{className:"text-xs opacity-60 mt-12",children:[" ",new Date().getFullYear()," ASP Cranes. All rights reserved."]})]})]}),o.jsx("div",{className:"flex-1 flex flex-col justify-center items-center bg-[#F2EEE7] px-6",children:o.jsxs("div",{className:"w-full max-w-md mx-auto relative",children:[o.jsx("div",{className:"absolute inset-0 rounded-2xl bg-white/10 backdrop-blur-xl border border-[#CAC0B0]/60 shadow-2xl",style:{zIndex:1}}),o.jsxs("div",{className:"relative z-10 p-10 flex flex-col",children:[o.jsxs("h2",{className:"text-2xl font-bold text-[#404040] mb-2 flex items-center gap-2",children:["Welcome Back! ",o.jsx("span",{className:"text-[#FFCC3F]",children:""})]}),o.jsxs("p",{className:"text-[#385197] mb-6 text-sm",children:["Don't have an account? ",o.jsx("a",{href:"#",className:"text-[#FFCC3F] font-medium hover:underline",children:"Create a new account now"}),".",o.jsx("br",{}),"It's FREE! Takes less than a minute."]}),o.jsx(fM,{})]}),o.jsxs("svg",{className:"absolute -top-8 -right-8 w-32 h-32 opacity-30",viewBox:"0 0 100 100",fill:"none",children:[o.jsx("circle",{cx:"50",cy:"50",r:"48",stroke:"#FFCC3F",strokeWidth:"2"}),o.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"#385197",strokeWidth:"1"})]}),o.jsx("svg",{className:"absolute -bottom-8 -left-8 w-24 h-24 opacity-20",viewBox:"0 0 100 100",fill:"none",children:o.jsx("rect",{x:"10",y:"10",width:"80",height:"80",rx:"20",stroke:"#404040",strokeWidth:"2"})})]})})]})}function xM(){return x.useEffect(()=>{console.log("LoginPage mounted"),console.log("API URL:","http://103.224.243.242:3001/api")},[]),o.jsx(pM,{children:o.jsx(gM,{})})}const tC=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),qd=x.createContext({}),Gd=x.createContext(null),Yd=typeof document<"u",hx=Yd?x.useLayoutEffect:x.useEffect,nC=x.createContext({strict:!1}),fx=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),yM="framerAppearId",rC="data-"+fx(yM);function vM(e,t,n,r){const{visualElement:s}=x.useContext(qd),i=x.useContext(nC),a=x.useContext(Gd),l=x.useContext(tC).reducedMotion,c=x.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;x.useInsertionEffect(()=>{u&&u.update(n,a)});const d=x.useRef(!!(n[rC]&&!window.HandoffComplete));return hx(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Yi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bM(e,t,n){return x.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Yi(n)&&(n.current=r))},[t])}function ul(e){return typeof e=="string"||Array.isArray(e)}function Qd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const mx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],px=["initial",...mx];function Kd(e){return Qd(e.animate)||px.some(t=>ul(e[t]))}function sC(e){return!!(Kd(e)||e.variants)}function wM(e,t){if(Kd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ul(n)?n:void 0,animate:ul(r)?r:void 0}}return e.inherit!==!1?t:{}}function jM(e){const{initial:t,animate:n}=wM(e,x.useContext(qd));return x.useMemo(()=>({initial:t,animate:n}),[fv(t),fv(n)])}function fv(e){return Array.isArray(e)?e.join(" "):e}const mv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dl={};for(const e in mv)dl[e]={isEnabled:t=>mv[e].some(n=>!!t[n])};function SM(e){for(const t in e)dl[t]={...dl[t],...e[t]}}const gx=x.createContext({}),iC=x.createContext({}),NM=Symbol.for("motionComponentSymbol");function CM({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&SM(e);function i(l,c){let u;const d={...x.useContext(tC),...l,layoutId:kM(l)},{isStatic:h}=d,f=jM(l),m=r(l,h);if(!h&&Yd){f.visualElement=vM(s,m,d,t);const p=x.useContext(iC),g=x.useContext(nC).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,g,e,p))}return x.createElement(qd.Provider,{value:f},u&&f.visualElement?x.createElement(u,{visualElement:f.visualElement,...d}):null,n(s,l,bM(m,f.visualElement,c),m,h,f.visualElement))}const a=x.forwardRef(i);return a[NM]=s,a}function kM({layoutId:e}){const t=x.useContext(gx).id;return t&&e!==void 0?t+"-"+e:e}function DM(e){function t(r,s={}){return CM(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const EM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xx(e){return typeof e!="string"||e.includes("-")?!1:!!(EM.indexOf(e)>-1||/[A-Z]/.test(e))}const Vu={};function TM(e){Object.assign(Vu,e)}const Rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ci=new Set(Rl);function aC(e,{layout:t,layoutId:n}){return Ci.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Vu[e]||e==="opacity")}const nn=e=>!!(e&&e.getVelocity),PM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_M=Rl.length;function AM(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let a=0;a<_M;a++){const l=Rl[a];if(e[l]!==void 0){const c=PM[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const oC=e=>t=>typeof t=="string"&&t.startsWith(e),lC=oC("--"),mp=oC("var(--"),IM=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,MM=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Cs=(e,t,n)=>Math.min(Math.max(n,e),t),ki={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Mo={...ki,transform:e=>Cs(0,1,e)},pc={...ki,default:1},Oo=e=>Math.round(e*1e5)/1e5,Xd=/(-)?([\d]*\.?[\d])+/g,cC=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,OM=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ll(e){return typeof e=="string"}const Fl=e=>({test:t=>Ll(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yr=Fl("deg"),lr=Fl("%"),be=Fl("px"),RM=Fl("vh"),LM=Fl("vw"),pv={...lr,parse:e=>lr.parse(e)/100,transform:e=>lr.transform(e*100)},gv={...ki,transform:Math.round},uC={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,size:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:pc,scaleX:pc,scaleY:pc,scaleZ:pc,skew:Yr,skewX:Yr,skewY:Yr,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Mo,originX:pv,originY:pv,originZ:be,zIndex:gv,fillOpacity:Mo,strokeOpacity:Mo,numOctaves:gv};function yx(e,t,n,r){const{style:s,vars:i,transform:a,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const f=t[h];if(lC(h)){i[h]=f;continue}const m=uC[h],p=MM(f,m);if(Ci.has(h)){if(c=!0,a[h]=p,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=p):s[h]=p}if(t.transform||(c||r?s.transform=AM(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=l;s.transformOrigin=`${h} ${f} ${m}`}}const vx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dC(e,t,n){for(const r in t)!nn(t[r])&&!aC(r,n)&&(e[r]=t[r])}function FM({transformTemplate:e},t,n){return x.useMemo(()=>{const r=vx();return yx(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function $M(e,t,n){const r=e.style||{},s={};return dC(s,r,e),Object.assign(s,FM(e,t,n)),e.transformValues?e.transformValues(s):s}function zM(e,t,n){const r={},s=$M(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const BM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||BM.has(e)}let hC=e=>!Uu(e);function VM(e){e&&(hC=t=>t.startsWith("on")?!Uu(t):e(t))}try{VM(require("@emotion/is-prop-valid").default)}catch{}function UM(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(hC(s)||n===!0&&Uu(s)||!t&&!Uu(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function xv(e,t,n){return typeof e=="string"?e:be.transform(t+n*e)}function WM(e,t,n){const r=xv(t,e.x,e.width),s=xv(n,e.y,e.height);return`${r} ${s}`}const HM={offset:"stroke-dashoffset",array:"stroke-dasharray"},qM={offset:"strokeDashoffset",array:"strokeDasharray"};function GM(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?HM:qM;e[i.offset]=be.transform(-r);const a=be.transform(t),l=be.transform(n);e[i.array]=`${a} ${l}`}function bx(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,h,f){if(yx(e,u,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:g}=e;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=WM(g,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&GM(m,a,l,c,!1)}const fC=()=>({...vx(),attrs:{}}),wx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function YM(e,t,n,r){const s=x.useMemo(()=>{const i=fC();return bx(i,t,{enableHardwareAcceleration:!1},wx(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};dC(i,e.style,e),s.style={...i,...s.style}}return s}function QM(e=!1){return(n,r,s,{latestValues:i},a)=>{const c=(xx(n)?YM:zM)(r,i,a,n),d={...UM(r,typeof n=="string",e),...c,ref:s},{children:h}=r,f=x.useMemo(()=>nn(h)?h.get():h,[h]);return x.createElement(n,{...d,children:f})}}function mC(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const pC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gC(e,t,n,r){mC(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(pC.has(s)?s:fx(s),t.attrs[s])}function jx(e,t){const{style:n}=e,r={};for(const s in n)(nn(n[s])||t.style&&nn(t.style[s])||aC(s,e))&&(r[s]=n[s]);return r}function xC(e,t){const n=jx(e,t);for(const r in e)if(nn(e[r])||nn(t[r])){const s=Rl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function Sx(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function yC(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wu=e=>Array.isArray(e),KM=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),XM=e=>Wu(e)?e[e.length-1]||0:e;function ru(e){const t=nn(e)?e.get():e;return KM(t)?t.toValue():t}function JM({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const a={latestValues:ZM(r,s,i,e),renderState:t()};return n&&(a.mount=l=>n(r,l,a)),a}const vC=e=>(t,n)=>{const r=x.useContext(qd),s=x.useContext(Gd),i=()=>JM(e,t,r,s);return n?i():yC(i)};function ZM(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=ru(i[f]);let{initial:a,animate:l}=e;const c=Kd(e),u=sC(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;return h&&typeof h!="boolean"&&!Qd(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const p=Sx(e,m);if(!p)return;const{transitionEnd:g,transition:y,...b}=p;for(const v in b){let w=b[v];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(s[v]=w)}for(const v in g)s[v]=g[v]}),s}const it=e=>e;class yv{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function eO(e){let t=new yv,n=new yv,r=0,s=!1,i=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&s,f=h?t:n;return u&&a.add(c),f.add(c)&&h&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),a.has(d)&&(l.schedule(d),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const gc=["prepare","read","update","preRender","render","postRender"],tO=40;function nO(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=gc.reduce((h,f)=>(h[f]=eO(()=>n=!0),h),{}),a=h=>i[h].process(s),l=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,tO),1),s.timestamp=h,s.isProcessing=!0,gc.forEach(a),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:gc.reduce((h,f)=>{const m=i[f];return h[f]=(p,g=!1,y=!1)=>(n||c(),m.schedule(p,g,y)),h},{}),cancel:h=>gc.forEach(f=>i[f].cancel(h)),state:s,steps:i}}const{schedule:ze,cancel:Fr,state:Tt,steps:nf}=nO(typeof requestAnimationFrame<"u"?requestAnimationFrame:it,!0),rO={useVisualState:vC({scrapeMotionValuesFromProps:xC,createRenderState:fC,onMount:(e,t,{renderState:n,latestValues:r})=>{ze.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ze.render(()=>{bx(n,r,{enableHardwareAcceleration:!1},wx(t.tagName),e.transformTemplate),gC(t,n)})}})},sO={useVisualState:vC({scrapeMotionValuesFromProps:jx,createRenderState:vx})};function iO(e,{forwardMotionProps:t=!1},n,r){return{...xx(e)?rO:sO,preloadedFeatures:n,useRender:QM(t),createVisualElement:r,Component:e}}function Cr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const bC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Jd(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const aO=e=>t=>bC(t)&&e(t,Jd(t));function Tr(e,t,n,r){return Cr(e,t,aO(n),r)}const oO=(e,t)=>n=>t(e(n)),vs=(...e)=>e.reduce(oO);function wC(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const vv=wC("dragHorizontal"),bv=wC("dragVertical");function jC(e){let t=!1;if(e==="y")t=bv();else if(e==="x")t=vv();else{const n=vv(),r=bv();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function SC(){const e=jC(!0);return e?(e(),!1):!0}class Is{constructor(t){this.isMounted=!1,this.node=t}update(){}}function wv(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,a)=>{if(i.pointerType==="touch"||SC())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&ze.update(()=>l[r](i,a))};return Tr(e.current,n,s,{passive:!e.getProps()[r]})}class lO extends Is{mount(){this.unmount=vs(wv(this.node,!0),wv(this.node,!1))}unmount(){}}class cO extends Is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vs(Cr(this.node.current,"focus",()=>this.onFocus()),Cr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const NC=(e,t)=>t?e===t?!0:NC(e,t.parentElement):!1;function rf(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Jd(n))}class uO extends Is{constructor(){super(...arguments),this.removeStartListeners=it,this.removeEndListeners=it,this.removeAccessibleListeners=it,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Tr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();ze.update(()=>{!h&&!NC(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=Tr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=vs(i,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||rf("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ze.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Cr(this.node.current,"keyup",a),rf("down",(l,c)=>{this.startPress(l,c)})},n=Cr(this.node.current,"keydown",t),r=()=>{this.isPressing&&rf("cancel",(i,a)=>this.cancelPress(i,a))},s=Cr(this.node.current,"blur",r);this.removeAccessibleListeners=vs(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ze.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!SC()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ze.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Tr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Cr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=vs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const pp=new WeakMap,sf=new WeakMap,dO=e=>{const t=pp.get(e.target);t&&t(e)},hO=e=>{e.forEach(dO)};function fO({root:e,...t}){const n=e||document;sf.has(n)||sf.set(n,{});const r=sf.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(hO,{root:e,...t})),r[s]}function mO(e,t,n){const r=fO(t);return pp.set(e,n),r.observe(e),()=>{pp.delete(e),r.unobserve(e)}}const pO={some:0,all:1};class gO extends Is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:pO[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return mO(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(xO(t,n))&&this.startObserver()}unmount(){}}function xO({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const yO={inView:{Feature:gO},tap:{Feature:uO},focus:{Feature:cO},hover:{Feature:lO}};function CC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function vO(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function bO(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Zd(e,t,n){const r=e.getProps();return Sx(r,t,n!==void 0?n:r.custom,vO(e),bO(e))}let Nx=it;const ii=e=>e*1e3,Pr=e=>e/1e3,wO={current:!1},kC=e=>Array.isArray(e)&&typeof e[0]=="number";function DC(e){return!!(!e||typeof e=="string"&&EC[e]||kC(e)||Array.isArray(e)&&e.every(DC))}const yo=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,EC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yo([0,.65,.55,1]),circOut:yo([.55,0,1,.45]),backIn:yo([.31,.01,.66,-.59]),backOut:yo([.33,1.53,.69,.99])};function TC(e){if(e)return kC(e)?yo(e):Array.isArray(e)?e.map(TC):EC[e]}function jO(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=TC(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function SO(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const PC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,NO=1e-7,CO=12;function kO(e,t,n,r,s){let i,a,l=0;do a=t+(n-t)/2,i=PC(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>NO&&++l<CO);return a}function $l(e,t,n,r){if(e===t&&n===r)return it;const s=i=>kO(i,0,1,e,n);return i=>i===0||i===1?i:PC(s(i),t,r)}const DO=$l(.42,0,1,1),EO=$l(0,0,.58,1),_C=$l(.42,0,.58,1),TO=e=>Array.isArray(e)&&typeof e[0]!="number",AC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,IC=e=>t=>1-e(1-t),Cx=e=>1-Math.sin(Math.acos(e)),MC=IC(Cx),PO=AC(Cx),OC=$l(.33,1.53,.69,.99),kx=IC(OC),_O=AC(kx),AO=e=>(e*=2)<1?.5*kx(e):.5*(2-Math.pow(2,-10*(e-1))),IO={linear:it,easeIn:DO,easeInOut:_C,easeOut:EO,circIn:Cx,circInOut:PO,circOut:MC,backIn:kx,backInOut:_O,backOut:OC,anticipate:AO},jv=e=>{if(Array.isArray(e)){Nx(e.length===4);const[t,n,r,s]=e;return $l(t,n,r,s)}else if(typeof e=="string")return IO[e];return e},Dx=(e,t)=>n=>!!(Ll(n)&&OM.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),RC=(e,t,n)=>r=>{if(!Ll(r))return r;const[s,i,a,l]=r.match(Xd);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},MO=e=>Cs(0,255,e),af={...ki,transform:e=>Math.round(MO(e))},ei={test:Dx("rgb","red"),parse:RC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+af.transform(e)+", "+af.transform(t)+", "+af.transform(n)+", "+Oo(Mo.transform(r))+")"};function OO(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const gp={test:Dx("#"),parse:OO,transform:ei.transform},Qi={test:Dx("hsl","hue"),parse:RC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+lr.transform(Oo(t))+", "+lr.transform(Oo(n))+", "+Oo(Mo.transform(r))+")"},zt={test:e=>ei.test(e)||gp.test(e)||Qi.test(e),parse:e=>ei.test(e)?ei.parse(e):Qi.test(e)?Qi.parse(e):gp.parse(e),transform:e=>Ll(e)?e:e.hasOwnProperty("red")?ei.transform(e):Qi.transform(e)},Ke=(e,t,n)=>-n*e+n*t+e;function of(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function RO({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=of(c,l,e+1/3),i=of(c,l,e),a=of(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const lf=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},LO=[gp,ei,Qi],FO=e=>LO.find(t=>t.test(e));function Sv(e){const t=FO(e);let n=t.parse(e);return t===Qi&&(n=RO(n)),n}const LC=(e,t)=>{const n=Sv(e),r=Sv(t),s={...n};return i=>(s.red=lf(n.red,r.red,i),s.green=lf(n.green,r.green,i),s.blue=lf(n.blue,r.blue,i),s.alpha=Ke(n.alpha,r.alpha,i),ei.transform(s))};function $O(e){var t,n;return isNaN(e)&&Ll(e)&&(((t=e.match(Xd))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(cC))===null||n===void 0?void 0:n.length)||0)>0}const FC={regex:IM,countKey:"Vars",token:"${v}",parse:it},$C={regex:cC,countKey:"Colors",token:"${c}",parse:zt.parse},zC={regex:Xd,countKey:"Numbers",token:"${n}",parse:ki.parse};function cf(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function Hu(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&cf(n,FC),cf(n,$C),cf(n,zC),n}function BC(e){return Hu(e).values}function VC(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Hu(e),i=t.length;return a=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(FC.token,a[c]):c<r+n?l=l.replace($C.token,zt.transform(a[c])):l=l.replace(zC.token,Oo(a[c]));return l}}const zO=e=>typeof e=="number"?0:e;function BO(e){const t=BC(e);return VC(e)(t.map(zO))}const ks={test:$O,parse:BC,createTransformer:VC,getAnimatableNone:BO},UC=(e,t)=>n=>`${n>0?t:e}`;function WC(e,t){return typeof e=="number"?n=>Ke(e,t,n):zt.test(e)?LC(e,t):e.startsWith("var(")?UC(e,t):qC(e,t)}const HC=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,a)=>WC(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}},VO=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=WC(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},qC=(e,t)=>{const n=ks.createTransformer(t),r=Hu(e),s=Hu(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?vs(HC(r.values,s.values),n):UC(e,t)},hl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Nv=(e,t)=>n=>Ke(e,t,n);function UO(e){return typeof e=="number"?Nv:typeof e=="string"?zt.test(e)?LC:qC:Array.isArray(e)?HC:typeof e=="object"?VO:Nv}function WO(e,t,n){const r=[],s=n||UO(e[0]),i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||it:t;l=vs(c,l)}r.push(l)}return r}function GC(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Nx(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=WO(t,r,s),l=a.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=hl(e[d],e[d+1],u);return a[d](h)};return n?u=>c(Cs(e[0],e[i-1],u)):c}function HO(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=hl(0,t,r);e.push(Ke(n,1,s))}}function qO(e){const t=[0];return HO(t,e.length-1),t}function GO(e,t){return e.map(n=>n*t)}function YO(e,t){return e.map(()=>t||_C).splice(0,e.length-1)}function qu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=TO(r)?r.map(jv):jv(r),i={done:!1,value:t[0]},a=GO(n&&n.length===t.length?n:qO(t),e),l=GC(a,t,{ease:Array.isArray(s)?s:YO(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function YC(e,t){return t?e*(1e3/t):0}const QO=5;function QC(e,t,n){const r=Math.max(t-QO,0);return YC(n-e(r),t-r)}const uf=.001,KO=.01,XO=10,JO=.05,ZO=1;function eR({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,a=1-t;a=Cs(JO,ZO,a),e=Cs(KO,XO,Pr(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-n,m=xp(u,a),p=Math.exp(-h);return uf-f/m*p},i=u=>{const h=u*a*e,f=h*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,p=Math.exp(-h),g=xp(Math.pow(u,2),a);return(-s(u)+uf>0?-1:1)*((f-m)*p)/g}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-uf+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=nR(s,i,l);if(e=ii(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const tR=12;function nR(e,t,n){let r=n;for(let s=1;s<tR;s++)r=r-e(r)/t(r);return r}function xp(e,t){return e*Math.sqrt(1-t*t)}const rR=["duration","bounce"],sR=["stiffness","damping","mass"];function Cv(e,t){return t.some(n=>e[n]!==void 0)}function iR(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Cv(e,sR)&&Cv(e,rR)){const n=eR(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function KC({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=iR({...r,velocity:-Pr(r.velocity||0)}),m=h||0,p=c/(2*Math.sqrt(l*u)),g=i-s,y=Pr(Math.sqrt(l/u)),b=Math.abs(g)<5;n||(n=b?.01:2),t||(t=b?.005:.5);let v;if(p<1){const w=xp(y,p);v=S=>{const j=Math.exp(-p*y*S);return i-j*((m+p*y*g)/w*Math.sin(w*S)+g*Math.cos(w*S))}}else if(p===1)v=w=>i-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(p*p-1);v=S=>{const j=Math.exp(-p*y*S),k=Math.min(w*S,300);return i-j*((m+p*y*g)*Math.sinh(k)+w*g*Math.cosh(k))/w}}return{calculatedDuration:f&&d||null,next:w=>{const S=v(w);if(f)a.done=w>=d;else{let j=m;w!==0&&(p<1?j=QC(v,w,S):j=0);const k=Math.abs(j)<=n,C=Math.abs(i-S)<=t;a.done=k&&C}return a.value=a.done?i:S,a}}}function kv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=N=>l!==void 0&&N<l||c!==void 0&&N>c,p=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let g=n*t;const y=h+g,b=a===void 0?y:a(y);b!==y&&(g=b-h);const v=N=>-g*Math.exp(-N/r),w=N=>b+v(N),S=N=>{const D=v(N),T=w(N);f.done=Math.abs(D)<=u,f.value=f.done?b:T};let j,k;const C=N=>{m(f.value)&&(j=N,k=KC({keyframes:[f.value,p(f.value)],velocity:QC(w,N,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:N=>{let D=!1;return!k&&j===void 0&&(D=!0,S(N),C(N)),j!==void 0&&N>j?k.next(N-j):(!D&&S(N),f)}}}const aR=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ze.update(t,!0),stop:()=>Fr(t),now:()=>Tt.isProcessing?Tt.timestamp:performance.now()}},Dv=2e4;function Ev(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Dv;)t+=n,r=e.next(t);return t>=Dv?1/0:t}const oR={decay:kv,inertia:kv,tween:qu,keyframes:qu,spring:KC};function Gu({autoplay:e=!0,delay:t=0,driver:n=aR,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...f}){let m=1,p=!1,g,y;const b=()=>{y=new Promise(B=>{g=B})};b();let v;const w=oR[s]||qu;let S;w!==qu&&typeof r[0]!="number"&&(S=GC([0,100],r,{clamp:!1}),r=[0,100]);const j=w({...f,keyframes:r});let k;l==="mirror"&&(k=w({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let C="idle",N=null,D=null,T=null;j.calculatedDuration===null&&i&&(j.calculatedDuration=Ev(j));const{calculatedDuration:L}=j;let V=1/0,F=1/0;L!==null&&(V=L+a,F=V*(i+1)-a);let _=0;const z=B=>{if(D===null)return;m>0&&(D=Math.min(D,B)),m<0&&(D=Math.min(B-F/m,D)),N!==null?_=N:_=Math.round(B-D)*m;const q=_-t*(m>=0?1:-1),J=m>=0?q<0:q>F;_=Math.max(q,0),C==="finished"&&N===null&&(_=F);let ne=_,ae=j;if(i){const K=Math.min(_,F)/V;let fe=Math.floor(K),A=K%1;!A&&K>=1&&(A=1),A===1&&fe--,fe=Math.min(fe,i+1),!!(fe%2)&&(l==="reverse"?(A=1-A,a&&(A-=a/V)):l==="mirror"&&(ae=k)),ne=Cs(0,1,A)*V}const G=J?{done:!1,value:r[0]}:ae.next(ne);S&&(G.value=S(G.value));let{done:O}=G;!J&&L!==null&&(O=m>=0?_>=F:_<=0);const H=N===null&&(C==="finished"||C==="running"&&O);return h&&h(G.value),H&&E(),G},W=()=>{v&&v.stop(),v=void 0},I=()=>{C="idle",W(),g(),b(),D=T=null},E=()=>{C="finished",d&&d(),W(),g()},P=()=>{if(p)return;v||(v=n(z));const B=v.now();c&&c(),N!==null?D=B-N:(!D||C==="finished")&&(D=B),C==="finished"&&b(),T=D,N=null,C="running",v.start()};e&&P();const R={then(B,q){return y.then(B,q)},get time(){return Pr(_)},set time(B){B=ii(B),_=B,N!==null||!v||m===0?N=B:D=v.now()-B/m},get duration(){const B=j.calculatedDuration===null?Ev(j):j.calculatedDuration;return Pr(B)},get speed(){return m},set speed(B){B===m||!v||(m=B,R.time=Pr(_))},get state(){return C},play:P,pause:()=>{C="paused",N=_},stop:()=>{p=!0,C!=="idle"&&(C="idle",u&&u(),I())},cancel:()=>{T!==null&&z(T),I()},complete:()=>{C="finished"},sample:B=>(D=0,z(B))};return R}function lR(e){let t;return()=>(t===void 0&&(t=e()),t)}const cR=lR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uR=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),xc=10,dR=2e4,hR=(e,t)=>t.type==="spring"||e==="backgroundColor"||!DC(t.ease);function fR(e,t,{onUpdate:n,onComplete:r,...s}){if(!(cR()&&uR.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(w=>{l=w})};d();let{keyframes:h,duration:f=300,ease:m,times:p}=s;if(hR(t,s)){const w=Gu({...s,repeat:0,delay:0});let S={done:!1,value:h[0]};const j=[];let k=0;for(;!S.done&&k<dR;)S=w.sample(k),j.push(S.value),k+=xc;p=void 0,h=j,f=k-xc,m="linear"}const g=jO(e.owner.current,t,h,{...s,duration:f,ease:m,times:p}),y=()=>{u=!1,g.cancel()},b=()=>{u=!0,ze.update(y),l(),d()};return g.onfinish=()=>{u||(e.set(SO(h,s)),r&&r(),b())},{then(w,S){return c.then(w,S)},attachTimeline(w){return g.timeline=w,g.onfinish=null,it},get time(){return Pr(g.currentTime||0)},set time(w){g.currentTime=ii(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return Pr(f)},play:()=>{a||(g.play(),Fr(y))},pause:()=>g.pause(),stop:()=>{if(a=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const S=Gu({...s,autoplay:!1});e.setWithVelocity(S.sample(w-xc).value,S.sample(w).value,xc)}b()},complete:()=>{u||g.finish()},cancel:b}}function mR({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:it,pause:it,stop:it,then:i=>(i(),Promise.resolve()),cancel:it,complete:it});return t?Gu({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const pR={type:"spring",stiffness:500,damping:25,restSpeed:10},gR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),xR={type:"keyframes",duration:.8},yR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vR=(e,{keyframes:t})=>t.length>2?xR:Ci.has(e)?e.startsWith("scale")?gR(t[1]):pR:yR,yp=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ks.test(t)||t==="0")&&!t.startsWith("url(")),bR=new Set(["brightness","contrast","saturate","opacity"]);function wR(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Xd)||[];if(!r)return e;const s=n.replace(r,"");let i=bR.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const jR=/([a-z-]*)\(.*?\)/g,vp={...ks,getAnimatableNone:e=>{const t=e.match(jR);return t?t.map(wR).join(" "):e}},SR={...uC,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:vp,WebkitFilter:vp},Ex=e=>SR[e];function XC(e,t){let n=Ex(e);return n!==vp&&(n=ks),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const JC=e=>/^0[^.\s]+$/.test(e);function NR(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||JC(e)}function CR(e,t,n,r){const s=yp(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?a:i[u-1]),NR(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=XC(t,l)}return i}function kR({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Tx(e,t){return e[t]||e.default||e}const DR={skipAnimations:!1},Px=(e,t,n,r={})=>s=>{const i=Tx(r,e)||{},a=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-ii(a);const c=CR(t,e,n,i),u=c[0],d=c[c.length-1],h=yp(e,u),f=yp(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:p=>{t.set(p),i.onUpdate&&i.onUpdate(p)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(kR(i)||(m={...m,...vR(e,m)}),m.duration&&(m.duration=ii(m.duration)),m.repeatDelay&&(m.repeatDelay=ii(m.repeatDelay)),!h||!f||wO.current||i.type===!1||DR.skipAnimations)return mR(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=fR(t,e,m);if(p)return p}return Gu(m)};function Yu(e){return!!(nn(e)&&e.add)}const ZC=e=>/^\-?\d*\.?\d+$/.test(e);function _x(e,t){e.indexOf(t)===-1&&e.push(t)}function Ax(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ix{constructor(){this.subscriptions=[]}add(t){return _x(this.subscriptions,t),()=>Ax(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ER=e=>!isNaN(parseFloat(e));class TR{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=Tt;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,ze.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ze.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=ER(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ix);const r=this.events[t].add(n);return t==="change"?()=>{r(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?YC(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pa(e,t){return new TR(e,t)}const e2=e=>t=>t.test(e),PR={test:e=>e==="auto",parse:e=>e},t2=[ki,be,lr,Yr,LM,RM,PR],Ka=e=>t2.find(e2(e)),_R=[...t2,zt,ks],AR=e=>_R.find(e2(e));function IR(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,pa(n))}function MR(e,t){const n=Zd(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const l=XM(i[a]);IR(e,a,l)}}function OR(e,t,n){var r,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),a=i.length;if(a)for(let l=0;l<a;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(ZC(d)||JC(d))?d=parseFloat(d):!AR(d)&&ks.test(u)&&(d=XC(c,u)),e.addValue(c,pa(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function RR(e,t){return t?(t[e]||t.default||t).from:void 0}function LR(e,t,n){const r={};for(const s in e){const i=RR(s,t);if(i!==void 0)r[s]=i;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function FR({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function $R(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function n2(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h),m=l[h];if(!f||m===void 0||d&&FR(d,h))continue;const p={delay:n,elapsed:0,...Tx(i||{},h)};if(window.HandoffAppearAnimations){const b=e.getProps()[rC];if(b){const v=window.HandoffAppearAnimations(b,h,f,ze);v!==null&&(p.elapsed=v,p.isHandoff=!0)}}let g=!p.isHandoff&&!$R(f,m);if(p.type==="spring"&&(f.getVelocity()||p.velocity)&&(g=!1),f.animation&&(g=!1),g)continue;f.start(Px(h,f,m,e.shouldReduceMotion&&Ci.has(h)?{type:!1}:p));const y=f.animation;Yu(c)&&(c.add(h),y.then(()=>c.remove(h))),u.push(y)}return a&&Promise.all(u).then(()=>{a&&MR(e,a)}),u}function bp(e,t,n={}){const r=Zd(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(n2(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return zR(e,t,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function zR(e,t,n=0,r=0,s=1,i){const a=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(BR).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(bp(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function BR(e,t){return e.sortNodePosition(t)}function VR(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>bp(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=bp(e,t,n);else{const s=typeof t=="function"?Zd(e,t,n.custom):t;r=Promise.all(n2(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const UR=[...mx].reverse(),WR=mx.length;function HR(e){return t=>Promise.all(t.map(({animation:n,options:r})=>VR(e,n,r)))}function qR(e){let t=HR(e);const n=YR();let r=!0;const s=(c,u)=>{const d=Zd(e,u);if(d){const{transition:h,transitionEnd:f,...m}=d;c={...c,...m,...f}}return c};function i(c){t=c(e)}function a(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],m=new Set;let p={},g=1/0;for(let b=0;b<WR;b++){const v=UR[b],w=n[v],S=d[v]!==void 0?d[v]:h[v],j=ul(S),k=v===u?w.isActive:null;k===!1&&(g=b);let C=S===h[v]&&S!==d[v]&&j;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...p},!w.isActive&&k===null||!S&&!w.prevProp||Qd(S)||typeof S=="boolean")continue;let D=GR(w.prevProp,S)||v===u&&w.isActive&&!C&&j||b>g&&j,T=!1;const L=Array.isArray(S)?S:[S];let V=L.reduce(s,{});k===!1&&(V={});const{prevResolvedValues:F={}}=w,_={...F,...V},z=W=>{D=!0,m.has(W)&&(T=!0,m.delete(W)),w.needsAnimating[W]=!0};for(const W in _){const I=V[W],E=F[W];if(p.hasOwnProperty(W))continue;let P=!1;Wu(I)&&Wu(E)?P=!CC(I,E):P=I!==E,P?I!==void 0?z(W):m.add(W):I!==void 0&&m.has(W)?z(W):w.protectedKeys[W]=!0}w.prevProp=S,w.prevResolvedValues=V,w.isActive&&(p={...p,...V}),r&&e.blockInitialAnimation&&(D=!1),D&&(!C||T)&&f.push(...L.map(W=>({animation:W,options:{type:v,...c}})))}if(m.size){const b={};m.forEach(v=>{const w=e.getBaseTarget(v);w!==void 0&&(b[v]=w)}),f.push({animation:b})}let y=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(f):Promise.resolve()}function l(c,u,d){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const f=a(d,c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n}}function GR(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!CC(t,e):!1}function Os(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YR(){return{animate:Os(!0),whileInView:Os(),whileHover:Os(),whileTap:Os(),whileDrag:Os(),whileFocus:Os(),exit:Os()}}class QR extends Is{constructor(t){super(t),t.animationState||(t.animationState=qR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Qd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let KR=0;class XR extends Is{constructor(){super(...arguments),this.id=KR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const JR={animation:{Feature:QR},exit:{Feature:XR}},Tv=(e,t)=>Math.abs(e-t);function ZR(e,t){const n=Tv(e.x,t.x),r=Tv(e.y,t.y);return Math.sqrt(n**2+r**2)}class r2{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=hf(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=ZR(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:p}=h,{timestamp:g}=Tt;this.history.push({...p,timestamp:g});const{onStart:y,onMove:b}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=df(f,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=hf(h.type==="pointercancel"?this.lastMoveEventInfo:df(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,y),p&&p(h,y)},!bC(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Jd(t),l=df(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Tt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,hf(l,this.history)),this.removeListeners=vs(Tr(this.contextWindow,"pointermove",this.handlePointerMove),Tr(this.contextWindow,"pointerup",this.handlePointerUp),Tr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fr(this.updatePoint)}}function df(e,t){return t?{point:t(e.point)}:e}function Pv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hf({point:e},t){return{point:e,delta:Pv(e,s2(t)),offset:Pv(e,e4(t)),velocity:t4(t,.1)}}function e4(e){return e[0]}function s2(e){return e[e.length-1]}function t4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=s2(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>ii(t)));)n--;if(!r)return{x:0,y:0};const i=Pr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function fn(e){return e.max-e.min}function wp(e,t=0,n=.01){return Math.abs(e-t)<=n}function _v(e,t,n,r=.5){e.origin=r,e.originPoint=Ke(t.min,t.max,e.origin),e.scale=fn(n)/fn(t),(wp(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ke(n.min,n.max,e.origin)-e.originPoint,(wp(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ro(e,t,n,r){_v(e.x,t.x,n.x,r?r.originX:void 0),_v(e.y,t.y,n.y,r?r.originY:void 0)}function Av(e,t,n){e.min=n.min+t.min,e.max=e.min+fn(t)}function n4(e,t,n){Av(e.x,t.x,n.x),Av(e.y,t.y,n.y)}function Iv(e,t,n){e.min=t.min-n.min,e.max=e.min+fn(t)}function Lo(e,t,n){Iv(e.x,t.x,n.x),Iv(e.y,t.y,n.y)}function r4(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ke(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ke(n,e,r.max):Math.min(e,n)),e}function Mv(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function s4(e,{top:t,left:n,bottom:r,right:s}){return{x:Mv(e.x,n,s),y:Mv(e.y,t,r)}}function Ov(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function i4(e,t){return{x:Ov(e.x,t.x),y:Ov(e.y,t.y)}}function a4(e,t){let n=.5;const r=fn(e),s=fn(t);return s>r?n=hl(t.min,t.max-r,e.min):r>s&&(n=hl(e.min,e.max-s,t.min)),Cs(0,1,n)}function o4(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const jp=.35;function l4(e=jp){return e===!1?e=0:e===!0&&(e=jp),{x:Rv(e,"left","right"),y:Rv(e,"top","bottom")}}function Rv(e,t,n){return{min:Lv(e,t),max:Lv(e,n)}}function Lv(e,t){return typeof e=="number"?e:e[t]||0}const Fv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ki=()=>({x:Fv(),y:Fv()}),$v=()=>({min:0,max:0}),lt=()=>({x:$v(),y:$v()});function wn(e){return[e("x"),e("y")]}function i2({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function c4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function u4(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ff(e){return e===void 0||e===1}function Sp({scale:e,scaleX:t,scaleY:n}){return!ff(e)||!ff(t)||!ff(n)}function Us(e){return Sp(e)||a2(e)||e.z||e.rotate||e.rotateX||e.rotateY}function a2(e){return zv(e.x)||zv(e.y)}function zv(e){return e&&e!=="0%"}function Qu(e,t,n){const r=e-n,s=t*r;return n+s}function Bv(e,t,n,r,s){return s!==void 0&&(e=Qu(e,s,r)),Qu(e,n,r)+t}function Np(e,t=0,n=1,r,s){e.min=Bv(e.min,t,n,r,s),e.max=Bv(e.max,t,n,r,s)}function o2(e,{x:t,y:n}){Np(e.x,t.translate,t.scale,t.originPoint),Np(e.y,n.translate,n.scale,n.originPoint)}function d4(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xi(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,o2(e,a)),r&&Us(i.latestValues)&&Xi(e,i.latestValues))}t.x=Vv(t.x),t.y=Vv(t.y)}function Vv(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Xr(e,t){e.min=e.min+t,e.max=e.max+t}function Uv(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,a=Ke(e.min,e.max,i);Np(e,t[n],t[r],a,t.scale)}const h4=["x","scaleX","originX"],f4=["y","scaleY","originY"];function Xi(e,t){Uv(e.x,t,h4),Uv(e.y,t,f4)}function l2(e,t){return i2(u4(e.getBoundingClientRect(),t))}function m4(e,t,n){const r=l2(e,n),{scroll:s}=t;return s&&(Xr(r.x,s.offset.x),Xr(r.y,s.offset.y)),r}const c2=({current:e})=>e?e.ownerDocument.defaultView:null,p4=new WeakMap;class g4{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jd(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:p}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jC(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wn(y=>{let b=this.getAxisMotionValue(y).get()||0;if(lr.test(b)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[y];w&&(b=fn(w)*(parseFloat(b)/100))}}this.originPoint[y]=b}),p&&ze.update(()=>p(d,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:y}=h;if(m&&this.currentDirection===null){this.currentDirection=x4(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),g&&g(d,h)},l=(d,h)=>this.stop(d,h),c=()=>wn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new r2(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:c2(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ze.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!yc(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=r4(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Yi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=s4(s.layoutBox,n):this.constraints=!1,this.elastic=l4(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&wn(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=o4(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Yi(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=m4(r,s.root,this.visualElement.getTransformPagePoint());let a=i4(s.layout.layoutBox,i);if(n){const l=n(c4(a));this.hasMutatedConstraints=!!l,l&&(a=i2(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=wn(d=>{if(!yc(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Px(t,r,0,n))}stopAnimation(){wn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){wn(n=>{const{drag:r}=this.getProps();if(!yc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(t[n]-Ke(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Yi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};wn(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=a4({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wn(a=>{if(!yc(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Ke(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;p4.set(this.visualElement,this);const t=this.visualElement.current,n=Tr(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Yi(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=Cr(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(wn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=jp,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function yc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function x4(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class y4 extends Is{constructor(t){super(t),this.removeGroupControls=it,this.removeListeners=it,this.controls=new g4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||it}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wv=e=>(t,n)=>{e&&ze.update(()=>e(t,n))};class v4 extends Is{constructor(){super(...arguments),this.removePointerDownListener=it}onPointerDown(t){this.session=new r2(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:c2(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Wv(t),onStart:Wv(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&ze.update(()=>s(i,a))}}}mount(){this.removePointerDownListener=Tr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function b4(){const e=x.useContext(Gd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=x.useId();return x.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const su={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xa={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(be.test(e))e=parseFloat(e);else return e;const n=Hv(e,t.target.x),r=Hv(e,t.target.y);return`${n}% ${r}%`}},w4={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=ks.parse(e);if(s.length>5)return r;const i=ks.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=Ke(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class j4 extends re.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;TM(S4),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),su.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||ze.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function u2(e){const[t,n]=b4(),r=x.useContext(gx);return re.createElement(j4,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(iC),isPresent:t,safeToRemove:n})}const S4={borderRadius:{...Xa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xa,borderTopRightRadius:Xa,borderBottomLeftRadius:Xa,borderBottomRightRadius:Xa,boxShadow:w4},d2=["TopLeft","TopRight","BottomLeft","BottomRight"],N4=d2.length,qv=e=>typeof e=="string"?parseFloat(e):e,Gv=e=>typeof e=="number"||be.test(e);function C4(e,t,n,r,s,i){s?(e.opacity=Ke(0,n.opacity!==void 0?n.opacity:1,k4(r)),e.opacityExit=Ke(t.opacity!==void 0?t.opacity:1,0,D4(r))):i&&(e.opacity=Ke(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<N4;a++){const l=`border${d2[a]}Radius`;let c=Yv(t,l),u=Yv(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Gv(c)===Gv(u)?(e[l]=Math.max(Ke(qv(c),qv(u),r),0),(lr.test(u)||lr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Ke(t.rotate||0,n.rotate||0,r))}function Yv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const k4=h2(0,.5,MC),D4=h2(.5,.95,it);function h2(e,t,n){return r=>r<e?0:r>t?1:n(hl(e,t,r))}function Qv(e,t){e.min=t.min,e.max=t.max}function xn(e,t){Qv(e.x,t.x),Qv(e.y,t.y)}function Kv(e,t,n,r,s){return e-=t,e=Qu(e,1/n,r),s!==void 0&&(e=Qu(e,1/s,r)),e}function E4(e,t=0,n=1,r=.5,s,i=e,a=e){if(lr.test(t)&&(t=parseFloat(t),t=Ke(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Ke(i.min,i.max,r);e===i&&(l-=t),e.min=Kv(e.min,t,n,l,s),e.max=Kv(e.max,t,n,l,s)}function Xv(e,t,[n,r,s],i,a){E4(e,t[n],t[r],t[s],t.scale,i,a)}const T4=["x","scaleX","originX"],P4=["y","scaleY","originY"];function Jv(e,t,n,r){Xv(e.x,t,T4,n?n.x:void 0,r?r.x:void 0),Xv(e.y,t,P4,n?n.y:void 0,r?r.y:void 0)}function Zv(e){return e.translate===0&&e.scale===1}function f2(e){return Zv(e.x)&&Zv(e.y)}function _4(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function m2(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function eb(e){return fn(e.x)/fn(e.y)}class A4{constructor(){this.members=[]}add(t){_x(this.members,t),t.scheduleRender()}remove(t){if(Ax(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tb(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const I4=(e,t)=>e.depth-t.depth;class M4{constructor(){this.children=[],this.isDirty=!1}add(t){_x(this.children,t),this.isDirty=!0}remove(t){Ax(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(I4),this.isDirty=!1,this.children.forEach(t)}}function O4(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Fr(r),e(i-t))};return ze.read(r,!0),()=>Fr(r)}function R4(e){window.MotionDebug&&window.MotionDebug.record(e)}function L4(e){return e instanceof SVGElement&&e.tagName!=="svg"}function F4(e,t,n){const r=nn(e)?e:pa(e);return r.start(Px("",r,t,n)),r.animation}const nb=["","X","Y","Z"],$4={visibility:"hidden"},rb=1e3;let z4=0;const Ws={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function p2({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=z4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ws.totalNodes=Ws.resolvedTargetDeltas=Ws.recalculatedProjection=0,this.nodes.forEach(U4),this.nodes.forEach(Y4),this.nodes.forEach(Q4),this.nodes.forEach(W4),R4(Ws)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new M4)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Ix),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=L4(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=O4(f,250),su.hasAnimatedSinceResize&&(su.hasAnimatedSinceResize=!1,this.nodes.forEach(ib))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||eL,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=d.getProps(),v=!this.targetLayout||!m2(this.targetLayout,p)||m,w=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const S={...Tx(g,"layout"),onPlay:y,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||ib(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K4),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sb);return}this.isUpdating||this.nodes.forEach(q4),this.isUpdating=!1,this.nodes.forEach(G4),this.nodes.forEach(B4),this.nodes.forEach(V4),this.clearAllSnapshots();const l=performance.now();Tt.delta=Cs(0,1e3/60,l-Tt.timestamp),Tt.timestamp=l,Tt.isProcessing=!0,nf.update.process(Tt),nf.preRender.process(Tt),nf.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(H4),this.sharedNodes.forEach(X4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!f2(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Us(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),tL(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return lt();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Xr(l.x,c.offset.x),Xr(l.y,c.offset.y)),l}removeElementScroll(a){const l=lt();xn(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){xn(l,a);const{scroll:f}=this.root;f&&(Xr(l.x,-f.offset.x),Xr(l.y,-f.offset.y))}Xr(l.x,d.offset.x),Xr(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=lt();xn(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Xi(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Us(d.latestValues)&&Xi(c,d.latestValues)}return Us(this.latestValues)&&Xi(c,this.latestValues),c}removeTransform(a){const l=lt();xn(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Us(u.latestValues))continue;Sp(u.latestValues)&&u.updateSnapshot();const d=lt(),h=u.measurePageBox();xn(d,h),Jv(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Us(this.latestValues)&&Jv(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Lo(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xn(this.target,this.layout.layoutBox),o2(this.target,this.targetDelta)):xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Lo(this.relativeTargetOrigin,this.target,m.target),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ws.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sp(this.parent.latestValues)||a2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;xn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;d4(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:p}=l;if(!p){this.projectionTransform&&(this.projectionDelta=Ki(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ki(),this.projectionDeltaWithTransform=Ki());const g=this.projectionTransform;Ro(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=tb(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Ws.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Ki();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=lt(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,y=this.getStack(),b=!y||y.members.length<=1,v=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(Z4));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const j=S/1e3;ab(h.x,a.x,j),ab(h.y,a.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lo(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),J4(this.relativeTarget,this.relativeTargetOrigin,f,j),w&&_4(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=lt()),xn(w,this.relativeTarget)),g&&(this.animationValues=d,C4(d,u,this.latestValues,j,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{su.hasAnimatedSinceResize=!0,this.currentAnimation=F4(0,rb,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&g2(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||lt();const h=fn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=fn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}xn(l,c),Xi(l,d),Ro(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new A4),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<nb.length;d++){const h="rotate"+nb[d];c[h]&&(u[h]=c[h],a.setStaticValue(h,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $4;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ru(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=ru(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Us(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=tb(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:p}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Vu){if(f[g]===void 0)continue;const{correct:y,applyTo:b}=Vu[g],v=u.transform==="none"?f[g]:y(f[g],h);if(b){const w=b.length;for(let S=0;S<w;S++)u[b[S]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=h===this?ru(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(sb),this.root.sharedNodes.clear()}}}function B4(e){e.updateLayout()}function V4(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?wn(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=fn(f);f.min=r[h].min,f.max=f.min+m}):g2(i,n.layoutBox,r)&&wn(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=fn(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=Ki();Ro(l,r,n.layoutBox);const c=Ki();a?Ro(c,e.applyTransform(s,!0),n.measuredBox):Ro(c,r,n.layoutBox);const u=!f2(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=lt();Lo(p,n.layoutBox,f.layoutBox);const g=lt();Lo(g,r,m.layoutBox),m2(p,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function U4(e){Ws.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function W4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function H4(e){e.clearSnapshot()}function sb(e){e.clearMeasurements()}function q4(e){e.isLayoutDirty=!1}function G4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ib(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Y4(e){e.resolveTargetDelta()}function Q4(e){e.calcProjection()}function K4(e){e.resetRotation()}function X4(e){e.removeLeadSnapshot()}function ab(e,t,n){e.translate=Ke(t.translate,0,n),e.scale=Ke(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ob(e,t,n,r){e.min=Ke(t.min,n.min,r),e.max=Ke(t.max,n.max,r)}function J4(e,t,n,r){ob(e.x,t.x,n.x,r),ob(e.y,t.y,n.y,r)}function Z4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const eL={duration:.45,ease:[.4,0,.1,1]},lb=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),cb=lb("applewebkit/")&&!lb("chrome/")?Math.round:it;function ub(e){e.min=cb(e.min),e.max=cb(e.max)}function tL(e){ub(e.x),ub(e.y)}function g2(e,t,n){return e==="position"||e==="preserve-aspect"&&!wp(eb(t),eb(n),.2)}const nL=p2({attachResizeListener:(e,t)=>Cr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mf={current:void 0},x2=p2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!mf.current){const e=new nL({});e.mount(window),e.setOptions({layoutScroll:!0}),mf.current=e}return mf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),rL={pan:{Feature:v4},drag:{Feature:y4,ProjectionNode:x2,MeasureLayout:u2}},sL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function iL(e){const t=sL.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Cp(e,t,n=1){const[r,s]=iL(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return ZC(a)?parseFloat(a):a}else return mp(s)?Cp(s,t,n+1):s}function aL(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!mp(i))return;const a=Cp(i,r);a&&s.set(a)});for(const s in t){const i=t[s];if(!mp(i))continue;const a=Cp(i,r);a&&(t[s]=a,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const oL=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),y2=e=>oL.has(e),lL=e=>Object.keys(e).some(y2),db=e=>e===ki||e===be,hb=(e,t)=>parseFloat(e.split(", ")[t]),fb=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return hb(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?hb(i[1],e):0}},cL=new Set(["x","y","z"]),uL=Rl.filter(e=>!cL.has(e));function dL(e){const t=[];return uL.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ga={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:fb(4,13),y:fb(5,14)};ga.translateX=ga.x;ga.translateY=ga.y;const hL=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:a}=i,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=ga[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=ga[u](c,i)}),e},fL=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(y2);let i=[],a=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],h=Ka(d);const f=t[c];let m;if(Wu(f)){const p=f.length,g=f[0]===null?1:0;d=f[g],h=Ka(d);for(let y=g;y<p&&f[y]!==null;y++)m?Nx(Ka(f[y])===m):m=Ka(f[y])}else m=Ka(f);if(h!==m)if(db(h)&&db(m)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&m===be&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||f===0)?d===0?u.set(m.transform(d)):t[c]=h.transform(f):(a||(i=dL(e),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=hL(t,e,l);return i.length&&i.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),Yd&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function mL(e,t,n,r){return lL(t)?fL(e,t,n,r):{target:t,transitionEnd:r}}const pL=(e,t,n,r)=>{const s=aL(e,t,r);return t=s.target,r=s.transitionEnd,mL(e,t,n,r)},kp={current:null},v2={current:!1};function gL(){if(v2.current=!0,!!Yd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kp.current=e.matches;e.addListener(t),t()}else kp.current=!1}function xL(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],a=n[s];if(nn(i))e.addValue(s,i),Yu(r)&&r.add(s);else if(nn(a))e.addValue(s,pa(i,{owner:e})),Yu(r)&&r.remove(s);else if(a!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,pa(l!==void 0?l:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const mb=new WeakMap,b2=Object.keys(dl),yL=b2.length,pb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],vL=px.length;class bL{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ze.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=Kd(n),this.isVariantNode=sC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];l[h]!==void 0&&nn(f)&&(f.set(l[h],!1),Yu(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,mb.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),v2.current||gL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){mb.delete(this.current),this.projection&&this.projection.unmount(),Fr(this.notifyUpdate),Fr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ci.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ze.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let a,l;for(let c=0;c<yL;c++){const u=b2[c],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=dl[u];f&&(a=f),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&Yi(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:m})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<pb.length;r++){const s=pb[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=xL(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<vL;r++){const s=px[r],i=this.props[s];(ul(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=pa(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Sx(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!nn(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ix),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class w2 extends bL{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let a=LR(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),i){OR(this,r,a);const l=pL(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function wL(e){return window.getComputedStyle(e)}class jL extends w2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ci.has(n)){const r=Ex(n);return r&&r.default||0}else{const r=wL(t),s=(lC(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return l2(t,n)}build(t,n,r,s){yx(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return jx(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;nn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){mC(t,n,r,s)}}class SL extends w2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ci.has(n)){const r=Ex(n);return r&&r.default||0}return n=pC.has(n)?n:fx(n),t.getAttribute(n)}measureInstanceViewportBox(){return lt()}scrapeMotionValuesFromProps(t,n){return xC(t,n)}build(t,n,r,s){bx(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){gC(t,n,r,s)}mount(t){this.isSVGTag=wx(t.tagName),super.mount(t)}}const NL=(e,t)=>xx(e)?new SL(t,{enableHardwareAcceleration:!1}):new jL(t,{enableHardwareAcceleration:!0}),CL={layout:{ProjectionNode:x2,MeasureLayout:u2}},kL={...JR,...yO,...rL,...CL},es=DM((e,t)=>iO(e,t,kL,NL));function j2(){const e=x.useRef(!1);return hx(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function DL(){const e=j2(),[t,n]=x.useState(0),r=x.useCallback(()=>{e.current&&n(t+1)},[t]);return[x.useCallback(()=>ze.postRender(r),[r]),t]}class EL extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function TL({children:e,isPresent:t}){const n=x.useId(),r=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0});return x.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=s.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),x.createElement(EL,{isPresent:t,childRef:r,sizeRef:s},x.cloneElement(e,{ref:r}))}const pf=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=yC(PL),c=x.useId(),u=x.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[n]);return x.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[n]),x.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(e=x.createElement(TL,{isPresent:n},e)),x.createElement(Gd.Provider,{value:u},e)};function PL(){return new Map}function _L(e){return x.useEffect(()=>()=>e(),[])}const Hs=e=>e.key||"";function AL(e,t){e.forEach(n=>{const r=Hs(n);t.set(r,n)})}function IL(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const Mx=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=x.useContext(gx).forceRender||DL()[0],c=j2(),u=IL(e);let d=u;const h=x.useRef(new Map).current,f=x.useRef(d),m=x.useRef(new Map).current,p=x.useRef(!0);if(hx(()=>{p.current=!1,AL(u,m),f.current=d}),_L(()=>{p.current=!0,m.clear(),h.clear()}),p.current)return x.createElement(x.Fragment,null,d.map(v=>x.createElement(pf,{key:Hs(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},v)));d=[...d];const g=f.current.map(Hs),y=u.map(Hs),b=g.length;for(let v=0;v<b;v++){const w=g[v];y.indexOf(w)===-1&&!h.has(w)&&h.set(w,void 0)}return a==="wait"&&h.size&&(d=[]),h.forEach((v,w)=>{if(y.indexOf(w)!==-1)return;const S=m.get(w);if(!S)return;const j=g.indexOf(w);let k=v;if(!k){const C=()=>{h.delete(w);const N=Array.from(m.keys()).filter(D=>!y.includes(D));if(N.forEach(D=>m.delete(D)),f.current=u.filter(D=>{const T=Hs(D);return T===w||N.includes(T)}),!h.size){if(c.current===!1)return;l(),r&&r()}};k=x.createElement(pf,{key:Hs(S),isPresent:!1,onExitComplete:C,custom:t,presenceAffectsLayout:i,mode:a},S),h.set(w,k)}d.splice(j,0,k)}),d=d.map(v=>{const w=v.key;return h.has(w)?v:x.createElement(pf,{key:Hs(v),isPresent:!0,presenceAffectsLayout:i,mode:a},v)}),x.createElement(x.Fragment,null,h.size?d:d.map(v=>x.cloneElement(v)))},ML="/assets/asp-logo-Cq2CSw-i.jpg",OL="/crane-icon.svg",RL=[{label:"Dashboard",icon:o.jsx(fI,{size:18}),href:"/dashboard",roles:["admin","sales_agent","operations_manager","operator"],end:!0},{label:"Leads",icon:o.jsx(cI,{size:18}),href:"/leads",roles:["admin","sales_agent"]},{label:"Deals",icon:o.jsx(hI,{size:18}),href:"/deals",roles:["admin","sales_agent"]},{label:"Quotations",icon:o.jsx(zN,{size:18}),href:"/quotations",roles:["admin","sales_agent"]},{label:"Customers",icon:o.jsx(lx,{size:18}),href:"/customers",roles:["admin","sales_agent","operations_manager"]},{label:"Job Scheduling",icon:o.jsx(Gn,{size:18}),href:"/jobs",roles:["admin","operations_manager","operator"]},{label:"Site Assessment",icon:o.jsx(ux,{size:18}),href:"/site-assessments",roles:["admin","operations_manager","operator"]},{label:"Configuration",icon:o.jsx($N,{size:18}),href:"/admin/config",roles:["admin","operations_manager"]},{label:"User Management",icon:o.jsx(tn,{size:18}),href:"/admin/users",roles:["admin"]},{label:"Equipment",icon:o.jsx(mi,{size:18}),href:"/admin/equipment",roles:["admin","operations_manager"]},{label:"Services",icon:o.jsx(Wt,{size:18}),href:"/admin/services",roles:["admin","operations_manager"]},{label:"Feedback",icon:o.jsx(xI,{size:18}),href:"/job-summary",roles:["admin","operations_manager","operator"]},{label:"Template Builder",icon:o.jsx(Wt,{size:18}),href:"/admin/templates",roles:["admin","sales_agent"]}];function LL({isMobileOpen:e=!1,onMobileClose:t,isCollapsed:n,onCollapseToggle:r}){const{user:s}=Ge(),i=hr(),[a,l]=x.useState(!1),c=n!==void 0,u=c?n:a;if(x.useEffect(()=>{const y=()=>{window.innerWidth<1024&&l(!0)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),!s)return null;const d=RL.filter(y=>y.roles.includes(s.role)),h=(y,b)=>b?i.pathname===y:y==="/dashboard"&&i.pathname==="/"?!0:i.pathname.startsWith(y),f=()=>{c&&r?r(!u):l(y=>!y)},m=o.jsx(Mx,{children:e&&o.jsxs(o.Fragment,{children:[o.jsx(es.div,{className:"fixed inset-0 z-40 bg-black/30 backdrop-blur-sm lg:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,"aria-hidden":"true"}),o.jsx(es.aside,{className:"fixed inset-y-0 left-0 z-50 w-72 max-w-[85%] bg-gradient-to-b from-brand-blue to-brand-blue/95 shadow-2xl overflow-y-auto lg:hidden",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeOut"},role:"navigation","aria-label":"Mobile navigation",children:g(!1)})]})}),p=o.jsx("aside",{className:`hidden lg:flex flex-col fixed inset-y-0 left-0 z-30 transition-all duration-300 ease-in-out ${u?"w-16":"w-72"} bg-gradient-to-b from-brand-blue to-brand-blue/95 shadow-xl`,role:"navigation","aria-label":"Main navigation",children:g(u)});return o.jsxs(o.Fragment,{children:[m,p]});function g(y){return o.jsxs("div",{className:"flex flex-col h-full text-white",children:[o.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-white/10",children:[o.jsx("button",{onClick:f,className:"flex items-center justify-center w-8 h-8 rounded hover:bg-white/10 transition-colors duration-200 focus:outline-none","aria-label":y?"Expand sidebar":"Collapse sidebar",children:o.jsx(UN,{className:"h-6 w-6 text-white"})}),o.jsxs(rr,{to:"/dashboard",className:"flex items-center group","aria-label":"Go to dashboard",children:[o.jsx("img",{src:ML,alt:"ASP Cranes",className:`object-contain transition-all duration-300 group-hover:scale-105 ${y?"h-8 w-8":"h-10 w-auto"}`,onError:b=>{b.currentTarget.src=OL,b.currentTarget.onerror=null}}),!y&&o.jsx(es.span,{className:"ml-3 text-xl font-bold bg-gradient-to-r from-white to-brand-gold bg-clip-text text-transparent",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},children:"ASP CRM"})]})]}),o.jsx("nav",{className:"flex-1 py-6",role:"navigation",children:o.jsx("ul",{className:"space-y-1 px-3",role:"list",children:d.map(b=>{const v=h(b.href,b.end);return o.jsx("li",{role:"listitem",children:o.jsxs(rr,{to:b.href,className:`group flex items-center rounded-lg transition-all duration-200 ${y?"justify-center p-3":"p-3"} ${v?"bg-brand-gold text-brand-blue font-semibold shadow-lg scale-105":"text-white/90 hover:bg-white/10 hover:text-white hover:scale-[1.02]"}`,onClick:t,"aria-current":v?"page":void 0,children:[o.jsx("span",{className:`flex-shrink-0 transition-transform group-hover:scale-110 ${v?"text-brand-blue":""}`,children:b.icon}),!y&&o.jsx(es.span,{className:"ml-3 text-sm font-medium",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05},children:b.label}),y&&o.jsxs("div",{className:"absolute left-full ml-3 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transform translate-x-2 group-hover:translate-x-0 transition-all z-50 whitespace-nowrap",children:[b.label,o.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-900 rotate-45"})]})]})},b.href)})})}),o.jsx("div",{className:"p-4 border-t border-white/10",children:o.jsxs("div",{className:`flex items-center ${y?"justify-center":"space-x-3"}`,children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:(s==null?void 0:s.avatar)||"https://images.pexels.com/photos/4126743/pexels-photo-4126743.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:(s==null?void 0:s.name)||"User",className:"h-10 w-10 rounded-full object-cover border-2 border-brand-gold/50 hover:border-brand-gold transition-colors"})}),!y&&s&&o.jsxs(es.div,{className:"flex-1 min-w-0",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},children:[o.jsx("p",{className:"text-sm font-semibold text-white truncate",children:s.name||"User"}),o.jsx("p",{className:"text-xs text-white/70 truncate capitalize",children:s.role?s.role.replace("_"," "):"User"}),o.jsxs("button",{onClick:()=>{t&&t();const b=new CustomEvent("sidebar-logout");document.dispatchEvent(b)},className:"mt-2 flex items-center text-xs text-white/80 hover:text-brand-gold px-2 py-1 rounded-md hover:bg-white/10 transition-all duration-200","aria-label":"Logout",children:[o.jsx(VN,{className:"h-3 w-3 mr-2"}),"Logout"]})]})]})})]})}}const se=async()=>null,ht=async()=>[],Dp=async()=>({success:!0}),Ep=async()=>({success:!1,error:"Service disabled in production"}),kn=()=>{},FL=kn,$L=kn,zL=kn,BL=kn,VL=kn,UL=kn,WL=()=>!1,HL=kn,qL=Ep,GL=Dp,YL=se,QL=se,KL=se,XL=se,JL=se,ZL=se,Tp=se,e3=se,S2=ht,t3=se,N2=se,n3=se,r3=se,s3=se,i3=ht,a3=se,o3=se,l3=se,c3=se,u3=se,d3=se,h3=se,f3=ht,m3=se,C2=ht,k2=se,p3=ht,g3=ht,x3=se,y3=se,v3=se,b3=ht,w3=se,j3=ht,S3=se,N3=se,C3=se,k3=se,D3=ht,E3=se,T3=se,P3=ht,_3=se,A3=se,I3=se,M3=se,O3=ht,R3=se,L3=se,F3=ht,$3=ht,z3=se,B3=se,V3=se,U3=se,W3=se,D2=se,E2=se,T2=se,P2=se,_2=se,A2=se,I2=se,H3=se,M2=ht,O2=se,q3=se,G3=se,Y3=kn,R2=ht,Q3=se,K3=se,X3=se,L2=ht,F2=se,J3=se,Z3=se,$2=ht,z2=se,B2=se,V2=se,U2=se,e5=se,Ox=(e,t)=>(t==null?void 0:t.content)||"",t5=()=>[],iu=()=>({}),n5=e=>`$${e||0}`,r5=e=>e?new Date(e).toLocaleDateString():"",s5=()=>!0,i5=()=>!0,a5=e=>e||{},o5=e=>(e==null?void 0:e.id)||"",l5={get:se,post:se,put:se,delete:se,create:se,update:se,list:ht},c5={},u5={},d5={},h5={},f5={},m5={},p5={},g5={},x5={},y5={},v5={},b5={},w5={signIn:Ep,signOutUser:Dp,getCurrentUser:se,create:se,read:se,update:se,delete:se,list:ht,createDevToken:kn,initAuthDebug:kn,logAuthState:kn,noop:kn,asyncNull:se,asyncEmptyArray:ht,asyncSuccess:Dp,asyncError:Ep},gb=Object.freeze(Object.defineProperty({__proto__:null,Activity:c5,Customer:f5,Deal:p5,Equipment:g5,Job:h5,Lead:d5,Notification:b5,Quotation:m5,Service:y5,SiteAssessment:v5,Template:x5,User:u5,checkAuthStatus:VL,checkForDevTokens:WL,cleanupDevArtifacts:UL,createActivity:Q3,createCustomer:v3,createDeal:M3,createDevToken:FL,createEquipment:B3,createJob:h3,createLead:s3,createNotification:q3,createQuotation:k3,createService:z2,createSiteAssessment:F2,createTemplate:e3,createUser:XL,debugAuth:BL,default:w5,deleteActivity:X3,deleteContact:S3,deleteCustomer:w3,deleteDeal:R3,deleteEquipment:V3,deleteJob:m3,deleteLead:a3,deleteNotification:G3,deleteQuotation:E3,deleteService:V2,deleteSiteAssessment:Z3,deleteTemplate:t3,deleteUser:JL,extractDataFromApiResponse:a5,formatCurrency:n5,formatDate:r5,getAdditionalParamsConfig:_2,getAllEquipment:p3,getAllOperators:g3,getAvailablePlaceholders:t5,getConfig:U3,getContactsByCustomer:j3,getCurrentUser:YL,getCustomer:x3,getCustomerIdentifier:o5,getCustomers:b3,getDeal:_3,getDealById:L3,getDeals:O3,getDefaultTemplateConfig:I2,getEquipment:F3,getEquipmentByCategory:$3,getEquipmentById:k2,getHeaders:iu,getJob:c3,getJobById:u3,getJobs:f3,getJobsByOperator:C2,getLead:n3,getLeads:i3,getQuotation:N3,getQuotationById:T3,getQuotationConfig:D2,getQuotations:D3,getQuotationsForLead:P3,getRecentActivities:R2,getResourceRatesConfig:T2,getServices:$2,getSiteAssessments:L2,getTemplate:ZL,getTemplateById:N2,getTemplates:S2,getUserById:QL,getUserNotifications:M2,initAuthDebug:$L,jobApiClient:l5,logAuthState:zL,markNotificationAsRead:O2,mergeQuotationWithTemplate:Ox,mergeTemplate:e5,monitorOperation:Y3,removeDevTokens:HL,signIn:qL,signOutUser:GL,toggleServiceStatus:U2,updateActivity:K3,updateAdditionalParamsConfig:A2,updateConfig:W3,updateCustomer:y3,updateDeal:A3,updateDealStage:I3,updateDefaultTemplateConfig:H3,updateEquipment:z3,updateJob:d3,updateLead:r3,updateLeadAssignment:l3,updateLeadStatus:o3,updateQuotation:C3,updateQuotationConfig:E2,updateResourceRatesConfig:P2,updateService:B2,updateSiteAssessment:J3,updateTemplate:Tp,updateUser:KL,validateEmail:s5,validatePhone:i5},Symbol.toStringTag,{value:"Module"}));function W2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=W2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function H2(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=W2(e))&&(r&&(r+=" "),r+=t);return r}const xb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,yb=H2,Pa=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return yb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=xb(d)||xb(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(p=>{let[g,y]=p;return Array.isArray(y)?y.includes({...i,...l}[g]):{...i,...l}[g]===y})?[...u,h,f]:u},[]);return yb(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},j5=Pa("inline-flex items-center justify-center rounded-full px-1.5 sm:px-2.5 py-0.5 text-xs font-medium",{variants:{variant:{default:"bg-primary-100 text-primary-800",secondary:"bg-secondary-100 text-secondary-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",error:"bg-red-100 text-red-800",outline:"text-gray-700 border border-gray-200"},size:{xs:"text-[10px] px-1 sm:px-1.5 py-0.5 min-w-[16px] h-[16px]",sm:"text-[11px] px-1.5 sm:px-2 py-0.5 min-w-[18px] h-[18px]",md:"text-xs px-1.5 sm:px-2.5 py-0.5 min-w-[20px] h-[20px]",lg:"text-xs sm:text-sm px-2 sm:px-3 py-0.5 sm:py-1 min-w-[22px] h-[22px] sm:min-w-[24px] sm:h-[24px]"}},defaultVariants:{variant:"default",size:"md"}});function fl({className:e,variant:t,size:n,...r}){return o.jsx("div",{className:j5({variant:t,size:n,className:e}),...r})}const q2=x.memo(({notification:e,onClick:t})=>o.jsx("button",{onClick:()=>t(e),className:`w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors ${e.read?"":"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-brand-blue"}`,"aria-describedby":`notification-${e.id}`,children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${e.read?"bg-gray-300":"bg-brand-blue"}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 line-clamp-1",children:e.title}),e.message&&o.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:e.message}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.createdAt||Date.now()).toLocaleDateString()})]})]})}));q2.displayName="NotificationItem";const S5=x.memo(function({onMobileMenuClick:t}){const{user:n,logout:r}=Ge(),s=On(),[i,a]=x.useState([]),[l,c]=x.useState(!1),[u,d]=x.useState(!1);x.useEffect(()=>{n&&h()},[n]),x.useEffect(()=>{const g=y=>{y.target.closest("[data-dropdown]")||(c(!1),d(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=async()=>{if(n)try{const g=await M2(n.id);a(g)}catch(g){console.error("Failed to fetch notifications:",g)}},f=async()=>{try{await r(),s("/login")}catch(g){console.error("Logout error:",g),s("/login")}},m=async g=>{if(!g.read)try{await O2(g.id),await h()}catch(y){console.error("Failed to mark notification as read:",y)}g.link&&s(g.link),c(!1)},p=i.filter(g=>!g.read).length;return o.jsxs("header",{className:"sticky top-0 z-30 bg-white/95 backdrop-blur-sm border-b border-gray-200/60 h-16 flex items-center justify-between px-4 lg:px-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[t&&o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 lg:hidden transition-colors focus:outline-none focus:ring-2 focus:ring-brand-blue/20","aria-label":"Toggle navigation menu",children:o.jsx(UN,{className:"h-5 w-5 text-gray-700"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-brand-blue to-brand-blue/80 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-sm",children:"A"})}),o.jsxs("div",{className:"hidden sm:block",children:[o.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-brand-blue to-brand-blue/80 bg-clip-text text-transparent",children:"ASP CRM"}),o.jsx("p",{className:"text-xs text-gray-500 -mt-1",children:"Crane Management System"})]})]})]}),o.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search projects, customers, equipment...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all","aria-label":"Search"})]})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-brand-blue/20","aria-label":"Quick settings",children:o.jsx(mi,{className:"h-5 w-5 text-gray-600"})}),o.jsxs("div",{className:"relative","data-dropdown":!0,children:[o.jsxs("button",{onClick:()=>c(!l),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-brand-blue/20","aria-label":`Notifications ${p>0?`(${p} unread)`:""}`,"aria-expanded":l,"aria-haspopup":"true",children:[o.jsx(Z0,{className:"h-5 w-5 text-gray-600"}),p>0&&o.jsx(fl,{variant:"error",className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] text-[10px] flex items-center justify-center animate-pulse",children:p>99?"99+":p})]}),l&&o.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-w-[calc(100vw-2rem)] bg-white rounded-xl shadow-xl border border-gray-200 z-50",children:[o.jsx("div",{className:"p-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notifications"}),o.jsxs("span",{className:"text-xs text-gray-500",children:[p," unread"]})]})}),o.jsx("div",{className:"max-h-80 overflow-y-auto",children:i.length===0?o.jsxs("div",{className:"p-6 text-center",children:[o.jsx(Z0,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-gray-500",children:"No notifications yet"})]}):o.jsx("div",{className:"p-2 space-y-1",children:i.map(g=>o.jsx(q2,{notification:g,onClick:m},g.id))})}),i.length>0&&o.jsx("div",{className:"p-3 border-t border-gray-100",children:o.jsx("button",{className:"w-full text-sm text-brand-blue hover:text-brand-blue/80 font-medium",children:"View all notifications"})})]})]}),o.jsxs("div",{className:"relative","data-dropdown":!0,children:[o.jsxs("button",{onClick:()=>d(!u),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-brand-blue/20","aria-label":"User menu","aria-expanded":u,"aria-haspopup":"true",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:(n==null?void 0:n.avatar)||"https://images.pexels.com/photos/4126743/pexels-photo-4126743.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:(n==null?void 0:n.name)||"User",className:"h-8 w-8 rounded-full object-cover border-2 border-gray-200 hover:border-brand-blue/30 transition-colors"}),o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 h-3 w-3 bg-green-400 border-2 border-white rounded-full"})]}),o.jsxs("div",{className:"hidden sm:block text-left",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 leading-tight",children:(n==null?void 0:n.name)||"User"}),o.jsx("p",{className:"text-xs text-gray-500 capitalize leading-tight",children:n!=null&&n.role?n.role.replace("_"," "):"User"})]})]}),u&&o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-200 z-50",children:[o.jsx("div",{className:"p-3 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:(n==null?void 0:n.avatar)||"https://images.pexels.com/photos/4126743/pexels-photo-4126743.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:(n==null?void 0:n.name)||"User",className:"h-10 w-10 rounded-full object-cover"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:(n==null?void 0:n.name)||"User"}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:(n==null?void 0:n.email)||"user@example.com"})]})]})}),o.jsxs("div",{className:"py-2",children:[o.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[o.jsx(pi,{className:"h-4 w-4 mr-3 text-gray-400"}),"View Profile"]}),o.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[o.jsx(mi,{className:"h-4 w-4 mr-3 text-gray-400"}),"Account Settings"]})]}),o.jsx("div",{className:"border-t border-gray-100 py-2",children:o.jsxs("button",{onClick:f,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[o.jsx(VN,{className:"h-4 w-4 mr-3"}),"Sign Out"]})})]})]})]})]})}),N5=x.memo(function({requiredRole:t,children:n}){const{isAuthenticated:r,user:s,logout:i}=Ge(),a=On(),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[h,f]=x.useState(!1),m=x.useRef(!1);if(x.useEffect(()=>{const g=()=>{i().then(()=>{a("/login")}).catch(y=>{console.error("Logout error:",y),a("/login")})};return document.addEventListener("sidebar-logout",g),()=>{document.removeEventListener("sidebar-logout",g)}},[i,a]),x.useEffect(()=>{m.current},[a,r,s,t]),x.useEffect(()=>{const g=()=>{window.innerWidth>=1024&&d(!1)};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),l)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-brand-blue/20 border-t-brand-blue rounded-full animate-spin"}),o.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent border-t-brand-gold rounded-full animate-spin",style:{animationDelay:"0.2s",animationDuration:"1.5s"}})]}),o.jsx("h3",{className:"text-lg font-semibold text-brand-blue",children:"Loading Application"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Please wait..."})]})});if(!r)return o.jsx(Vn,{to:"/login"});if(t&&(s==null?void 0:s.role)!==t)return o.jsx(Vn,{to:"/dashboard"});const p=()=>{d(!u)};return o.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20 overflow-hidden",children:[o.jsx(LL,{isMobileOpen:u,onMobileClose:()=>d(!1),isCollapsed:h,onCollapseToggle:f}),o.jsxs("div",{className:`flex flex-col flex-1 overflow-hidden transition-all duration-300 ${h?"lg:ml-16":"lg:ml-72"}`,children:[o.jsx(S5,{onMobileMenuClick:p}),o.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-transparent",children:o.jsx("div",{className:"min-h-full",children:n||o.jsx(ON,{})})})]})]})});let gf=null;const xa=()=>{if(gf!==null)return gf;const e={viteProdCheck:!0,urlCheck:typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"&&!window.location.hostname.includes(".local"),prodMarkerCheck:localStorage.getItem("env-deploy-type")==="production"},n=e.viteProdCheck||e.urlCheck;return gf=n,n},Ku=()=>!xa(),C5=(e=!1)=>{const t={"Content-Type":"application/json"};if(e)return t["x-bypass-auth"]="development-only-123",console.log(" Development bypass header added, skipping JWT token"),t;const n=localStorage.getItem("auth-token")||localStorage.getItem("jwt-token")||localStorage.getItem("token");return n?(t.Authorization=`Bearer ${n}`,Ku()&&console.log(" Auth token found and added to headers")):Ku()&&console.warn(" No auth token found in localStorage - API requests may fail with 403"),t},k5=e=>{xa()&&e()},D5=(e,...t)=>{Ku()&&console.log(`[DEBUG] ${e}`,...t)},vb=(e,...t)=>{console.warn(`[WARNING] ${e}`,...t)},vc=(e,...t)=>{console.error(`[ERROR] ${e}`,...t)},E5=()=>{if(xa()&&typeof window<"u"){const e=localStorage.getItem("jwt-token");if(e&&e.includes("dev-signature")){vc("CRITICAL SECURITY RISK: Development authentication token found in production!");try{localStorage.removeItem("jwt-token"),localStorage.removeItem("user"),sessionStorage.removeItem("using-development-auth"),vb("Removed development authentication token from storage")}catch(t){vc("Failed to remove development token:",t)}try{fetch("/api/security-incident",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"dev_token_in_prod",timestamp:new Date().toISOString(),severity:"critical",message:"Development token found in production environment"})}).catch(()=>{})}catch{}}sessionStorage.getItem("using-development-auth")==="true"&&(vc("SECURITY RISK: Development authentication flag found in production!"),sessionStorage.removeItem("using-development-auth")),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&vb("Production build running in development environment!"),(window.devBypassEnabled||window.__DEV__||window.__DEBUG__)&&vc("SECURITY RISK: Development flags found in production build!")}},T5=()=>{if(xa()){E5(),console.log("%c PRODUCTION MODE ACTIVE","background: #4CAF50; color: white; font-size: 14px; font-weight: bold; padding: 4px 8px; border-radius: 4px;");try{if(typeof window<"u"&&xa()){const e=console.log;console.log=function(...t){t[0]&&typeof t[0]=="string"&&(t[0].includes("[ERROR]")||t[0].includes("[WARNING]"))&&e.apply(console,t)}}}catch{}}};k5(()=>{T5()});const Fe=(e=!0)=>{e=!0;const n=C5(e);if(xa()&&(n["X-Requested-With"]="XMLHttpRequest",n["X-Application-Type"]="asp-cranes-crm"),Ku()){const r=!!n.Authorization;D5(`API headers prepared: Auth token ${r?"present":"missing"}${e?", dev bypass enabled":""}`)}return n};async function bb(e,t){const r=await fetch(`http://103.224.243.242:3001/api/leads/${e}/status`,{method:"PATCH",headers:{...Fe(),"Content-Type":"application/json"},body:JSON.stringify({status:t}),credentials:"include"});if(!r.ok)throw new Error("Failed to update lead status");const s=await r.json();return s.data||s}async function wb(e,t,n){const s=await fetch(`http://103.224.243.242:3001/api/leads/${encodeURIComponent(e)}/assign`,{method:"PATCH",headers:{...Fe(),"Content-Type":"application/json"},body:JSON.stringify({salesAgentId:t,salesAgentName:n}),credentials:"include"});if(!s.ok)throw new Error("Failed to update lead assignment");const i=await s.json();return i.data||i}async function P5(e,t){const r=await fetch(`http://103.224.243.242:3001/api/leads/${encodeURIComponent(e)}`,{method:"PATCH",headers:{...Fe(),"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"});if(!r.ok)throw new Error("Failed to update lead");const s=await r.json();return s.data||s}async function _5(e){const n=await fetch("http://103.224.243.242:3001/api/leads",{method:"POST",headers:{...Fe(),"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!n.ok)throw new Error("Failed to create lead");const r=await n.json();return r.data||r}async function zl(){const t=await fetch("http://103.224.243.242:3001/api/leads",{method:"GET",headers:Fe(),credentials:"include"});if(!t.ok)throw new Error("Failed to fetch leads");const n=await t.json();return n.data||n}const jb={getJobsByOperator:A5,getEquipmentById:Y2,getAllEquipment:Q2,getJobs:eh,getAllOperators:Bl,createJob:G2,getJobEquipment:I5,getJobOperators:M5};async function G2(e){const n=await fetch("http://103.224.243.242:3001/api/jobs",{method:"POST",headers:{...Fe(),"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!n.ok)throw new Error("Failed to create job");return n.json()}async function A5(e){const n=await fetch(`http://103.224.243.242:3001/api/jobs?operatorId=${encodeURIComponent(e)}`,{method:"GET",headers:Fe(),credentials:"include"});if(!n.ok)throw new Error("Failed to fetch jobs by operator");return await n.json()}async function Y2(e){const n=await fetch(`http://103.224.243.242:3001/api/equipment/${encodeURIComponent(e)}`,{method:"GET",headers:Fe(),credentials:"include"});if(!n.ok)throw new Error("Failed to fetch equipment by id");return await n.json()}async function Q2(){const t=await fetch("http://103.224.243.242:3001/api/equipment",{method:"GET",headers:Fe(),credentials:"include"});if(!t.ok)throw new Error("Failed to fetch equipment");return await t.json()}async function eh(){const t=await fetch("http://103.224.243.242:3001/api/jobs",{method:"GET",headers:Fe(),credentials:"include"});if(!t.ok)throw new Error("Failed to fetch jobs");return await t.json()}async function Bl(){const t=await fetch("http://103.224.243.242:3001/api/operators",{method:"GET",headers:Fe(),credentials:"include"});if(!t.ok)throw new Error("Failed to fetch operators");return await t.json()}async function I5(e){const n=await fetch(`http://103.224.243.242:3001/api/jobs/${encodeURIComponent(e)}/equipment`,{method:"GET",headers:Fe(),credentials:"include"});if(!n.ok)throw new Error("Failed to fetch job equipment");return await n.json()}async function M5(e){const n=await fetch(`http://103.224.243.242:3001/api/jobs/${encodeURIComponent(e)}/operators`,{method:"GET",headers:Fe(),credentials:"include"});if(!n.ok)throw new Error("Failed to fetch job operators");return await n.json()}async function O5(e){const n=`http://103.224.243.242:3001/api/equipment?category=${encodeURIComponent(e)}`;console.log(" Fetching equipment by category:",e),console.log(" API URL:",n);const r=await fetch(n,{method:"GET",headers:Fe(!0),credentials:"include"});if(console.log(" Response status:",r.status),console.log(" Response ok:",r.ok),!r.ok)throw console.error(" Failed to fetch equipment:",r.status,r.statusText),new Error("Failed to fetch equipment by category");const s=await r.json();return console.log(" Equipment data received:",s),s&&Array.isArray(s.data)?s.data:s}async function Rx(){return[{id:"1",equipmentId:"EQ0001",name:"Demo Crane",category:"mobile_crane",manufacturingDate:"2022-01",registrationDate:"2022-02",maxLiftingCapacity:50,unladenWeight:20,baseRates:{micro:100,small:200,monthly:3e3,yearly:35e3},runningCostPerKm:10,description:"Sample equipment",status:"available",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),runningCost:0,_source:"client",_mockFlag:!0}]}async function th(){const t=await fetch("http://103.224.243.242:3001/api/deals",{method:"GET",headers:Fe(),credentials:"include"});if(!t.ok)throw new Error("Failed to fetch deals");const n=await t.json();return Array.isArray(n)?n:n&&Array.isArray(n.data)?n.data:[]}async function ya(e){const n=await fetch(`http://103.224.243.242:3001/api/deals/${e}`,{method:"GET",headers:Fe(),credentials:"include"});if(!n.ok)throw new Error("Failed to fetch deal by ID");const r=await n.json();return r&&r.data?r.data:r}async function R5(e){const n=await fetch("http://103.224.243.242:3001/api/deals",{method:"POST",headers:{...Fe(),"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!n.ok)throw new Error("Failed to create deal");return await n.json()}async function K2(e,t){const r=await fetch(`http://103.224.243.242:3001/api/deals/${e}/stage`,{method:"PATCH",headers:{...Fe(),"Content-Type":"application/json"},body:JSON.stringify({stage:t}),credentials:"include"});if(!r.ok)throw new Error("Failed to update deal stage");const s=await r.json();return s.data||s}const Ue=e=>isNaN(e)||e==null?"0":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),L5=Pa("relative bg-white/80 backdrop-blur-sm border border-gray-200/60 transition-all duration-300 ease-in-out hover:shadow-lg hover:shadow-brand-blue/5 hover:border-brand-blue/20 hover:-translate-y-0.5",{variants:{variant:{default:"rounded-xl shadow-sm",bordered:"rounded-xl border-2",flat:"rounded-lg",glass:"rounded-xl bg-white/60 backdrop-blur-md border-white/20 shadow-xl",gradient:"rounded-xl bg-gradient-to-br from-white to-gray-50/50 shadow-md"},padding:{none:"",sm:"p-3 sm:p-4",md:"p-4 sm:p-5",lg:"p-5 sm:p-6",xl:"p-6 sm:p-8"},size:{default:"",sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"w-full"}},defaultVariants:{variant:"default",padding:"md",size:"default"}}),le=x.memo(re.forwardRef(({className:e="",variant:t,padding:n,size:r,as:s="div",children:i,hover:a=!0,loading:l=!1,...c},u)=>{const d=L5({variant:t,padding:n,size:r}),h=a?"hover:shadow-lg hover:shadow-brand-blue/5 hover:border-brand-blue/20 hover:-translate-y-0.5":"",f=l?"animate-pulse":"";return o.jsxs(s,{className:`${d} ${h} ${f} ${e}`,ref:u,role:s==="div"?"article":void 0,...c,children:[l&&o.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-sm rounded-xl flex items-center justify-center",children:o.jsx("div",{className:"w-6 h-6 border-2 border-brand-blue border-t-transparent rounded-full animate-spin"})}),i]})}));le.displayName="Card";const ye=x.memo(re.forwardRef(({className:e="",children:t,...n},r)=>o.jsx("div",{ref:r,className:`pb-4 border-b border-gray-200/60 ${e}`,...n,children:t})));ye.displayName="CardHeader";const ve=x.memo(re.forwardRef(({className:e="",gradient:t=!1,level:n=2,children:r,...s},i)=>{const a=`h${n}`,l=t?"bg-gradient-to-r from-brand-blue to-brand-blue/80 bg-clip-text text-transparent":"";return o.jsx(a,{ref:i,className:`text-lg font-semibold text-gray-900 leading-tight ${l} ${e}`,...s,children:r})}));ve.displayName="CardTitle";const F5=x.memo(re.forwardRef(({className:e="",children:t,...n},r)=>o.jsx("p",{ref:r,className:`text-sm text-gray-600 leading-relaxed ${e}`,...n,children:t})));F5.displayName="CardDescription";const pe=x.memo(re.forwardRef(({className:e="",children:t,...n},r)=>o.jsx("div",{ref:r,className:`pt-4 ${e}`,...n,children:t})));pe.displayName="CardContent";const $5=x.memo(re.forwardRef(({className:e="",children:t,...n},r)=>o.jsx("div",{ref:r,className:`pt-4 mt-4 border-t border-gray-200/60 ${e}`,...n,children:t})));$5.displayName="CardFooter";const z5=Pa("group relative overflow-hidden",{variants:{variant:{default:"bg-white/90 backdrop-blur-sm",primary:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",secondary:"bg-gradient-to-br from-gray-50 to-slate-50 border-gray-200",accent:"bg-gradient-to-br from-amber-50 to-yellow-50 border-amber-200",success:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",warning:"bg-gradient-to-br from-orange-50 to-red-50 border-orange-200",error:"bg-gradient-to-br from-red-50 to-rose-50 border-red-200",glass:"bg-white/60 backdrop-blur-md border-white/20"},size:{sm:"min-h-[100px]",default:"min-h-[120px]",lg:"min-h-[140px]"}},defaultVariants:{variant:"default",size:"default"}}),Vt=x.memo(re.forwardRef(({className:e="",variant:t,size:n,title:r,value:s,icon:i,trend:a,subtitle:l,footer:c,loading:u=!1,gradient:d=!1,...h},f)=>{const p={primary:"bg-gradient-to-br from-blue-500 to-indigo-600",secondary:"bg-gradient-to-br from-gray-500 to-slate-600",accent:"bg-gradient-to-br from-amber-500 to-yellow-600",success:"bg-gradient-to-br from-green-500 to-emerald-600",warning:"bg-gradient-to-br from-orange-500 to-red-600",error:"bg-gradient-to-br from-red-500 to-rose-600",glass:"bg-gradient-to-br from-brand-blue to-brand-blue/80",default:"bg-gradient-to-br from-brand-blue to-brand-blue/80"}[t||"default"],g=()=>a?a.value>0?o.jsx(hp,{className:"w-3 h-3"}):a.value<0?o.jsx(DI,{className:"w-3 h-3"}):o.jsx(WN,{className:"w-3 h-3"}):null,y=()=>a?a.isPositive?"text-green-600":"text-red-600":"";return o.jsxs(le,{ref:f,className:`${z5({variant:t,size:n})} ${e}`,variant:d?"gradient":"default",padding:"lg",hover:!u,loading:u,...h,children:[o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-white/10 to-transparent rounded-full transform translate-x-8 -translate-y-8 group-hover:scale-110 transition-transform duration-300"}),o.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1 leading-tight",children:r}),l&&o.jsx("p",{className:"text-xs text-gray-500 leading-tight",children:l})]}),i&&o.jsx("div",{className:`p-2.5 rounded-xl ${p} shadow-lg group-hover:shadow-xl group-hover:scale-105 transition-all duration-300`,children:o.jsx("div",{className:"text-white w-5 h-5 flex items-center justify-center",children:i})})]}),o.jsx("div",{className:"flex-1 flex items-center",children:o.jsx("div",{className:"text-2xl font-bold text-gray-900 group-hover:text-brand-blue transition-colors duration-300",children:u?o.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded animate-pulse"}):s})}),a&&o.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[o.jsxs("div",{className:`flex items-center space-x-1 ${y()}`,children:[g(),o.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(a.value),"%"]})]}),o.jsx("span",{className:"text-xs text-gray-500",children:"vs last period"})]}),c&&o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200/60",children:c})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-blue/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]})}));Vt.displayName="StatCard";const B5=x.memo(()=>o.jsxs(le,{className:"min-h-[120px] animate-pulse",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-1"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]}),o.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-xl"})]}),o.jsx("div",{className:"h-8 bg-gray-200 rounded w-24 mb-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}));B5.displayName="StatCardSkeleton";const V5=e=>{switch(e){case"lead":return o.jsx(pi,{className:"h-4 w-4"});case"deal":return o.jsx(uI,{className:"h-4 w-4"});case"job":return o.jsx(Wt,{className:"h-4 w-4"});case"equipment":return o.jsx(Ht,{className:"h-4 w-4"});case"user":return o.jsx(pi,{className:"h-4 w-4"});default:return o.jsx(ji,{className:"h-4 w-4"})}},U5=e=>{switch(e){case"success":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"error":return"text-red-600 bg-red-50";case"info":default:return"text-blue-600 bg-blue-50"}},W5=e=>{const n=new Date().getTime()-e.getTime(),r=Math.floor(n/(1e3*60)),s=Math.floor(r/60),i=Math.floor(s/24);return r<1?"Just now":r<60?`${r}m ago`:s<24?`${s}h ago`:i<7?`${i}d ago`:e.toLocaleDateString()},H5=[{id:"1",type:"lead",title:"New lead created",description:"John Doe submitted a crane rental inquiry",timestamp:new Date(Date.now()-1e3*60*15),status:"info",user:"System"},{id:"2",type:"deal",title:"Deal closed",description:"Construction project deal worth 2,50,000 closed successfully",timestamp:new Date(Date.now()-1e3*60*60*2),status:"success",user:"Sales Agent"},{id:"3",type:"job",title:"Job scheduled",description:"Crane deployment for Site A scheduled for tomorrow",timestamp:new Date(Date.now()-1e3*60*60*4),status:"info",user:"Operations Manager"},{id:"4",type:"equipment",title:"Maintenance alert",description:"Crane CR-001 requires scheduled maintenance",timestamp:new Date(Date.now()-1e3*60*60*6),status:"warning",user:"System"},{id:"5",type:"user",title:"New user registered",description:"New operator account created for Mike Johnson",timestamp:new Date(Date.now()-1e3*60*60*24),status:"info",user:"Admin"}];function q5({activities:e,className:t}){const[n,r]=x.useState([]),[s,i]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{if(e)r(e);else{const l=await R2(5);r(l)}}catch(l){console.error("Error fetching activities:",l),r(H5)}finally{i(!1)}})()},[e]),s?o.jsxs(le,{className:`p-6 ${t}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activities"}),o.jsx(Yn,{className:"h-5 w-5 text-gray-400"})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),o.jsx("p",{children:"Loading activities..."})]})})]}):o.jsxs(le,{className:`p-6 ${t}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activities"}),o.jsx(Yn,{className:"h-5 w-5 text-gray-400"})]}),o.jsx("div",{className:"space-y-4",children:n.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(ji,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),o.jsx("p",{children:"No recent activities"})]}):n.map(a=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("div",{className:`flex-shrink-0 p-2 rounded-full ${U5(a.status)}`,children:V5(a.type)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.title}),o.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:W5(a.timestamp)})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.description}),a.user&&o.jsx("div",{className:"flex items-center mt-2",children:o.jsx(fl,{variant:"secondary",className:"text-xs",children:a.user})})]})]},a.id))}),n.length>0&&o.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:o.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View all activities "})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Vl(e){return e+.5|0}const is=(e,t,n)=>Math.max(Math.min(e,n),t);function vo(e){return is(Vl(e*2.55),0,255)}function bs(e){return is(Vl(e*255),0,255)}function jr(e){return is(Vl(e/2.55)/100,0,1)}function Sb(e){return is(Vl(e*100),0,100)}const yn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Pp=[..."0123456789ABCDEF"],G5=e=>Pp[e&15],Y5=e=>Pp[(e&240)>>4]+Pp[e&15],bc=e=>(e&240)>>4===(e&15),Q5=e=>bc(e.r)&&bc(e.g)&&bc(e.b)&&bc(e.a);function K5(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&yn[e[1]]*17,g:255&yn[e[2]]*17,b:255&yn[e[3]]*17,a:t===5?yn[e[4]]*17:255}:(t===7||t===9)&&(n={r:yn[e[1]]<<4|yn[e[2]],g:yn[e[3]]<<4|yn[e[4]],b:yn[e[5]]<<4|yn[e[6]],a:t===9?yn[e[7]]<<4|yn[e[8]]:255})),n}const X5=(e,t)=>e<255?t(e):"";function J5(e){var t=Q5(e)?G5:Y5;return e?"#"+t(e.r)+t(e.g)+t(e.b)+X5(e.a,t):void 0}const Z5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function X2(e,t,n){const r=t*Math.min(n,1-n),s=(i,a=(i+e/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function eF(e,t,n){const r=(s,i=(s+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function tF(e,t,n){const r=X2(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function nF(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}function Lx(e){const n=e.r/255,r=e.g/255,s=e.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),l=(i+a)/2;let c,u,d;return i!==a&&(d=i-a,u=l>.5?d/(2-i-a):d/(i+a),c=nF(n,r,s,d,i),c=c*60+.5),[c|0,u||0,l]}function Fx(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(bs)}function $x(e,t,n){return Fx(X2,e,t,n)}function rF(e,t,n){return Fx(tF,e,t,n)}function sF(e,t,n){return Fx(eF,e,t,n)}function J2(e){return(e%360+360)%360}function iF(e){const t=Z5.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?vo(+t[5]):bs(+t[5]));const s=J2(+t[2]),i=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?r=rF(s,i,a):t[1]==="hsv"?r=sF(s,i,a):r=$x(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function aF(e,t){var n=Lx(e);n[0]=J2(n[0]+t),n=$x(n),e.r=n[0],e.g=n[1],e.b=n[2]}function oF(e){if(!e)return;const t=Lx(e),n=t[0],r=Sb(t[1]),s=Sb(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${jr(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const Nb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Cb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lF(){const e={},t=Object.keys(Cb),n=Object.keys(Nb);let r,s,i,a,l;for(r=0;r<t.length;r++){for(a=l=t[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,Nb[i]);i=parseInt(Cb[a],16),e[l]=[i>>16&255,i>>8&255,i&255]}return e}let wc;function cF(e){wc||(wc=lF(),wc.transparent=[0,0,0,0]);const t=wc[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const uF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dF(e){const t=uF.exec(e);let n=255,r,s,i;if(t){if(t[7]!==r){const a=+t[7];n=t[8]?vo(a):is(a*255,0,255)}return r=+t[1],s=+t[3],i=+t[5],r=255&(t[2]?vo(r):is(r,0,255)),s=255&(t[4]?vo(s):is(s,0,255)),i=255&(t[6]?vo(i):is(i,0,255)),{r,g:s,b:i,a:n}}}function hF(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${jr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const xf=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Pi=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function fF(e,t,n){const r=Pi(jr(e.r)),s=Pi(jr(e.g)),i=Pi(jr(e.b));return{r:bs(xf(r+n*(Pi(jr(t.r))-r))),g:bs(xf(s+n*(Pi(jr(t.g))-s))),b:bs(xf(i+n*(Pi(jr(t.b))-i))),a:e.a+n*(t.a-e.a)}}function jc(e,t,n){if(e){let r=Lx(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=$x(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Z2(e,t){return e&&Object.assign(t||{},e)}function kb(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=bs(e[3]))):(t=Z2(e,{r:0,g:0,b:0,a:1}),t.a=bs(t.a)),t}function mF(e){return e.charAt(0)==="r"?dF(e):iF(e)}class ml{constructor(t){if(t instanceof ml)return t;const n=typeof t;let r;n==="object"?r=kb(t):n==="string"&&(r=K5(t)||cF(t)||mF(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Z2(this._rgb);return t&&(t.a=jr(t.a)),t}set rgb(t){this._rgb=kb(t)}rgbString(){return this._valid?hF(this._rgb):void 0}hexString(){return this._valid?J5(this._rgb):void 0}hslString(){return this._valid?oF(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,s=t.rgb;let i;const a=n===i?.5:n,l=2*a-1,c=r.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=fF(this._rgb,t._rgb,n)),this}clone(){return new ml(this.rgb)}alpha(t){return this._rgb.a=bs(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Vl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return jc(this._rgb,2,t),this}darken(t){return jc(this._rgb,2,-t),this}saturate(t){return jc(this._rgb,1,t),this}desaturate(t){return jc(this._rgb,1,-t),this}rotate(t){return aF(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function pr(){}const pF=(()=>{let e=0;return()=>e++})();function Ae(e){return e==null}function ut(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ee(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Rt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Zn(e,t){return Rt(e)?e:t}function Ne(e,t){return typeof e>"u"?t:e}const gF=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,ek=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ve(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Oe(e,t,n,r){let s,i,a;if(ut(e))for(i=e.length,s=0;s<i;s++)t.call(n,e[s],s);else if(Ee(e))for(a=Object.keys(e),i=a.length,s=0;s<i;s++)t.call(n,e[a[s]],a[s])}function Xu(e,t){let n,r,s,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],i=t[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Ju(e){if(ut(e))return e.map(Ju);if(Ee(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=Ju(e[n[s]]);return t}return e}function tk(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function xF(e,t,n,r){if(!tk(e))return;const s=t[e],i=n[e];Ee(s)&&Ee(i)?pl(s,i,r):t[e]=Ju(i)}function pl(e,t,n){const r=ut(t)?t:[t],s=r.length;if(!Ee(e))return e;n=n||{};const i=n.merger||xF;let a;for(let l=0;l<s;++l){if(a=r[l],!Ee(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)i(c[u],e,a,n)}return e}function Fo(e,t){return pl(e,t,{merger:yF})}function yF(e,t,n){if(!tk(e))return;const r=t[e],s=n[e];Ee(r)&&Ee(s)?Fo(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ju(s))}const Db={"":e=>e,x:e=>e.x,y:e=>e.y};function vF(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function bF(e){const t=vF(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function gi(e,t){return(Db[t]||(Db[t]=bF(t)))(e)}function zx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const gl=e=>typeof e<"u",Ds=e=>typeof e=="function",Eb=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function wF(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Re=Math.PI,Xe=2*Re,jF=Xe+Re,Zu=Number.POSITIVE_INFINITY,SF=Re/180,xt=Re/2,Rs=Re/4,Tb=Re*2/3,nk=Math.log10,cr=Math.sign;function $o(e,t,n){return Math.abs(e-t)<n}function Pb(e){const t=Math.round(e);e=$o(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(nk(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function NF(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((s,i)=>s-i).pop(),t}function CF(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function xl(e){return!CF(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function kF(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function DF(e,t,n){let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function kr(e){return e*(Re/180)}function EF(e){return e*(180/Re)}function _b(e){if(!Rt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function rk(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Re&&(i+=Xe),{angle:i,distance:s}}function _p(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function TF(e,t){return(e-t+jF)%Xe-Re}function sn(e){return(e%Xe+Xe)%Xe}function yl(e,t,n,r){const s=sn(e),i=sn(t),a=sn(n),l=sn(i-s),c=sn(a-s),u=sn(s-i),d=sn(s-a);return s===i||s===a||r&&i===a||l>c&&u<d}function At(e,t,n){return Math.max(t,Math.min(n,e))}function PF(e){return At(e,-32768,32767)}function Dr(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Bx(e,t,n){n=n||(a=>e[a]<t);let r=e.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const ti=(e,t,n,r)=>Bx(e,n,r?s=>{const i=e[s][t];return i<n||i===n&&e[s+1][t]===n}:s=>e[s][t]<n),_F=(e,t,n)=>Bx(e,n,r=>e[r][t]>=n);function AF(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}const sk=["push","pop","shift","splice","unshift"];function IF(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),sk.forEach(n=>{const r="_onData"+zx(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return e._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),a}})})}function Ab(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);s!==-1&&r.splice(s,1),!(r.length>0)&&(sk.forEach(i=>{delete e[i]}),delete e._chartjs)}function ik(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ak=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function ok(e,t){let n=[],r=!1;return function(...s){n=s,r||(r=!0,ak.call(window,()=>{r=!1,e.apply(t,n)}))}}function MF(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Vx=e=>e==="start"?"left":e==="end"?"right":"center",Pt=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,OF=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function RF(e,t,n){const r=t.length;let s=0,i=r;if(e._sorted){const{iScale:a,vScale:l,_parsed:c}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=a.axis,{min:h,max:f,minDefined:m,maxDefined:p}=a.getUserBounds();if(m){if(s=Math.min(ti(c,d,h).lo,n?r:ti(t,d,a.getPixelForValue(h)).lo),u){const g=c.slice(0,s+1).reverse().findIndex(y=>!Ae(y[l.axis]));s-=Math.max(0,g)}s=At(s,0,r-1)}if(p){let g=Math.max(ti(c,a.axis,f,!0).hi+1,n?0:ti(t,d,a.getPixelForValue(f),!0).hi+1);if(u){const y=c.slice(g-1).findIndex(b=>!Ae(b[l.axis]));g+=Math.max(0,y)}i=At(g,s,r)-s}else i=r-s}return{start:s,count:i}}function LF(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=s,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Sc=e=>e===0||e===1,Ib=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Xe/n)),Mb=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Xe/n)+1,zo={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*xt)+1,easeOutSine:e=>Math.sin(e*xt),easeInOutSine:e=>-.5*(Math.cos(Re*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Sc(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Sc(e)?e:Ib(e,.075,.3),easeOutElastic:e=>Sc(e)?e:Mb(e,.075,.3),easeInOutElastic(e){return Sc(e)?e:e<.5?.5*Ib(e*2,.1125,.45):.5+.5*Mb(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-zo.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?zo.easeInBounce(e*2)*.5:zo.easeOutBounce(e*2-1)*.5+.5};function Ux(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ob(e){return Ux(e)?e:new ml(e)}function yf(e){return Ux(e)?e:new ml(e).saturate(.5).darken(.1).hexString()}const FF=["x","y","borderWidth","radius","tension"],$F=["color","borderColor","backgroundColor"];function zF(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:$F},numbers:{type:"number",properties:FF}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function BF(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Rb=new Map;function VF(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Rb.get(n);return r||(r=new Intl.NumberFormat(e,t),Rb.set(n,r)),r}function Wx(e,t,n){return VF(t,n).format(e)}const UF={values(e){return ut(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let s,i=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=WF(e,n)}const a=nk(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Wx(e,r,c)}};function WF(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var lk={formatters:UF};function HF(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const xi=Object.create(null),Ap=Object.create(null);function Bo(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];e=e[i]||(e[i]=Object.create(null))}return e}function vf(e,t,n){return typeof t=="string"?pl(Bo(e,t),n):pl(Bo(e,""),t)}class qF{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>yf(s.backgroundColor),this.hoverBorderColor=(r,s)=>yf(s.borderColor),this.hoverColor=(r,s)=>yf(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return vf(this,t,n)}get(t){return Bo(this,t)}describe(t,n){return vf(Ap,t,n)}override(t,n){return vf(xi,t,n)}route(t,n,r,s){const i=Bo(this,t),a=Bo(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],u=a[s];return Ee(c)?Object.assign({},u,c):Ne(c,u)},set(c){this[l]=c}}})}apply(t){t.forEach(n=>n(this))}}var at=new qF({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[zF,BF,HF]);function GF(e){return!e||Ae(e.size)||Ae(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Lb(e,t,n,r,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Ls(e,t,n){const r=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function Fb(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ip(e,t,n,r){ck(e,t,n,r,null)}function ck(e,t,n,r,s){let i,a,l,c,u,d,h,f;const m=t.pointStyle,p=t.rotation,g=t.radius;let y=(p||0)*SF;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(y),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),m){default:s?e.ellipse(n,r,s/2,g,0,0,Xe):e.arc(n,r,g,0,Xe),e.closePath();break;case"triangle":d=s?s/2:g,e.moveTo(n+Math.sin(y)*d,r-Math.cos(y)*g),y+=Tb,e.lineTo(n+Math.sin(y)*d,r-Math.cos(y)*g),y+=Tb,e.lineTo(n+Math.sin(y)*d,r-Math.cos(y)*g),e.closePath();break;case"rectRounded":u=g*.516,c=g-u,a=Math.cos(y+Rs)*c,h=Math.cos(y+Rs)*(s?s/2-u:c),l=Math.sin(y+Rs)*c,f=Math.sin(y+Rs)*(s?s/2-u:c),e.arc(n-h,r-l,u,y-Re,y-xt),e.arc(n+f,r-a,u,y-xt,y),e.arc(n+h,r+l,u,y,y+xt),e.arc(n-f,r+a,u,y+xt,y+Re),e.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*g,d=s?s/2:c,e.rect(n-d,r-c,2*d,2*c);break}y+=Rs;case"rectRot":h=Math.cos(y)*(s?s/2:g),a=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(s?s/2:g),e.moveTo(n-h,r-l),e.lineTo(n+f,r-a),e.lineTo(n+h,r+l),e.lineTo(n-f,r+a),e.closePath();break;case"crossRot":y+=Rs;case"cross":h=Math.cos(y)*(s?s/2:g),a=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(s?s/2:g),e.moveTo(n-h,r-l),e.lineTo(n+h,r+l),e.moveTo(n+f,r-a),e.lineTo(n-f,r+a);break;case"star":h=Math.cos(y)*(s?s/2:g),a=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(s?s/2:g),e.moveTo(n-h,r-l),e.lineTo(n+h,r+l),e.moveTo(n+f,r-a),e.lineTo(n-f,r+a),y+=Rs,h=Math.cos(y)*(s?s/2:g),a=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(s?s/2:g),e.moveTo(n-h,r-l),e.lineTo(n+h,r+l),e.moveTo(n+f,r-a),e.lineTo(n-f,r+a);break;case"line":a=s?s/2:Math.cos(y)*g,l=Math.sin(y)*g,e.moveTo(n-a,r-l),e.lineTo(n+a,r+l);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(y)*(s?s/2:g),r+Math.sin(y)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function vl(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function nh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function rh(e){e.restore()}function YF(e,t,n,r,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else s==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function QF(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function KF(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ae(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function XF(e,t,n,r,s){if(s.strikethrough||s.underline){const i=e.measureText(r),a=t-i.actualBoundingBoxLeft,l=t+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,d),e.lineTo(l,d),e.stroke()}}function JF(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function bl(e,t,n,r,s,i={}){const a=ut(t)?t:[t],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(e.save(),e.font=s.string,KF(e,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&JF(e,i.backdrop),l&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Ae(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(u,n,r,i.maxWidth)),e.fillText(u,n,r,i.maxWidth),XF(e,n,r,u,i),r+=Number(s.lineHeight);e.restore()}function ed(e,t){const{x:n,y:r,w:s,h:i,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Re,Re,!0),e.lineTo(n,r+i-a.bottomLeft),e.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,Re,xt,!0),e.lineTo(n+s-a.bottomRight,r+i),e.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,xt,0,!0),e.lineTo(n+s,r+a.topRight),e.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-xt,!0),e.lineTo(n+a.topLeft,r)}const ZF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,e6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function t6(e,t){const n=(""+e).match(ZF);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const n6=e=>+e||0;function Hx(e,t){const n={},r=Ee(t),s=r?Object.keys(t):t,i=Ee(e)?r?a=>Ne(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of s)n[a]=n6(i(a));return n}function uk(e){return Hx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function sa(e){return Hx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function In(e){const t=uk(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function It(e,t){e=e||{},t=t||at.font;let n=Ne(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ne(e.style,t.style);r&&!(""+r).match(e6)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Ne(e.family,t.family),lineHeight:t6(Ne(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Ne(e.weight,t.weight),string:""};return s.string=GF(s),s}function Nc(e,t,n,r){let s,i,a;for(s=0,i=e.length;s<i;++s)if(a=e[s],a!==void 0&&a!==void 0)return a}function r6(e,t,n){const{min:r,max:s}=e,i=ek(t,(s-r)/2),a=(l,c)=>n&&l===0?0:l+c;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function Di(e,t){return Object.assign(Object.create(e),t)}function qx(e,t=[""],n,r,s=()=>e[0]){const i=n||e;typeof r>"u"&&(r=mk("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>qx([l,...e],t,i,r)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return hk(l,c,()=>d6(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return zb(l).includes(c)},ownKeys(l){return zb(l)},set(l,c,u){const d=l._storage||(l._storage=s());return l[c]=d[c]=u,delete l._keys,!0}})}function va(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:dk(e,r),setContext:i=>va(e,i,n,r),override:i=>va(e.override(i),t,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete e[a],!0},get(i,a,l){return hk(i,a,()=>i6(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(i,a,l){return e[a]=l,delete i[a],!0}})}function dk(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Ds(n)?n:()=>n,isIndexable:Ds(r)?r:()=>r}}const s6=(e,t)=>e?e+zx(t):t,Gx=(e,t)=>Ee(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function hk(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function i6(e,t,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=e;let l=r[t];return Ds(l)&&a.isScriptable(t)&&(l=a6(t,l,e,n)),ut(l)&&l.length&&(l=o6(t,l,e,a.isIndexable)),Gx(t,l)&&(l=va(l,s,i&&i[t],a)),l}function a6(e,t,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(i,a||r);return l.delete(e),Gx(e,c)&&(c=Yx(s._scopes,s,e,c)),c}function o6(e,t,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=n;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(Ee(t[0])){const c=t,u=s._scopes.filter(d=>d!==c);t=[];for(const d of c){const h=Yx(u,s,e,d);t.push(va(h,i,a&&a[e],l))}}return t}function fk(e,t,n){return Ds(e)?e(t,n):e}const l6=(e,t)=>e===!0?t:typeof e=="string"?gi(t,e):void 0;function c6(e,t,n,r,s){for(const i of t){const a=l6(n,i);if(a){e.add(a);const l=fk(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function Yx(e,t,n,r){const s=t._rootScopes,i=fk(t._fallback,n,r),a=[...e,...s],l=new Set;l.add(r);let c=$b(l,a,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=$b(l,a,i,c,r),c===null)?!1:qx(Array.from(l),[""],s,i,()=>u6(t,n,r))}function $b(e,t,n,r,s){for(;n;)n=c6(e,t,n,r,s);return n}function u6(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];return ut(s)&&Ee(n)?n:s||{}}function d6(e,t,n,r){let s;for(const i of t)if(s=mk(s6(i,e),n),typeof s<"u")return Gx(e,s)?Yx(n,r,e,s):s}function mk(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function zb(e){let t=e._keys;return t||(t=e._keys=h6(e._scopes)),t}function h6(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(r);return Array.from(t)}const f6=Number.EPSILON||1e-14,ba=(e,t)=>t<e.length&&!e[t].skip&&e[t],pk=e=>e==="x"?"y":"x";function m6(e,t,n,r){const s=e.skip?t:e,i=t,a=n.skip?t:n,l=_p(i,s),c=_p(a,i);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=r*u,f=r*d;return{previous:{x:i.x-h*(a.x-s.x),y:i.y-h*(a.y-s.y)},next:{x:i.x+f*(a.x-s.x),y:i.y+f*(a.y-s.y)}}}function p6(e,t,n){const r=e.length;let s,i,a,l,c,u=ba(e,0);for(let d=0;d<r-1;++d)if(c=u,u=ba(e,d+1),!(!c||!u)){if($o(t[d],0,f6)){n[d]=n[d+1]=0;continue}s=n[d]/t[d],i=n[d+1]/t[d],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),n[d]=s*a*t[d],n[d+1]=i*a*t[d])}}function g6(e,t,n="x"){const r=pk(n),s=e.length;let i,a,l,c=ba(e,0);for(let u=0;u<s;++u){if(a=l,l=c,c=ba(e,u+1),!l)continue;const d=l[n],h=l[r];a&&(i=(d-a[n])/3,l[`cp1${n}`]=d-i,l[`cp1${r}`]=h-i*t[u]),c&&(i=(c[n]-d)/3,l[`cp2${n}`]=d+i,l[`cp2${r}`]=h+i*t[u])}}function x6(e,t="x"){const n=pk(t),r=e.length,s=Array(r).fill(0),i=Array(r);let a,l,c,u=ba(e,0);for(a=0;a<r;++a)if(l=c,c=u,u=ba(e,a+1),!!c){if(u){const d=u[t]-c[t];s[a]=d!==0?(u[n]-c[n])/d:0}i[a]=l?u?cr(s[a-1])!==cr(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}p6(e,s,i),g6(e,i,t)}function Cc(e,t,n){return Math.max(Math.min(e,n),t)}function y6(e,t){let n,r,s,i,a,l=vl(e[0],t);for(n=0,r=e.length;n<r;++n)a=i,i=l,l=n<r-1&&vl(e[n+1],t),i&&(s=e[n],a&&(s.cp1x=Cc(s.cp1x,t.left,t.right),s.cp1y=Cc(s.cp1y,t.top,t.bottom)),l&&(s.cp2x=Cc(s.cp2x,t.left,t.right),s.cp2y=Cc(s.cp2y,t.top,t.bottom)))}function v6(e,t,n,r,s){let i,a,l,c;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")x6(e,s);else{let u=r?e[e.length-1]:e[0];for(i=0,a=e.length;i<a;++i)l=e[i],c=m6(u,l,e[Math.min(i+1,a-(r?0:1))%a],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}t.capBezierPoints&&y6(e,n)}function Qx(){return typeof window<"u"&&typeof document<"u"}function Kx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function td(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const sh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function b6(e,t){return sh(e).getPropertyValue(t)}const w6=["top","right","bottom","left"];function ai(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=w6[s];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const j6=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function S6(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:i}=r;let a=!1,l,c;if(j6(s,i,e.target))l=s,c=i;else{const u=t.getBoundingClientRect();l=r.clientX-u.left,c=r.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function qs(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=sh(n),i=s.boxSizing==="border-box",a=ai(s,"padding"),l=ai(s,"border","width"),{x:c,y:u,box:d}=S6(e,n),h=a.left+(d&&l.left),f=a.top+(d&&l.top);let{width:m,height:p}=t;return i&&(m-=a.width+l.width,p-=a.height+l.height),{x:Math.round((c-h)/m*n.width/r),y:Math.round((u-f)/p*n.height/r)}}function N6(e,t,n){let r,s;if(t===void 0||n===void 0){const i=e&&Kx(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const a=i.getBoundingClientRect(),l=sh(i),c=ai(l,"border","width"),u=ai(l,"padding");t=a.width-u.width-c.width,n=a.height-u.height-c.height,r=td(l.maxWidth,i,"clientWidth"),s=td(l.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:r||Zu,maxHeight:s||Zu}}const kc=e=>Math.round(e*10)/10;function C6(e,t,n,r){const s=sh(e),i=ai(s,"margin"),a=td(s.maxWidth,e,"clientWidth")||Zu,l=td(s.maxHeight,e,"clientHeight")||Zu,c=N6(e,t,n);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const f=ai(s,"border","width"),m=ai(s,"padding");u-=m.width+f.width,d-=m.height+f.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=kc(Math.min(u,a,c.maxWidth)),d=kc(Math.min(d,l,c.maxHeight)),u&&!d&&(d=kc(u/2)),(t!==void 0||n!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,u=kc(Math.floor(d*r))),{width:u,height:d}}function Bb(e,t,n){const r=t||1,s=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(e.currentDevicePixelRatio=r,a.height=s,a.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const k6=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Qx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Vb(e,t){const n=b6(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Gs(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function D6(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function E6(e,t,n,r){const s={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},a=Gs(e,s,n),l=Gs(s,i,n),c=Gs(i,t,n),u=Gs(a,l,n),d=Gs(l,c,n);return Gs(u,d,n)}const T6=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},P6=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function ia(e,t,n){return e?T6(t,n):P6()}function gk(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function xk(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function yk(e){return e==="angle"?{between:yl,compare:TF,normalize:sn}:{between:Dr,compare:(t,n)=>t-n,normalize:t=>t}}function Ub({start:e,end:t,count:n,loop:r,style:s}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:s}}function _6(e,t,n){const{property:r,start:s,end:i}=n,{between:a,normalize:l}=yk(r),c=t.length;let{start:u,end:d,loop:h}=e,f,m;if(h){for(u+=c,d+=c,f=0,m=c;f<m&&a(l(t[u%c][r]),s,i);++f)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:e.style}}function vk(e,t,n){if(!n)return[e];const{property:r,start:s,end:i}=n,a=t.length,{compare:l,between:c,normalize:u}=yk(r),{start:d,end:h,loop:f,style:m}=_6(e,t,n),p=[];let g=!1,y=null,b,v,w;const S=()=>c(s,w,b)&&l(s,w)!==0,j=()=>l(i,b)===0||c(i,w,b),k=()=>g||S(),C=()=>!g||j();for(let N=d,D=d;N<=h;++N)v=t[N%a],!v.skip&&(b=u(v[r]),b!==w&&(g=c(b,s,i),y===null&&k()&&(y=l(b,s)===0?N:D),y!==null&&C()&&(p.push(Ub({start:y,end:N,loop:f,count:a,style:m})),y=null),D=N,w=b));return y!==null&&p.push(Ub({start:y,end:h,loop:f,count:a,style:m})),p}function bk(e,t){const n=[],r=e.segments;for(let s=0;s<r.length;s++){const i=vk(r[s],e.points,t);i.length&&n.push(...i)}return n}function A6(e,t,n,r){let s=0,i=t-1;if(n&&!r)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(i+=s);i>s&&e[i%t].skip;)i--;return i%=t,{start:s,end:i}}function I6(e,t,n,r){const s=e.length,i=[];let a=t,l=e[t],c;for(c=t+1;c<=n;++c){const u=e[c%s];u.skip||u.stop?l.skip||(r=!1,i.push({start:t%s,end:(c-1)%s,loop:r}),t=a=u.stop?c:null):(a=c,l.skip&&(t=c)),l=u}return a!==null&&i.push({start:t%s,end:a%s,loop:r}),i}function M6(e,t){const n=e.points,r=e.options.spanGaps,s=n.length;if(!s)return[];const i=!!e._loop,{start:a,end:l}=A6(n,s,i,r);if(r===!0)return Wb(e,[{start:a,end:l,loop:i}],n,t);const c=l<a?l+s:l,u=!!e._fullLoop&&a===0&&l===s-1;return Wb(e,I6(n,a,c,u),n,t)}function Wb(e,t,n,r){return!r||!r.setContext||!n?t:O6(e,t,n,r)}function O6(e,t,n,r){const s=e._chart.getContext(),i=Hb(e.options),{_datasetIndex:a,options:{spanGaps:l}}=e,c=n.length,u=[];let d=i,h=t[0].start,f=h;function m(p,g,y,b){const v=l?-1:1;if(p!==g){for(p+=c;n[p%c].skip;)p-=v;for(;n[g%c].skip;)g+=v;p%c!==g%c&&(u.push({start:p%c,end:g%c,loop:y,style:b}),d=b,h=g%c)}}for(const p of t){h=l?h:p.start;let g=n[h%c],y;for(f=h+1;f<=p.end;f++){const b=n[f%c];y=Hb(r.setContext(Di(s,{type:"segment",p0:g,p1:b,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:a}))),R6(y,d)&&m(h,f-1,p.loop,d),g=b,d=y}h<f-1&&m(h,f-1,p.loop,d)}return u}function Hb(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function R6(e,t){if(!t)return!1;const n=[],r=function(s,i){return Ux(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Dc(e,t,n){return e.options.clip?e[n]:t[n]}function L6(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Dc(n,t,"left"),right:Dc(n,t,"right"),top:Dc(r,t,"top"),bottom:Dc(r,t,"bottom")}:t}function wk(e,t){const n=t._clip;if(n.disabled)return!1;const r=L6(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class F6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(l=>l({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=ak.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(t),l=!0):(i[a]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,t,"progress")),i.length||(r.running=!1,this._notify(s,r,t,"complete"),r.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var xr=new F6;const qb="transparent",$6={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=Ob(e||qb),s=r.valid&&Ob(t||qb);return s&&s.valid?s.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class z6{constructor(t,n,r,s){const i=n[r];s=Nc([t.to,s,i,t.from]);const a=Nc([t.from,i,s]);this._active=!0,this._fn=t.fn||$6[t.type||typeof a],this._easing=zo[t.easing]||zo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Nc([t.to,n,s,t.from]),this._from=Nc([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class jk{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Ee(t))return;const n=Object.keys(at.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const i=t[s];if(!Ee(i))return;const a={};for(const l of n)a[l]=i[l];(ut(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,a)})})}_animateOptions(t,n){const r=n.options,s=V6(t,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&B6(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,n){const r=this._properties,s=[],i=t.$animations||(t.$animations={}),a=Object.keys(n),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(t,n));continue}const d=n[u];let h=i[u];const f=r.get(u);if(h)if(f&&h.active()){h.update(f,d,l);continue}else h.cancel();if(!f||!f.duration){t[u]=d;continue}i[u]=h=new z6(f,t,u,d),s.push(h)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return xr.add(this._chart,r),!0}}function B6(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const i=e[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function V6(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Gb(e,t){const n=e&&e.options||{},r=n.reverse,s=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:r?i:s,end:r?s:i}}function U6(e,t,n){if(n===!1)return!1;const r=Gb(e,n),s=Gb(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function W6(e){let t,n,r,s;return Ee(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:e===!1}}function Sk(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function Yb(e,t,n,r={}){const s=e.keys,i=r.mode==="single";let a,l,c,u;if(t===null)return;let d=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===n){if(d=!0,r.all)continue;break}u=e.values[c],Rt(u)&&(i||t===0||cr(t)===cr(u))&&(t+=u)}return!d&&!r.all?0:t}function H6(e,t){const{iScale:n,vScale:r}=t,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(e),l=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],l[c]={[s]:d,[i]:e[d]};return l}function bf(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function q6(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function G6(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Y6(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Qb(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const i=e[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function Kb(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:l}=r,c=i.axis,u=a.axis,d=q6(i,a,r),h=t.length;let f;for(let m=0;m<h;++m){const p=t[m],{[c]:g,[u]:y}=p,b=p._stacks||(p._stacks={});f=b[u]=Y6(s,d,g),f[l]=y,f._top=Qb(f,a,!0,r.type),f._bottom=Qb(f,a,!1,r.type);const v=f._visualValues||(f._visualValues={});v[l]=y}}function wf(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function Q6(e,t){return Di(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function K6(e,t,n){return Di(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Ja(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const s of t){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const jf=e=>e==="reset"||e==="none",Xb=(e,t)=>t?e:Object.assign({},e),X6=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Sk(n,!0),values:null};class oi{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=bf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ja(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,f,m,p)=>h==="x"?f:h==="r"?p:m,i=n.xAxisID=Ne(r.xAxisID,wf(t,"x")),a=n.yAxisID=Ne(r.yAxisID,wf(t,"y")),l=n.rAxisID=Ne(r.rAxisID,wf(t,"r")),c=n.indexAxis,u=n.iAxisID=s(c,i,a,l),d=n.vAxisID=s(c,a,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ab(this._data,this),t._stacked&&Ja(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Ee(n)){const s=this._cachedMeta;this._data=H6(n,s)}else if(r!==n){if(r){Ab(r,this);const s=this._cachedMeta;Ja(s),s._parsed=[]}n&&Object.isExtensible(n)&&IF(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=bf(n.vScale,n),n.stack!==r.stack&&(s=!0,Ja(n),n.stack=r.stack),this._resyncElements(t),(s||i!==n._stacked)&&(Kb(this,n._parsed),n._stacked=bf(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,l=i.axis;let c=t===0&&n===s.length?!0:r._sorted,u=t>0&&r._parsed[t-1],d,h,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{ut(s[t])?f=this.parseArrayData(r,s,t,n):Ee(s[t])?f=this.parseObjectData(r,s,t,n):f=this.parsePrimitiveData(r,s,t,n);const m=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<n;++d)r._parsed[d+t]=h=f[d],c&&(m()&&(c=!1),u=h);r._sorted=c}a&&Kb(this,f)}parsePrimitiveData(t,n,r,s){const{iScale:i,vScale:a}=t,l=i.axis,c=a.axis,u=i.getLabels(),d=i===a,h=new Array(s);let f,m,p;for(f=0,m=s;f<m;++f)p=f+r,h[f]={[l]:d||i.parse(u[p],p),[c]:a.parse(n[p],p)};return h}parseArrayData(t,n,r,s){const{xScale:i,yScale:a}=t,l=new Array(s);let c,u,d,h;for(c=0,u=s;c<u;++c)d=c+r,h=n[d],l[c]={x:i.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(t,n,r,s){const{xScale:i,yScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,h,f,m;for(d=0,h=s;d<h;++d)f=d+r,m=n[f],u[d]={x:i.parse(gi(m,l),f),y:a.parse(gi(m,c),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const s=this.chart,i=this._cachedMeta,a=n[t.axis],l={keys:Sk(s,!0),values:n._stacks[t.axis]._visualValues};return Yb(l,a,i.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,a=Yb(s,i,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&t===r.iScale,a=s.length,l=this._getOtherScale(t),c=X6(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=G6(l);let f,m;function p(){m=s[f];const g=m[l.axis];return!Rt(m[t.axis])||d>g||h<g}for(f=0;f<a&&!(!p()&&(this.updateRangeFromParsed(u,t,m,c),i));++f);if(i){for(f=a-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(u,t,m,c);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][t.axis],Rt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=W6(Ne(this.options.clip,U6(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(t,i,l,c),d=l;d<l+c;++d){const h=s[d];h.hidden||(h.active&&u?a.push(h):h.draw(t,i))}for(d=0;d<a.length;++d)a[d].draw(t,i)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];i=a.$context||(a.$context=K6(this.getContext(),t,a)),i.parsed=this.getParsed(t),i.raw=s.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Q6(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=t+"-"+n,l=i[a],c=this.enableOptionSharing&&gl(r);if(l)return Xb(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),d),m=Object.keys(at.elements[t]),p=()=>this.getContext(r,s,n),g=u.resolveNamedOptions(f,m,p,h);return g.$shared&&(g.$shared=c,i[a]=Object.freeze(Xb(g,c))),g}_resolveAnimations(t,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,l=i[a];if(l)return l;let c;if(s.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(t,r,n))}const u=new jk(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||jf(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(t,n,r,s){jf(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!jf(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,t):i<s&&this._removeElements(i,s-i)}_insertElements(t,n,r=!0){const s=this._cachedMeta,i=s.data,a=t+n;let l;const c=u=>{for(u.length+=n,l=u.length-1;l>=a;l--)u[l]=u[l-n]};for(c(i),l=t;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,n),r&&this.updateElements(i,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&Ja(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ue(oi,"defaults",{}),ue(oi,"datasetElementType",null),ue(oi,"dataElementType",null);function J6(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=ik(r.sort((s,i)=>s-i))}return e._cache.$bar}function Z6(e){const t=e.iScale,n=J6(t,e.type);let r=t._length,s,i,a,l;const c=()=>{a===32767||a===-32768||(gl(l)&&(r=Math.min(r,Math.abs(a-l)||r)),l=a)};for(s=0,i=n.length;s<i;++s)a=t.getPixelForValue(n[s]),c();for(l=void 0,s=0,i=t.ticks.length;s<i;++s)a=t.getPixelForTick(s),c();return r}function e$(e,t,n,r){const s=n.barThickness;let i,a;return Ae(s)?(i=t.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:t.pixels[e]-i/2}}function t$(e,t,n,r){const s=t.pixels,i=s[e];let a=e>0?s[e-1]:null,l=e<s.length-1?s[e+1]:null;const c=n.categoryPercentage;a===null&&(a=i-(l===null?t.end-t.start:l-i)),l===null&&(l=i+i-a);const u=i-(i-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/r,ratio:n.barPercentage,start:u}}function n$(e,t,n,r){const s=n.parse(e[0],r),i=n.parse(e[1],r),a=Math.min(s,i),l=Math.max(s,i);let c=a,u=l;Math.abs(a)>Math.abs(l)&&(c=l,u=a),t[n.axis]=u,t._custom={barStart:c,barEnd:u,start:s,end:i,min:a,max:l}}function Nk(e,t,n,r){return ut(e)?n$(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Jb(e,t,n,r){const s=e.iScale,i=e.vScale,a=s.getLabels(),l=s===i,c=[];let u,d,h,f;for(u=n,d=n+r;u<d;++u)f=t[u],h={},h[s.axis]=l||s.parse(a[u],u),c.push(Nk(f,h,i,u));return c}function Sf(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function r$(e,t,n){return e!==0?cr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function s$(e){let t,n,r,s,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:t,top:s,bottom:i}}function i$(e,t,n,r){let s=t.borderSkipped;const i={};if(!s){e.borderSkipped=i;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:u,bottom:d}=s$(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[Zb(d,a,l,c)]=!0,s=u)),i[Zb(s,a,l,c)]=!0,e.borderSkipped=i}function Zb(e,t,n,r){return r?(e=a$(e,t,n),e=ew(e,n,t)):e=ew(e,t,n),e}function a$(e,t,n){return e===t?n:e===n?t:e}function ew(e,t,n){return e==="start"?t:e==="end"?n:e}function o$(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class au extends oi{parsePrimitiveData(t,n,r,s){return Jb(t,n,r,s)}parseArrayData(t,n,r,s){return Jb(t,n,r,s)}parseObjectData(t,n,r,s){const{iScale:i,vScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,d=a.axis==="x"?l:c,h=[];let f,m,p,g;for(f=r,m=r+s;f<m;++f)g=n[f],p={},p[i.axis]=i.parse(gi(g,u),f),h.push(Nk(gi(g,d),p,a,f));return h}updateRangeFromParsed(t,n,r,s){super.updateRangeFromParsed(t,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(t),a=i._custom,l=Sf(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s);for(let m=n;m<n+r;m++){const p=this.getParsed(m),g=i||Ae(p[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),y=this._calculateBarIndexPixels(m,d),b=(p._stacks||{})[l.axis],v={horizontal:u,base:g.base,enableBorderRadius:!b||Sf(p._custom)||a===b._top||a===b._bottom,x:u?g.head:y.center,y:u?y.center:g.head,height:u?y.size:Math.abs(g.size),width:u?Math.abs(g.size):y.size};f&&(v.options=h||this.resolveDataElementOptions(m,t[m].active?"active":s));const w=v.options||t[m].options;i$(v,w,b,a),o$(v,w,d.ratio),this.updateElement(t[m],m,v,s)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[r.axis],u=d=>{const h=d._parsed.find(m=>m[r.axis]===c),f=h&&h[d.vScale.axis];if(Ae(f)||isNaN(f))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[Ne(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const s=this._getStacks(t,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,a;for(i=0,a=n.data.length;i<a;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const l=t.barThickness;return{min:l||Z6(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:a}}=this,l=i||0,c=this.getParsed(t),u=c._custom,d=Sf(u);let h=c[n.axis],f=0,m=r?this.applyStack(n,c,r):h,p,g;m!==h&&(f=m-h,m=h),d&&(h=u.barStart,m=u.barEnd-u.barStart,h!==0&&cr(h)!==cr(u.barEnd)&&(f=0),f+=h);const y=!Ae(i)&&!d?i:f;let b=n.getPixelForValue(y);if(this.chart.getDataVisibility(t)?p=n.getPixelForValue(f+m):p=b,g=p-b,Math.abs(g)<a){g=r$(g,n,l)*a,h===l&&(b-=g/2);const v=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),S=Math.min(v,w),j=Math.max(v,w);b=Math.max(Math.min(b,j),S),p=b+g,r&&!d&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(b))}if(b===n.getPixelForValue(l)){const v=cr(g)*n.getLineWidthForValue(l)/2;b+=v,g-=v}return{size:g,base:b,head:p,center:p+g/2}}_calculateBarIndexPixels(t,n){const r=n.scale,s=this.options,i=s.skipNull,a=Ne(s.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(t):n.stackCount,h=s.barThickness==="flex"?t$(t,n,s,d*u):e$(t,n,s,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Ne(f,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+m;l=h.start+h.chunk*p+h.chunk/2,c=Math.min(a,h.chunk*h.ratio)}else l=r.getPixelForValue(this.getParsed(t)[r.axis],t),c=Math.min(a,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}ue(au,"id","bar"),ue(au,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ue(au,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function l$(e,t,n){let r=1,s=1,i=0,a=0;if(t<Xe){const l=e,c=l+t,u=Math.cos(l),d=Math.sin(l),h=Math.cos(c),f=Math.sin(c),m=(w,S,j)=>yl(w,l,c,!0)?1:Math.max(S,S*n,j,j*n),p=(w,S,j)=>yl(w,l,c,!0)?-1:Math.min(S,S*n,j,j*n),g=m(0,u,h),y=m(xt,d,f),b=p(Re,u,h),v=p(Re+xt,d,f);r=(g-b)/2,s=(y-v)/2,i=-(g+b)/2,a=-(y+v)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class bo extends oi{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if(Ee(r[t])){const{key:c="value"}=this._parsing;i=u=>+gi(r[u],c)}let a,l;for(a=t,l=t+n;a<l;++a)s._parsed[a]=i(a)}}_getRotation(){return kr(this.options.rotation-90)}_getCircumference(){return kr(this.options.circumference)}_getRotationExtents(){let t=Xe,n=-Xe;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();t=Math.min(t,i),n=Math.max(n,i+a)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(gF(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:p,offsetY:g}=l$(h,d,c),y=(r.width-a)/f,b=(r.height-a)/m,v=Math.max(Math.min(y,b)/2,0),w=ek(this.options.radius,v),S=Math.max(w*c,0),j=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=g*w,s.total=this.calculateTotal(),this.outerRadius=w-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*i/Xe)}updateElements(t,n,r,s){const i=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=i&&u.animateScale,m=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(n,s);let b=this._getRotation(),v;for(v=0;v<n;++v)b+=this._circumference(v,i);for(v=n;v<n+r;++v){const w=this._circumference(v,i),S=t[v],j={x:d+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+w,circumference:w,outerRadius:p,innerRadius:m};y&&(j.options=g||this.resolveDataElementOptions(v,S.active?"active":s)),b+=w,this.updateElement(S,v,j,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,s;for(s=0;s<n.length;s++){const i=t._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Xe*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=Wx(n._parsed[t],r.options.locale);return{label:s[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const r=this.chart;let s,i,a,l,c;if(!t){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),t=a.data,l=a.controller;break}}if(!t)return 0;for(s=0,i=t.length;s<i;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,s=t.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(Ne(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ue(bo,"id","doughnut"),ue(bo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ue(bo,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ue(bo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((i,a)=>{const c=t.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class ou extends oi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:l,count:c}=RF(n,s,a);this._drawStart=l,this._drawCount=c,LF(n)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},t),this.updateElements(s,l,c,t)}updateElements(t,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,s),f=a.axis,m=l.axis,{spanGaps:p,segment:g}=this.options,y=xl(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||s==="none",v=n+r,w=t.length;let S=n>0&&this.getParsed(n-1);for(let j=0;j<w;++j){const k=t[j],C=b?k:{};if(j<n||j>=v){C.skip=!0;continue}const N=this.getParsed(j),D=Ae(N[m]),T=C[f]=a.getPixelForValue(N[f],j),L=C[m]=i||D?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,N,c):N[m],j);C.skip=isNaN(T)||isNaN(L)||D,C.stop=j>0&&Math.abs(N[f]-S[f])>y,g&&(C.parsed=N,C.raw=u.data[j]),h&&(C.options=d||this.resolveDataElementOptions(j,k.active?"active":s)),b||this.updateElement(k,j,C,s),S=N}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ue(ou,"id","line"),ue(ou,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ue(ou,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Fs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xx{constructor(t){ue(this,"options");this.options=t||{}}static override(t){Object.assign(Xx.prototype,t)}init(){}formats(){return Fs()}parse(){return Fs()}format(){return Fs()}add(){return Fs()}diff(){return Fs()}startOf(){return Fs()}endOf(){return Fs()}}var c$={_date:Xx};function u$(e,t,n,r){const{controller:s,data:i,_sorted:a}=e,l=s._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&a&&i.length){const u=l._reversePixels?_F:ti;if(r){if(s._sharedOptions){const d=i[0],h=typeof d.getRange=="function"&&d.getRange(t);if(h){const f=u(i,t,n-h),m=u(i,t,n+h);return{lo:f.lo,hi:m.hi}}}}else{const d=u(i,t,n);if(c){const{vScale:h}=s._cachedMeta,{_parsed:f}=e,m=f.slice(0,d.lo+1).reverse().findIndex(g=>!Ae(g[h.axis]));d.lo-=Math.max(0,m);const p=f.slice(d.hi).findIndex(g=>!Ae(g[h.axis]));d.hi+=Math.max(0,p)}return d}}return{lo:0,hi:i.length-1}}function ih(e,t,n,r,s){const i=e.getSortedVisibleDatasetMetas(),a=n[t];for(let l=0,c=i.length;l<c;++l){const{index:u,data:d}=i[l],{lo:h,hi:f}=u$(i[l],t,a,s);for(let m=h;m<=f;++m){const p=d[m];p.skip||r(p,u,m)}}}function d$(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,s){const i=t?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Nf(e,t,n,r,s){const i=[];return!s&&!e.isPointInArea(t)||ih(e,n,t,function(l,c,u){!s&&!vl(l,e.chartArea,0)||l.inRange(t.x,t.y,r)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function h$(e,t,n,r){let s=[];function i(a,l,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:h}=rk(a,{x:t.x,y:t.y});yl(h,u,d)&&s.push({element:a,datasetIndex:l,index:c})}return ih(e,n,t,i),s}function f$(e,t,n,r,s,i){let a=[];const l=d$(n);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const m=d.inRange(t.x,t.y,s);if(r&&!m)return;const p=d.getCenterPoint(s);if(!(!!i||e.isPointInArea(p))&&!m)return;const y=l(t,p);y<c?(a=[{element:d,datasetIndex:h,index:f}],c=y):y===c&&a.push({element:d,datasetIndex:h,index:f})}return ih(e,n,t,u),a}function Cf(e,t,n,r,s,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!r?h$(e,t,n,s):f$(e,t,n,r,s,i)}function tw(e,t,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return ih(e,n,t,(c,u,d)=>{c[a]&&c[a](t[n],s)&&(i.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(t.x,t.y,s))}),r&&!l?[]:i}var m$={modes:{index(e,t,n,r){const s=qs(t,e),i=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?Nf(e,s,i,r,a):Cf(e,s,i,!1,r,a),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(e,t,n,r){const s=qs(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?Nf(e,s,i,r,a):Cf(e,s,i,!1,r,a);if(l.length>0){const c=l[0].datasetIndex,u=e.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(e,t,n,r){const s=qs(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;return Nf(e,s,i,r,a)},nearest(e,t,n,r){const s=qs(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;return Cf(e,s,i,n.intersect,r,a)},x(e,t,n,r){const s=qs(t,e);return tw(e,s,"x",n.intersect,r)},y(e,t,n,r){const s=qs(t,e);return tw(e,s,"y",n.intersect,r)}}};const Ck=["left","top","right","bottom"];function Za(e,t){return e.filter(n=>n.pos===t)}function nw(e,t){return e.filter(n=>Ck.indexOf(n.pos)===-1&&n.box.axis===t)}function eo(e,t){return e.sort((n,r)=>{const s=t?r:n,i=t?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function p$(e){const t=[];let n,r,s,i,a,l;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],{position:i,options:{stack:a,stackWeight:l=1}}=s,t.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:l});return t}function g$(e){const t={};for(const n of e){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!Ck.includes(s))continue;const a=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return t}function x$(e,t){const n=g$(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let i,a,l;for(i=0,a=e.length;i<a;++i){l=e[i];const{fullSize:c}=l.box,u=n[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*r:c&&t.availableWidth,l.height=s):(l.width=r,l.height=d?d*s:c&&t.availableHeight)}return n}function y$(e){const t=p$(e),n=eo(t.filter(u=>u.box.fullSize),!0),r=eo(Za(t,"left"),!0),s=eo(Za(t,"right")),i=eo(Za(t,"top"),!0),a=eo(Za(t,"bottom")),l=nw(t,"x"),c=nw(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:Za(t,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(a).concat(l)}}function rw(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function kk(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function v$(e,t,n,r){const{pos:s,box:i}=n,a=e.maxPadding;if(!Ee(s)){n.size&&(e[s]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,e[s]+=n.size}i.getPadding&&kk(a,i.getPadding());const l=Math.max(0,t.outerWidth-rw(a,e,"left","right")),c=Math.max(0,t.outerHeight-rw(a,e,"top","bottom")),u=l!==e.w,d=c!==e.h;return e.w=l,e.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function b$(e){const t=e.maxPadding;function n(r){const s=Math.max(t[r]-e[r],0);return e[r]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function w$(e,t){const n=t.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(t[a],n[a])}),i}return r(e?["left","right"]:["top","bottom"])}function wo(e,t,n,r){const s=[];let i,a,l,c,u,d;for(i=0,a=e.length,u=0;i<a;++i){l=e[i],c=l.box,c.update(l.width||t.w,l.height||t.h,w$(l.horizontal,t));const{same:h,other:f}=v$(t,n,l,r);u|=h&&s.length,d=d||f,c.fullSize||s.push(l)}return u&&wo(s,t,n,r)||d}function Ec(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function sw(e,t,n,r){const s=n.padding;let{x:i,y:a}=t;for(const l of e){const c=l.box,u=r[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const h=t.w*d,f=u.size||c.height;gl(u.start)&&(a=u.start),c.fullSize?Ec(c,s.left,a,n.outerWidth-s.right-s.left,f):Ec(c,t.left+u.placed,a,h,f),u.start=a,u.placed+=h,a=c.bottom}else{const h=t.h*d,f=u.size||c.width;gl(u.start)&&(i=u.start),c.fullSize?Ec(c,i,s.top,f,n.outerHeight-s.bottom-s.top):Ec(c,i,t.top+u.placed,f,h),u.start=i,u.placed+=h,i=c.right}}t.x=i,t.y=a}var Dn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=In(e.options.layout.padding),i=Math.max(t-s.width,0),a=Math.max(n-s.height,0),l=y$(e.boxes),c=l.vertical,u=l.horizontal;Oe(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=c.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),f=Object.assign({},s);kk(f,In(r));const m=Object.assign({maxPadding:f,w:i,h:a,x:s.left,y:s.top},s),p=x$(c.concat(u),h);wo(l.fullSize,m,h,p),wo(c,m,h,p),wo(u,m,h,p)&&wo(c,m,h,p),b$(m),sw(l.leftAndTop,m,h,p),m.x+=m.w,m.y+=m.h,sw(l.rightAndBottom,m,h,p),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Oe(l.chartArea,g=>{const y=g.box;Object.assign(y,e.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Dk{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,s){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(t){return!0}updateConfig(t){}}class j$ extends Dk{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const lu="$chartjs",S$={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},iw=e=>e===null||e==="";function N$(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[lu]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",iw(s)){const i=Vb(e,"width");i!==void 0&&(e.width=i)}if(iw(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=Vb(e,"height");i!==void 0&&(e.height=i)}return e}const Ek=k6?{passive:!0}:!1;function C$(e,t,n){e&&e.addEventListener(t,n,Ek)}function k$(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Ek)}function D$(e,t){const n=S$[e.type]||e.type,{x:r,y:s}=qs(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:s!==void 0?s:null}}function nd(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function E$(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||nd(l.addedNodes,r),a=a&&!nd(l.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function T$(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||nd(l.removedNodes,r),a=a&&!nd(l.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const wl=new Map;let aw=0;function Tk(){const e=window.devicePixelRatio;e!==aw&&(aw=e,wl.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function P$(e,t){wl.size||window.addEventListener("resize",Tk),wl.set(e,t)}function _$(e){wl.delete(e),wl.size||window.removeEventListener("resize",Tk)}function A$(e,t,n){const r=e.canvas,s=r&&Kx(r);if(!s)return;const i=ok((l,c)=>{const u=s.clientWidth;n(l,c),u<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(s),P$(e,i),a}function kf(e,t,n){n&&n.disconnect(),t==="resize"&&_$(e)}function I$(e,t,n){const r=e.canvas,s=ok(i=>{e.ctx!==null&&n(D$(i,e))},e);return C$(r,t,s),s}class M$ extends Dk{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(N$(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[lu])return!1;const r=n[lu].initial;["height","width"].forEach(i=>{const a=r[i];Ae(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[lu],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),a={attach:E$,detach:T$,resize:A$}[n]||I$;s[n]=a(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),s=r[n];if(!s)return;({attach:kf,detach:kf,resize:kf}[n]||k$)(t,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,s){return C6(t,n,r,s)}isAttached(t){const n=t&&Kx(t);return!!(n&&n.isConnected)}}function O$(e){return!Qx()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?j$:M$}var Wc;let zr=(Wc=class{constructor(){ue(this,"x");ue(this,"y");ue(this,"active",!1);ue(this,"options");ue(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return xl(this.x)&&xl(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const s={};return t.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},ue(Wc,"defaults",{}),ue(Wc,"defaultRoutes"),Wc);function R$(e,t){const n=e.options.ticks,r=L$(e),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?$$(t):[],a=i.length,l=i[0],c=i[a-1],u=[];if(a>s)return z$(t,u,i,a/s),u;const d=F$(i,t,s);if(a>0){let h,f;const m=a>1?Math.round((c-l)/(a-1)):null;for(Tc(t,u,d,Ae(m)?0:l-m,l),h=0,f=a-1;h<f;h++)Tc(t,u,d,i[h],i[h+1]);return Tc(t,u,d,c,Ae(m)?t.length:c+m),u}return Tc(t,u,d),u}function L$(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}function F$(e,t,n){const r=B$(e),s=t.length/n;if(!r)return Math.max(s,1);const i=NF(r);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function $$(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function z$(e,t,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<e.length;a++)a===i&&(t.push(e[a]),s++,i=n[s*r])}function Tc(e,t,n,r,s){const i=Ne(r,0),a=Math.min(Ne(s,e.length),e.length);let l=0,c,u,d;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),d=i;d<0;)l++,d=Math.round(i+l*n);for(u=Math.max(i,0);u<a;u++)u===d&&(t.push(e[u]),l++,d=Math.round(i+l*n))}function B$(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const V$=e=>e==="left"?"right":e==="right"?"left":e,ow=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,lw=(e,t)=>Math.min(t||e,e);function cw(e,t){const n=[],r=e.length/t,s=e.length;let i=0;for(;i<s;i+=r)n.push(e[Math.floor(i)]);return n}function U$(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),i=e._startPixel,a=e._endPixel,l=1e-6;let c=e.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(c-i,a-c):t===0?u=(e.getPixelForTick(1)-c)/2:u=(c-e.getPixelForTick(s-1))/2,c+=s<t?u:-u,c<i-l||c>a+l)))return c}function W$(e,t){Oe(e,n=>{const r=n.gc,s=r.length/2;let i;if(s>t){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function to(e){return e.drawTicks?e.tickLength:0}function uw(e,t){if(!e.display)return 0;const n=It(e.font,t),r=In(e.padding);return(ut(e.text)?e.text.length:1)*n.lineHeight+r.height}function H$(e,t){return Di(e,{scale:t,type:"scale"})}function q$(e,t,n){return Di(e,{tick:n,index:t,type:"tick"})}function G$(e,t,n){let r=Vx(e);return(n&&t!=="right"||!n&&t==="right")&&(r=V$(r)),r}function Y$(e,t,n,r){const{top:s,left:i,bottom:a,right:l,chart:c}=e,{chartArea:u,scales:d}=c;let h=0,f,m,p;const g=a-s,y=l-i;if(e.isHorizontal()){if(m=Pt(r,i,l),Ee(n)){const b=Object.keys(n)[0],v=n[b];p=d[b].getPixelForValue(v)+g-t}else n==="center"?p=(u.bottom+u.top)/2+g-t:p=ow(e,n,t);f=l-i}else{if(Ee(n)){const b=Object.keys(n)[0],v=n[b];m=d[b].getPixelForValue(v)-y+t}else n==="center"?m=(u.left+u.right)/2-y+t:m=ow(e,n,t);p=Pt(r,a,s),h=n==="left"?-xt:xt}return{titleX:m,titleY:p,maxWidth:f,rotation:h}}class _a extends zr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return t=Zn(t,Number.POSITIVE_INFINITY),n=Zn(n,Number.NEGATIVE_INFINITY),r=Zn(r,Number.POSITIVE_INFINITY),s=Zn(s,Number.NEGATIVE_INFINITY),{min:Zn(t,r),max:Zn(n,s),minDefined:Rt(t),maxDefined:Rt(n)}}getMinMax(t){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,t),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Zn(n,Zn(r,n)),max:Zn(r,Zn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ve(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=r6(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?cw(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=R$(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ve(this.options.afterUpdate,[this])}beforeSetDimensions(){Ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ve(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ve(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r],i.label=Ve(n.callback,[i.value,r,t],this)}afterTickToLabelConversion(){Ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=lw(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,l,c,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,m=At(this.chart.width-h,0,this.maxWidth);l=t.offset?this.maxWidth/r:m/(r-1),h+6>l&&(l=m/(r-(t.offset?.5:1)),c=this.maxHeight-to(t.grid)-n.padding-uw(t.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),a=EF(Math.min(Math.asin(At((d.highest.height+6)/l,-1,1)),Math.asin(At(c/u,-1,1))-Math.asin(At(f/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ve(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=uw(s,n.options.font);if(l?(t.width=this.maxWidth,t.height=to(i)+c):(t.height=this.maxHeight,t.width=to(i)+c),r.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),m=r.padding*2,p=kr(this.labelRotation),g=Math.cos(p),y=Math.sin(p);if(l){const b=r.mirror?0:y*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+b+m)}else{const b=r.mirror?0:g*h.width+y*f.height;t.width=Math.min(this.maxWidth,t.width+b+m)}this._calculatePadding(u,d,y,g)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,s){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;c?u?(f=s*t.width,m=r*n.height):(f=r*t.height,m=s*n.width):i==="start"?m=n.width:i==="end"?f=t.width:i!=="inner"&&(f=t.width/2,m=n.width/2),this.paddingLeft=Math.max((f-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-h+a)*this.width/(this.width-h),0)}else{let d=n.height/2,h=t.height/2;i==="start"?(d=0,h=t.height):i==="end"&&(d=n.height,h=0),this.paddingTop=d+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ve(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Ae(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=cw(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(n/lw(n,r));let u=0,d=0,h,f,m,p,g,y,b,v,w,S,j;for(h=0;h<n;h+=c){if(p=t[h].label,g=this._resolveTickFontOptions(h),s.font=y=g.string,b=i[y]=i[y]||{data:{},gc:[]},v=g.lineHeight,w=S=0,!Ae(p)&&!ut(p))w=Lb(s,b.data,b.gc,w,p),S=v;else if(ut(p))for(f=0,m=p.length;f<m;++f)j=p[f],!Ae(j)&&!ut(j)&&(w=Lb(s,b.data,b.gc,w,j),S+=v);a.push(w),l.push(S),u=Math.max(w,u),d=Math.max(S,d)}W$(i,n);const k=a.indexOf(u),C=l.indexOf(d),N=D=>({width:a[D]||0,height:l[D]||0});return{first:N(0),last:N(n-1),widest:N(k),highest:N(C),widths:a,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return PF(this._alignToPixels?Ls(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=q$(this.getContext(),t,r))}return this.$context||(this.$context=H$(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=kr(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=t.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:l}=s,c=i.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=to(i),m=[],p=l.setContext(this.getContext()),g=p.display?p.width:0,y=g/2,b=function(W){return Ls(r,W,g)};let v,w,S,j,k,C,N,D,T,L,V,F;if(a==="top")v=b(this.bottom),C=this.bottom-f,D=v-y,L=b(t.top)+y,F=t.bottom;else if(a==="bottom")v=b(this.top),L=t.top,F=b(t.bottom)-y,C=v+y,D=this.top+f;else if(a==="left")v=b(this.right),k=this.right-f,N=v-y,T=b(t.left)+y,V=t.right;else if(a==="right")v=b(this.left),T=t.left,V=b(t.right)-y,k=v+y,N=this.left+f;else if(n==="x"){if(a==="center")v=b((t.top+t.bottom)/2+.5);else if(Ee(a)){const W=Object.keys(a)[0],I=a[W];v=b(this.chart.scales[W].getPixelForValue(I))}L=t.top,F=t.bottom,C=v+y,D=C+f}else if(n==="y"){if(a==="center")v=b((t.left+t.right)/2);else if(Ee(a)){const W=Object.keys(a)[0],I=a[W];v=b(this.chart.scales[W].getPixelForValue(I))}k=v-y,N=k-f,T=t.left,V=t.right}const _=Ne(s.ticks.maxTicksLimit,h),z=Math.max(1,Math.ceil(h/_));for(w=0;w<h;w+=z){const W=this.getContext(w),I=i.setContext(W),E=l.setContext(W),P=I.lineWidth,R=I.color,B=E.dash||[],q=E.dashOffset,J=I.tickWidth,ne=I.tickColor,ae=I.tickBorderDash||[],G=I.tickBorderDashOffset;S=U$(this,w,c),S!==void 0&&(j=Ls(r,S,P),u?k=N=T=V=j:C=D=L=F=j,m.push({tx1:k,ty1:C,tx2:N,ty2:D,x1:T,y1:L,x2:V,y2:F,width:P,color:R,borderDash:B,borderDashOffset:q,tickWidth:J,tickColor:ne,tickBorderDash:ae,tickBorderDashOffset:G}))}return this._ticksLength=h,this._borderValue=v,m}_computeLabelItems(t){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=i,f=to(r.grid),m=f+d,p=h?-d:m,g=-kr(this.labelRotation),y=[];let b,v,w,S,j,k,C,N,D,T,L,V,F="middle";if(s==="top")k=this.bottom-p,C=this._getXAxisLabelAlignment();else if(s==="bottom")k=this.top+p,C=this._getXAxisLabelAlignment();else if(s==="left"){const z=this._getYAxisLabelAlignment(f);C=z.textAlign,j=z.x}else if(s==="right"){const z=this._getYAxisLabelAlignment(f);C=z.textAlign,j=z.x}else if(n==="x"){if(s==="center")k=(t.top+t.bottom)/2+m;else if(Ee(s)){const z=Object.keys(s)[0],W=s[z];k=this.chart.scales[z].getPixelForValue(W)+m}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")j=(t.left+t.right)/2-m;else if(Ee(s)){const z=Object.keys(s)[0],W=s[z];j=this.chart.scales[z].getPixelForValue(W)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?F="top":c==="end"&&(F="bottom"));const _=this._getLabelSizes();for(b=0,v=l.length;b<v;++b){w=l[b],S=w.label;const z=i.setContext(this.getContext(b));N=this.getPixelForTick(b)+i.labelOffset,D=this._resolveTickFontOptions(b),T=D.lineHeight,L=ut(S)?S.length:1;const W=L/2,I=z.color,E=z.textStrokeColor,P=z.textStrokeWidth;let R=C;a?(j=N,C==="inner"&&(b===v-1?R=this.options.reverse?"left":"right":b===0?R=this.options.reverse?"right":"left":R="center"),s==="top"?u==="near"||g!==0?V=-L*T+T/2:u==="center"?V=-_.highest.height/2-W*T+T:V=-_.highest.height+T/2:u==="near"||g!==0?V=T/2:u==="center"?V=_.highest.height/2-W*T:V=_.highest.height-L*T,h&&(V*=-1),g!==0&&!z.showLabelBackdrop&&(j+=T/2*Math.sin(g))):(k=N,V=(1-L)*T/2);let B;if(z.showLabelBackdrop){const q=In(z.backdropPadding),J=_.heights[b],ne=_.widths[b];let ae=V-q.top,G=0-q.left;switch(F){case"middle":ae-=J/2;break;case"bottom":ae-=J;break}switch(C){case"center":G-=ne/2;break;case"right":G-=ne;break;case"inner":b===v-1?G-=ne:b>0&&(G-=ne/2);break}B={left:G,top:ae,width:ne+q.width,height:J+q.height,color:z.backdropColor}}y.push({label:S,font:D,textOffset:V,options:{rotation:g,color:I,strokeColor:E,strokeWidth:P,textAlign:R,textBaseline:F,translation:[j,k],backdrop:B}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-kr(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),l=t+i,c=a.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,s,i,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,a;const l=(c,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const c=s[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=Ls(t,this.left,a)-a/2,d=Ls(t,this.right,l)+l/2,h=f=c):(h=Ls(t,this.top,a)-a/2,f=Ls(t,this.bottom,l)+l/2,u=d=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&nh(r,s);const i=this.getLabelItems(t);for(const a of i){const l=a.options,c=a.font,u=a.label,d=a.textOffset;bl(r,u,0,d,c,l)}s&&rh(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=It(r.font),a=In(r.padding),l=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||Ee(n)?(c+=a.bottom,ut(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=Y$(this,c,n,l);bl(t,r.text,0,0,i,{color:r.color,maxWidth:h,rotation:f,textAlign:G$(l,n,s),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=Ne(t.grid&&t.grid.z,-1),s=Ne(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==_a.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];l[r]===this.id&&(!t||l.type===t)&&s.push(l)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return It(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Pc{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;X$(n)&&(r=this.register(n));const s=this.items,i=t.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in s||(s[i]=t,Q$(t,a,r),this.override&&at.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,s=this.scope;r in n&&delete n[r],s&&r in at[s]&&(delete at[s][r],this.override&&delete xi[r])}}function Q$(e,t,n){const r=pl(Object.create(null),[n?at.get(n):{},at.get(t),e.defaults]);at.set(t,r),e.defaultRoutes&&K$(t,e.defaultRoutes),e.descriptors&&at.describe(t,e.descriptors)}function K$(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),s=r.pop(),i=[e].concat(r).join("."),a=t[n].split("."),l=a.pop(),c=a.join(".");at.route(i,s,c,l)})}function X$(e){return"id"in e&&"defaults"in e}class J${constructor(){this.controllers=new Pc(oi,"datasets",!0),this.elements=new Pc(zr,"elements"),this.plugins=new Pc(Object,"plugins"),this.scales=new Pc(_a,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(t,i,s):Oe(s,a=>{const l=r||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,n,r){const s=zx(t);Ve(r["before"+s],[],r),n[t](r),Ve(r["after"+s],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return s}}var nr=new J$;class Z${constructor(){this._init=[]}notify(t,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(i,t,n,r);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,r,s){s=s||{};for(const i of t){const a=i.plugin,l=a[r],c=[n,s,i.options];if(Ve(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,s=Ne(r.options&&r.options.plugins,{}),i=ez(r);return s===!1&&!n?[]:nz(t,i,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,r),t,"stop"),this._notify(s(r,n),t,"start")}}function ez(e){const t={},n=[],r=Object.keys(nr.plugins.items);for(let i=0;i<r.length;i++)n.push(nr.getPlugin(r[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function tz(e,t){return!t&&e===!1?null:e===!0?{}:e}function nz(e,{plugins:t,localIds:n},r,s){const i=[],a=e.getContext();for(const l of t){const c=l.id,u=tz(r[c],s);u!==null&&i.push({plugin:l,options:rz(e.config,{plugin:l,local:n[c]},u,a)})}return i}function rz(e,{plugin:t,local:n},r,s){const i=e.pluginScopeKeys(t),a=e.getOptionScopes(r,i);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mp(e,t){const n=at.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function sz(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function iz(e,t){return e===t?"_index_":"_value_"}function dw(e){if(e==="x"||e==="y"||e==="r")return e}function az(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Op(e,...t){if(dw(e))return e;for(const n of t){const r=n.axis||az(n.position)||e.length>1&&dw(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function hw(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function oz(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return hw(e,"x",n[0])||hw(e,"y",n[0])}return{}}function lz(e,t){const n=xi[e.type]||{scales:{}},r=t.scales||{},s=Mp(e.type,t),i=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!Ee(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Op(a,l,oz(a,e),at.scales[l.type]),u=iz(c,s),d=n.scales||{};i[a]=Fo(Object.create(null),[{axis:c},l,d[c],d[u]])}),e.data.datasets.forEach(a=>{const l=a.type||e.type,c=a.indexAxis||Mp(l,t),d=(xi[l]||{}).scales||{};Object.keys(d).forEach(h=>{const f=sz(h,c),m=a[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),Fo(i[m],[{axis:f},r[m],d[h]])})}),Object.keys(i).forEach(a=>{const l=i[a];Fo(l,[at.scales[l.type],at.scale])}),i}function Pk(e){const t=e.options||(e.options={});t.plugins=Ne(t.plugins,{}),t.scales=lz(e,t)}function _k(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function cz(e){return e=e||{},e.data=_k(e.data),Pk(e),e}const fw=new Map,Ak=new Set;function _c(e,t){let n=fw.get(e);return n||(n=t(),fw.set(e,n),Ak.add(n)),n}const no=(e,t,n)=>{const r=gi(t,n);r!==void 0&&e.add(r)};let uz=class{constructor(t){this._config=cz(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=_k(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Pk(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _c(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return _c(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return _c(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return _c(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let s=r.get(t);return(!s||n)&&(s=new Map,r.set(t,s)),s}getOptionScopes(t,n,r){const{options:s,type:i}=this,a=this._cachedScopes(t,r),l=a.get(n);if(l)return l;const c=new Set;n.forEach(d=>{t&&(c.add(t),d.forEach(h=>no(c,t,h))),d.forEach(h=>no(c,s,h)),d.forEach(h=>no(c,xi[i]||{},h)),d.forEach(h=>no(c,at,h)),d.forEach(h=>no(c,Ap,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),Ak.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,xi[n]||{},at.datasets[n]||{},{type:n},at,Ap]}resolveNamedOptions(t,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=mw(this._resolverCache,t,s);let c=a;if(hz(a,n)){i.$shared=!1,r=Ds(r)?r():r;const u=this.createResolver(t,r,l);c=va(a,r,u)}for(const u of n)i[u]=c[u];return i}createResolver(t,n,r=[""],s){const{resolver:i}=mw(this._resolverCache,t,r);return Ee(n)?va(i,n,void 0,s):i}};function mw(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let i=r.get(s);return i||(i={resolver:qx(t,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const dz=e=>Ee(e)&&Object.getOwnPropertyNames(e).some(t=>Ds(e[t]));function hz(e,t){const{isScriptable:n,isIndexable:r}=dk(e);for(const s of t){const i=n(s),a=r(s),l=(a||i)&&e[s];if(i&&(Ds(l)||dz(l))||a&&ut(l))return!0}return!1}var fz="4.5.0";const mz=["top","bottom","left","right","chartArea"];function pw(e,t){return e==="top"||e==="bottom"||mz.indexOf(e)===-1&&t==="x"}function gw(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function xw(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ve(n&&n.onComplete,[e],t)}function pz(e){const t=e.chart,n=t.options.animation;Ve(n&&n.onProgress,[e],t)}function Ik(e){return Qx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const cu={},yw=e=>{const t=Ik(e);return Object.values(cu).filter(n=>n.canvas===t).pop()};function gz(e,t,n){const r=Object.keys(e);for(const s of r){const i=+s;if(i>=t){const a=e[s];delete e[s],(n>0||i>t)&&(e[i+n]=a)}}}function xz(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}var Gr;let Aa=(Gr=class{static register(...t){nr.add(...t),vw()}static unregister(...t){nr.remove(...t),vw()}constructor(t,n){const r=this.config=new uz(n),s=Ik(t),i=yw(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||O$(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=pF(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Z$,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=MF(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],cu[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}xr.listen(this,"complete",xw),xr.listen(this,"progress",pz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return Ae(t)?n&&i?i:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return nr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Bb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Fb(this.canvas,this.ctx),this}stop(){return xr.stop(this),this}resize(t,n){xr.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Bb(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Ve(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Oe(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const l=n[a],c=Op(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Oe(i,a=>{const l=a.options,c=l.id,u=Op(c,l),d=Ne(l.type,a.dtype);(l.position===void 0||pw(l.position,u)!==pw(a.dposition))&&(l.position=a.dposition),s[c]=!0;let h=null;if(c in r&&r[c].type===d)h=r[c];else{const f=nr.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(l,t)}),Oe(s,(a,l)=>{a||delete r[l]}),Oe(r,a=>{Dn.configure(this,a,a.options),Dn.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(gw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=i.indexAxis||Mp(l,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=nr.getController(l),{datasetElementType:u,dataElementType:d}=at.datasets[l];Object.assign(c,{dataElementType:nr.getElement(d),datasetElementType:u&&nr.getElement(u)}),a.controller=new c(this,r),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Oe(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||Oe(i,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(gw("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Oe(this.scales,t=>{Dn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Eb(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;gz(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(t.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!Eb(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Dn.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Oe(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ds(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xr.has(this)?this.attached&&!xr.running(this)&&xr.start(this):(this.draw(),xw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!t||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=wk(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&nh(n,s),t.controller.draw(),s&&rh(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return vl(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const i=m$.modes[n];return typeof i=="function"?i(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Di(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(t),a=i.controller._resolveAnimations(void 0,s);gl(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),a.update(i,{visible:r}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),xr.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Fb(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete cu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),t[i]=a},s=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};Oe(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),t[c]=u},s=(c,u)=>{t[c]&&(n.removeEventListener(this,c,u),delete t[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Oe(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Oe(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let i,a,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){a=t[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!Xu(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const s=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=i(n,t),l=r?t:i(t,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:i}=this,a=n,l=this._getActiveElements(t,s,r,a),c=wF(t),u=xz(t,this._lastEvent,r,c);r&&(this._lastEvent=null,Ve(i.onHover,[t,l,this],this),c&&Ve(i.onClick,[t,l,this],this));const d=!Xu(l,s);return(d||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=u,d}_getActiveElements(t,n,r,s){if(t.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,s)}},ue(Gr,"defaults",at),ue(Gr,"instances",cu),ue(Gr,"overrides",xi),ue(Gr,"registry",nr),ue(Gr,"version",fz),ue(Gr,"getChart",yw),Gr);function vw(){return Oe(Aa.instances,e=>e._plugins.invalidate())}function yz(e,t,n){const{startAngle:r,x:s,y:i,outerRadius:a,innerRadius:l,options:c}=t,{borderWidth:u,borderJoinStyle:d}=c,h=Math.min(u/a,sn(r-n));if(e.beginPath(),e.arc(s,i,a-u/2,r+h/2,n-h/2),l>0){const f=Math.min(u/l,sn(r-n));e.arc(s,i,l+u/2,n-f/2,r+f/2,!0)}else{const f=Math.min(u/2,a*sn(r-n));if(d==="round")e.arc(s,i,f,n-Re/2,r+Re/2,!0);else if(d==="bevel"){const m=2*f*f,p=-m*Math.cos(n+Re/2)+s,g=-m*Math.sin(n+Re/2)+i,y=m*Math.cos(r+Re/2)+s,b=m*Math.sin(r+Re/2)+i;e.lineTo(p,g),e.lineTo(y,b)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function vz(e,t,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:l,innerRadius:c}=t;let u=s/l;e.beginPath(),e.arc(i,a,l,r-u,n+u),c>s?(u=s/c,e.arc(i,a,c,n+u,r-u,!0)):e.arc(i,a,s,n+xt,r-xt),e.closePath(),e.clip()}function bz(e){return Hx(e,["outerStart","outerEnd","innerStart","innerEnd"])}function wz(e,t,n,r){const s=bz(e.options.borderRadius),i=(n-t)/2,a=Math.min(i,r*t/2),l=c=>{const u=(n-Math.min(i,c))*r/2;return At(c,0,Math.min(i,u))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:At(s.innerStart,0,a),innerEnd:At(s.innerEnd,0,a)}}function _i(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function rd(e,t,n,r,s,i){const{x:a,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=t,h=Math.max(t.outerRadius+r+n-u,0),f=d>0?d+r+n+u:0;let m=0;const p=s-c;if(r){const z=d>0?d-r:0,W=h>0?h-r:0,I=(z+W)/2,E=I!==0?p*I/(I+r):p;m=(p-E)/2}const g=Math.max(.001,p*h-n/Re)/h,y=(p-g)/2,b=c+y+m,v=s-y-m,{outerStart:w,outerEnd:S,innerStart:j,innerEnd:k}=wz(t,f,h,v-b),C=h-w,N=h-S,D=b+w/C,T=v-S/N,L=f+j,V=f+k,F=b+j/L,_=v-k/V;if(e.beginPath(),i){const z=(D+T)/2;if(e.arc(a,l,h,D,z),e.arc(a,l,h,z,T),S>0){const P=_i(N,T,a,l);e.arc(P.x,P.y,S,T,v+xt)}const W=_i(V,v,a,l);if(e.lineTo(W.x,W.y),k>0){const P=_i(V,_,a,l);e.arc(P.x,P.y,k,v+xt,_+Math.PI)}const I=(v-k/f+(b+j/f))/2;if(e.arc(a,l,f,v-k/f,I,!0),e.arc(a,l,f,I,b+j/f,!0),j>0){const P=_i(L,F,a,l);e.arc(P.x,P.y,j,F+Math.PI,b-xt)}const E=_i(C,b,a,l);if(e.lineTo(E.x,E.y),w>0){const P=_i(C,D,a,l);e.arc(P.x,P.y,w,b-xt,D)}}else{e.moveTo(a,l);const z=Math.cos(D)*h+a,W=Math.sin(D)*h+l;e.lineTo(z,W);const I=Math.cos(T)*h+a,E=Math.sin(T)*h+l;e.lineTo(I,E)}e.closePath()}function jz(e,t,n,r,s){const{fullCircles:i,startAngle:a,circumference:l}=t;let c=t.endAngle;if(i){rd(e,t,n,r,c,s);for(let u=0;u<i;++u)e.fill();isNaN(l)||(c=a+(l%Xe||Xe))}return rd(e,t,n,r,c,s),e.fill(),c}function Sz(e,t,n,r,s){const{fullCircles:i,startAngle:a,circumference:l,options:c}=t,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:m}=c,p=c.borderAlign==="inner";if(!u)return;e.setLineDash(h||[]),e.lineDashOffset=f,p?(e.lineWidth=u*2,e.lineJoin=d||"round"):(e.lineWidth=u,e.lineJoin=d||"bevel");let g=t.endAngle;if(i){rd(e,t,n,r,g,s);for(let y=0;y<i;++y)e.stroke();isNaN(l)||(g=a+(l%Xe||Xe))}p&&vz(e,t,g),c.selfJoin&&g-a>=Re&&m===0&&d!=="miter"&&yz(e,t,g),i||(rd(e,t,n,r,g,s),e.stroke())}class jo extends zr{constructor(n){super();ue(this,"circumference");ue(this,"endAngle");ue(this,"fullCircles");ue(this,"innerRadius");ue(this,"outerRadius");ue(this,"pixelMargin");ue(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:a,distance:l}=rk(i,{x:n,y:r}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,p=Ne(f,u-c),g=yl(a,c,u)&&c!==u,y=p>=Xe||g,b=Dr(l,d+m,h+m);return y&&b}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,h=(i+a)/2,f=(l+c+d+u)/2;return{x:r+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,a=(r.spacing||0)/2,l=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>Xe?Math.floor(s/Xe):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(Re,s||0)),d=i*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,jz(n,this,d,a,l),Sz(n,this,d,a,l),n.restore()}}ue(jo,"id","arc"),ue(jo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ue(jo,"defaultRoutes",{backgroundColor:"backgroundColor"}),ue(jo,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Mk(e,t,n=t){e.lineCap=Ne(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Ne(n.borderDash,t.borderDash)),e.lineDashOffset=Ne(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Ne(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ne(n.borderWidth,t.borderWidth),e.strokeStyle=Ne(n.borderColor,t.borderColor)}function Nz(e,t,n){e.lineTo(n.x,n.y)}function Cz(e){return e.stepped?YF:e.tension||e.cubicInterpolationMode==="monotone"?QF:Nz}function Ok(e,t,n={}){const r=e.length,{start:s=0,end:i=r-1}=n,{start:a,end:l}=t,c=Math.max(s,a),u=Math.min(i,l),d=s<a&&i<a||s>l&&i>l;return{count:r,start:c,loop:t.loop,ilen:u<c&&!d?r+u-c:u-c}}function kz(e,t,n,r){const{points:s,options:i}=t,{count:a,start:l,loop:c,ilen:u}=Ok(s,n,r),d=Cz(i);let{move:h=!0,reverse:f}=r||{},m,p,g;for(m=0;m<=u;++m)p=s[(l+(f?u-m:m))%a],!p.skip&&(h?(e.moveTo(p.x,p.y),h=!1):d(e,g,p,f,i.stepped),g=p);return c&&(p=s[(l+(f?u:0))%a],d(e,g,p,f,i.stepped)),!!c}function Dz(e,t,n,r){const s=t.points,{count:i,start:a,ilen:l}=Ok(s,n,r),{move:c=!0,reverse:u}=r||{};let d=0,h=0,f,m,p,g,y,b;const v=S=>(a+(u?l-S:S))%i,w=()=>{g!==y&&(e.lineTo(d,y),e.lineTo(d,g),e.lineTo(d,b))};for(c&&(m=s[v(0)],e.moveTo(m.x,m.y)),f=0;f<=l;++f){if(m=s[v(f)],m.skip)continue;const S=m.x,j=m.y,k=S|0;k===p?(j<g?g=j:j>y&&(y=j),d=(h*d+S)/++h):(w(),e.lineTo(S,j),p=k,h=0,g=y=j),b=j}w()}function Rp(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?Dz:kz}function Ez(e){return e.stepped?D6:e.tension||e.cubicInterpolationMode==="monotone"?E6:Gs}function Tz(e,t,n,r){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,r)&&s.closePath()),Mk(e,t.options),e.stroke(s)}function Pz(e,t,n,r){const{segments:s,options:i}=t,a=Rp(t);for(const l of s)Mk(e,i,l.style),e.beginPath(),a(e,t,l,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const _z=typeof Path2D=="function";function Az(e,t,n,r){_z&&!t.options.segment?Tz(e,t,n,r):Pz(e,t,n,r)}class as extends zr{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;v6(this._points,r,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=M6(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,s=t[n],i=this.points,a=bk(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],c=Ez(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:h,end:f}=a[u],m=i[h],p=i[f];if(m===p){l.push(m);continue}const g=Math.abs((s-m[n])/(p[n]-m[n])),y=c(m,p,g,r.stepped);y[n]=t[n],l.push(y)}return l.length===1?l[0]:l}pathSegment(t,n,r){return Rp(this)(t,this,n,r)}path(t,n,r){const s=this.segments,i=Rp(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)a&=i(t,this,l,{start:n,end:n+r-1});return!!a}draw(t,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),Az(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ue(as,"id","line"),ue(as,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ue(as,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ue(as,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function bw(e,t,n,r){const s=e.options,{[n]:i}=e.getProps([n],r);return Math.abs(t-i)<s.radius+s.hitRadius}class uu extends zr{constructor(n){super();ue(this,"parsed");ue(this,"skip");ue(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(r-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return bw(this,n,"x",r)}inYRange(n,r){return bw(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!vl(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Ip(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ue(uu,"id","point"),ue(uu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ue(uu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Rk(e,t){const{x:n,y:r,base:s,width:i,height:a}=e.getProps(["x","y","base","width","height"],t);let l,c,u,d,h;return e.horizontal?(h=a/2,l=Math.min(n,s),c=Math.max(n,s),u=r-h,d=r+h):(h=i/2,l=n-h,c=n+h,u=Math.min(r,s),d=Math.max(r,s)),{left:l,top:u,right:c,bottom:d}}function os(e,t,n,r){return e?0:At(t,n,r)}function Iz(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,i=uk(r);return{t:os(s.top,i.top,0,n),r:os(s.right,i.right,0,t),b:os(s.bottom,i.bottom,0,n),l:os(s.left,i.left,0,t)}}function Mz(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=sa(s),a=Math.min(t,n),l=e.borderSkipped,c=r||Ee(s);return{topLeft:os(!c||l.top||l.left,i.topLeft,0,a),topRight:os(!c||l.top||l.right,i.topRight,0,a),bottomLeft:os(!c||l.bottom||l.left,i.bottomLeft,0,a),bottomRight:os(!c||l.bottom||l.right,i.bottomRight,0,a)}}function Oz(e){const t=Rk(e),n=t.right-t.left,r=t.bottom-t.top,s=Iz(e,n/2,r/2),i=Mz(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Df(e,t,n,r){const s=t===null,i=n===null,l=e&&!(s&&i)&&Rk(e,r);return l&&(s||Dr(t,l.left,l.right))&&(i||Dr(n,l.top,l.bottom))}function Rz(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Lz(e,t){e.rect(t.x,t.y,t.w,t.h)}function Ef(e,t,n={}){const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+i,h:e.h+a,radius:e.radius}}class du extends zr{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:a}=Oz(this),l=Rz(a.radius)?ed:Lz;t.save(),(a.w!==i.w||a.h!==i.h)&&(t.beginPath(),l(t,Ef(a,n,i)),t.clip(),l(t,Ef(i,-n,a)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),l(t,Ef(i,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,r){return Df(this,t,n,r)}inXRange(t,n){return Df(this,t,null,n)}inYRange(t,n){return Df(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ue(du,"id","bar"),ue(du,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ue(du,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Fz(e,t,n){const r=e.segments,s=e.points,i=t.points,a=[];for(const l of r){let{start:c,end:u}=l;u=ah(c,u,s);const d=Lp(n,s[c],s[u],l.loop);if(!t.segments){a.push({source:l,target:d,start:s[c],end:s[u]});continue}const h=bk(t,d);for(const f of h){const m=Lp(n,i[f.start],i[f.end],f.loop),p=vk(l,s,m);for(const g of p)a.push({source:g,target:f,start:{[n]:ww(d,m,"start",Math.max)},end:{[n]:ww(d,m,"end",Math.min)}})}}return a}function Lp(e,t,n,r){if(r)return;let s=t[e],i=n[e];return e==="angle"&&(s=sn(s),i=sn(i)),{property:e,start:s,end:i}}function $z(e,t){const{x:n=null,y:r=null}=e||{},s=t.points,i=[];return t.segments.forEach(({start:a,end:l})=>{l=ah(a,l,s);const c=s[a],u=s[l];r!==null?(i.push({x:c.x,y:r}),i.push({x:u.x,y:r})):n!==null&&(i.push({x:n,y:c.y}),i.push({x:n,y:u.y}))}),i}function ah(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function ww(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Lk(e,t){let n=[],r=!1;return ut(e)?(r=!0,n=e):n=$z(e,t),n.length?new as({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function jw(e){return e&&e.fill!==!1}function zz(e,t,n){let s=e[t].fill;const i=[t];let a;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!Rt(s))return s;if(a=e[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function Bz(e,t,n){const r=Hz(e);if(Ee(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return Rt(s)&&Math.floor(s)===s?Vz(r[0],t,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Vz(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function Uz(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Ee(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function Wz(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:Ee(e)?r=e.value:r=t.getBaseValue(),r}function Hz(e){const t=e.options,n=t.fill;let r=Ne(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function qz(e){const{scale:t,index:n,line:r}=e,s=[],i=r.segments,a=r.points,l=Gz(t,n);l.push(Lk({x:null,y:t.bottom},r));for(let c=0;c<i.length;c++){const u=i[c];for(let d=u.start;d<=u.end;d++)Yz(s,a[d],l)}return new as({points:s,options:{}})}function Gz(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===t)break;i.hidden||n.unshift(i.dataset)}return n}function Yz(e,t,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:a,last:l,point:c}=Qz(i,t,"x");if(!(!c||a&&l)){if(a)r.unshift(c);else if(e.push(c),!l)break}}e.push(...r)}function Qz(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const s=r[n],i=e.segments,a=e.points;let l=!1,c=!1;for(let u=0;u<i.length;u++){const d=i[u],h=a[d.start][n],f=a[d.end][n];if(Dr(s,h,f)){l=s===h,c=s===f;break}}return{first:l,last:c,point:r}}class Fk{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:s,y:i,radius:a}=this;return n=n||{start:0,end:Xe},t.arc(s,i,a,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:s}=this,i=t.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function Kz(e){const{chart:t,fill:n,line:r}=e;if(Rt(n))return Xz(t,n);if(n==="stack")return qz(e);if(n==="shape")return!0;const s=Jz(e);return s instanceof Fk?s:Lk(s,r)}function Xz(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function Jz(e){return(e.scale||{}).getPointPositionForValue?eB(e):Zz(e)}function Zz(e){const{scale:t={},fill:n}=e,r=Uz(n,t);if(Rt(r)){const s=t.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function eB(e){const{scale:t,fill:n}=e,r=t.options,s=t.getLabels().length,i=r.reverse?t.max:t.min,a=Wz(n,t,i),l=[];if(r.grid.circular){const c=t.getPointPositionForValue(0,i);return new Fk({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(a)})}for(let c=0;c<s;++c)l.push(t.getPointPositionForValue(c,a));return l}function Tf(e,t,n){const r=Kz(t),{chart:s,index:i,line:a,scale:l,axis:c}=t,u=a.options,d=u.fill,h=u.backgroundColor,{above:f=h,below:m=h}=d||{},p=s.getDatasetMeta(i),g=wk(s,p);r&&a.points.length&&(nh(e,n),tB(e,{line:a,target:r,above:f,below:m,area:n,scale:l,axis:c,clip:g}),rh(e))}function tB(e,t){const{line:n,target:r,above:s,below:i,area:a,scale:l,clip:c}=t,u=n._loop?"angle":t.axis;e.save();let d=i;i!==s&&(u==="x"?(Sw(e,r,a.top),Pf(e,{line:n,target:r,color:s,scale:l,property:u,clip:c}),e.restore(),e.save(),Sw(e,r,a.bottom)):u==="y"&&(Nw(e,r,a.left),Pf(e,{line:n,target:r,color:i,scale:l,property:u,clip:c}),e.restore(),e.save(),Nw(e,r,a.right),d=s)),Pf(e,{line:n,target:r,color:d,scale:l,property:u,clip:c}),e.restore()}function Sw(e,t,n){const{segments:r,points:s}=t;let i=!0,a=!1;e.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],h=s[ah(c,u,s)];i?(e.moveTo(d.x,d.y),i=!1):(e.lineTo(d.x,n),e.lineTo(d.x,d.y)),a=!!t.pathSegment(e,l,{move:a}),a?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Nw(e,t,n){const{segments:r,points:s}=t;let i=!0,a=!1;e.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],h=s[ah(c,u,s)];i?(e.moveTo(d.x,d.y),i=!1):(e.lineTo(n,d.y),e.lineTo(d.x,d.y)),a=!!t.pathSegment(e,l,{move:a}),a?e.closePath():e.lineTo(n,h.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Pf(e,t){const{line:n,target:r,property:s,color:i,scale:a,clip:l}=t,c=Fz(n,r,s);for(const{source:u,target:d,start:h,end:f}of c){const{style:{backgroundColor:m=i}={}}=u,p=r!==!0;e.save(),e.fillStyle=m,nB(e,a,l,p&&Lp(s,h,f)),e.beginPath();const g=!!n.pathSegment(e,u);let y;if(p){g?e.closePath():Cw(e,r,f,s);const b=!!r.pathSegment(e,d,{move:g,reverse:!0});y=g&&b,y||Cw(e,r,h,s)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function nB(e,t,n,r){const s=t.chart.chartArea,{property:i,start:a,end:l}=r||{};if(i==="x"||i==="y"){let c,u,d,h;i==="x"?(c=a,u=s.top,d=l,h=s.bottom):(c=s.left,u=a,d=s.right,h=l),e.beginPath(),n&&(c=Math.max(c,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),h=Math.min(h,n.bottom)),e.rect(c,u,d-c,h-u),e.clip()}}function Cw(e,t,n,r){const s=t.interpolate(n,r);s&&e.lineTo(s.x,s.y)}var Jx={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,s=[];let i,a,l,c;for(a=0;a<r;++a)i=e.getDatasetMeta(a),l=i.dataset,c=null,l&&l.options&&l instanceof as&&(c={visible:e.isDatasetVisible(a),index:a,fill:Bz(l,a,r),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,s.push(c);for(a=0;a<r;++a)c=s[a],!(!c||c.fill===!1)&&(c.fill=zz(s,a,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&(l.line.updateControlPoints(i,l.axis),r&&l.fill&&Tf(e.ctx,l,i))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;jw(i)&&Tf(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!jw(r)||n.drawTime!=="beforeDatasetDraw"||Tf(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const kw=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},rB=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Dw extends zr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ve(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,s)=>t.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,s=It(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=kw(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,l,c)+10):(d=this.maxHeight,u=this._fitCols(a,s,l,c)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+l;let h=t;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-d;return this.legendItems.forEach((p,g)=>{const y=r+n/2+i.measureText(p.text).width;(g===0||u[u.length-1]+y+2*l>a)&&(h+=d,u[u.length-(g>0?0:1)]=0,m+=d,f++),c[g]={left:0,top:m,row:f,width:y,height:s},u[u.length-1]+=y+l}),h}_fitCols(t,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-t;let h=l,f=0,m=0,p=0,g=0;return this.legendItems.forEach((y,b)=>{const{itemWidth:v,itemHeight:w}=sB(r,n,i,y,s);b>0&&m+w+2*l>d&&(h+=f+l,u.push({width:f,height:m}),p+=f+l,g++,f=m=0),c[b]={left:p,top:m,col:g,width:v,height:w},f=Math.max(f,v),m+=w+l}),h+=f,u.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=ia(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Pt(r,this.left+s,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,c=Pt(r,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+t+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let l=0,c=Pt(r,this.top+t+s,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,c=Pt(r,this.top+t+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;nh(t,this),this._draw(),rh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=t,l=at.color,c=ia(t.rtl,this.left,this.width),u=It(a.font),{padding:d}=a,h=u.size,f=h/2;let m;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:p,boxHeight:g,itemHeight:y}=kw(a,h),b=function(k,C,N){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();const D=Ne(N.lineWidth,1);if(s.fillStyle=Ne(N.fillStyle,l),s.lineCap=Ne(N.lineCap,"butt"),s.lineDashOffset=Ne(N.lineDashOffset,0),s.lineJoin=Ne(N.lineJoin,"miter"),s.lineWidth=D,s.strokeStyle=Ne(N.strokeStyle,l),s.setLineDash(Ne(N.lineDash,[])),a.usePointStyle){const T={radius:g*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:D},L=c.xPlus(k,p/2),V=C+f;ck(s,T,L,V,a.pointStyleWidth&&p)}else{const T=C+Math.max((h-g)/2,0),L=c.leftForLtr(k,p),V=sa(N.borderRadius);s.beginPath(),Object.values(V).some(F=>F!==0)?ed(s,{x:L,y:T,w:p,h:g,radius:V}):s.rect(L,T,p,g),s.fill(),D!==0&&s.stroke()}s.restore()},v=function(k,C,N){bl(s,N.text,k,C+y/2,u,{strikethrough:N.hidden,textAlign:c.textAlign(N.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?m={x:Pt(i,this.left+d,this.right-r[0]),y:this.top+d+S,line:0}:m={x:this.left+d,y:Pt(i,this.top+S+d,this.bottom-n[0].height),line:0},gk(this.ctx,t.textDirection);const j=y+d;this.legendItems.forEach((k,C)=>{s.strokeStyle=k.fontColor,s.fillStyle=k.fontColor;const N=s.measureText(k.text).width,D=c.textAlign(k.textAlign||(k.textAlign=a.textAlign)),T=p+f+N;let L=m.x,V=m.y;c.setWidth(this.width),w?C>0&&L+T+d>this.right&&(V=m.y+=j,m.line++,L=m.x=Pt(i,this.left+d,this.right-r[m.line])):C>0&&V+j>this.bottom&&(L=m.x=L+n[m.line].width+d,m.line++,V=m.y=Pt(i,this.top+S+d,this.bottom-n[m.line].height));const F=c.x(L);if(b(F,V,k),L=OF(D,L+p+f,w?L+T:this.right,t.rtl),v(c.x(L),V,k),w)m.x+=T+d;else if(typeof k.text!="string"){const _=u.lineHeight;m.y+=$k(k,_)+d}else m.y+=j}),xk(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=It(n.font),s=In(n.padding);if(!n.display)return;const i=ia(t.rtl,this.left,this.width),a=this.ctx,l=n.position,c=r.size/2,u=s.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=Pt(t.align,h,this.right-f);else{const p=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);d=u+Pt(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const m=Pt(l,h,h+f);a.textAlign=i.textAlign(Vx(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,bl(a,n.text,m,d,r)}_computeTitleHeight(){const t=this.options.title,n=It(t.font),r=In(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,s,i;if(Dr(t,this.left,this.right)&&Dr(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Dr(t,s.left,s.left+s.width)&&Dr(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!oB(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,i=rB(s,r);s&&!i&&Ve(n.onLeave,[t,s,this],this),this._hoveredItem=r,r&&!i&&Ve(n.onHover,[t,r,this],this)}else r&&Ve(n.onClick,[t,r,this],this)}}function sB(e,t,n,r,s){const i=iB(r,e,t,n),a=aB(s,r,t.lineHeight);return{itemWidth:i,itemHeight:a}}function iB(e,t,n,r){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),t+n.size/2+r.measureText(s).width}function aB(e,t,n){let r=e;return typeof t.text!="string"&&(r=$k(t,n)),r}function $k(e,t){const n=e.text?e.text.length:0;return t*n}function oB(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Zx={id:"legend",_element:Dw,start(e,t,n){const r=e.legend=new Dw({ctx:e.ctx,options:n,chart:e});Dn.configure(e,r,n),Dn.addBox(e,r)},stop(e){Dn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Dn.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=In(u.borderWidth);return{text:t[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class zk extends zr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=ut(r.text)?r.text.length:1;this._padding=In(r.padding);const i=s*It(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:s,right:i,options:a}=this,l=a.align;let c=0,u,d,h;return this.isHorizontal()?(d=Pt(l,r,i),h=n+t,u=i-r):(a.position==="left"?(d=r+t,h=Pt(l,s,n),c=Re*-.5):(d=i-t,h=Pt(l,n,s),c=Re*.5),u=s-n),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=It(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);bl(t,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:u,textAlign:Vx(n.align),textBaseline:"middle",translation:[a,l]})}}function lB(e,t){const n=new zk({ctx:e.ctx,options:t,chart:e});Dn.configure(e,n,t),Dn.addBox(e,n),e.titleBlock=n}var Bk={id:"title",_element:zk,start(e,t,n){lB(e,n)},stop(e){const t=e.titleBlock;Dn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Dn.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const So={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,i=0;for(t=0,n=e.length;t<n;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,s=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=e.length;i<a;++i){const c=e[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=_p(t,u);d<s&&(s=d,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function er(e,t){return t&&(ut(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function yr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function cB(e,t){const{element:n,datasetIndex:r,index:s}=t,i=e.getDatasetMeta(r).controller,{label:a,value:l}=i.getLabelAndValue(s);return{chart:e,label:a,parsed:i.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Ew(e,t){const n=e.chart.ctx,{body:r,footer:s,title:i}=e,{boxWidth:a,boxHeight:l}=t,c=It(t.bodyFont),u=It(t.titleFont),d=It(t.footerFont),h=i.length,f=s.length,m=r.length,p=In(t.padding);let g=p.height,y=0,b=r.reduce((S,j)=>S+j.before.length+j.lines.length+j.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b){const S=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;g+=m*S+(b-m)*c.lineHeight+(b-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let v=0;const w=function(S){y=Math.max(y,n.measureText(S).width+v)};return n.save(),n.font=u.string,Oe(e.title,w),n.font=c.string,Oe(e.beforeBody.concat(e.afterBody),w),v=t.displayColors?a+2+t.boxPadding:0,Oe(r,S=>{Oe(S.before,w),Oe(S.lines,w),Oe(S.after,w)}),v=0,n.font=d.string,Oe(e.footer,w),n.restore(),y+=p.width,{width:y,height:g}}function uB(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function dB(e,t,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(e==="left"&&s+i+a>t.width||e==="right"&&s-i-a<0)return!0}function hB(e,t,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:l,right:c}}=e;let u="center";return r==="center"?u=s<=(l+c)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),dB(u,e,t,n)&&(u="center"),u}function Tw(e,t,n){const r=n.yAlign||t.yAlign||uB(e,n);return{xAlign:n.xAlign||t.xAlign||hB(e,t,n,r),yAlign:r}}function fB(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function mB(e,t,n){let{y:r,height:s}=e;return t==="top"?r+=n:t==="bottom"?r-=s+n:r-=s/2,r}function Pw(e,t,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=e,{xAlign:l,yAlign:c}=n,u=s+i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=sa(a);let p=fB(t,l);const g=mB(t,c,u);return c==="center"?l==="left"?p+=u:l==="right"&&(p-=u):l==="left"?p-=Math.max(d,f)+s:l==="right"&&(p+=Math.max(h,m)+s),{x:At(p,0,r.width-t.width),y:At(g,0,r.height-t.height)}}function Ac(e,t,n){const r=In(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function _w(e){return er([],yr(e))}function pB(e,t,n){return Di(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Aw(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Vk={beforeTitle:pr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:pr,beforeBody:pr,beforeLabel:pr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Ae(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:pr,afterBody:pr,beforeFooter:pr,footer:pr,afterFooter:pr};function Yt(e,t,n,r){const s=e[t].call(n,r);return typeof s>"u"?Vk[t].call(n,r):s}class Fp extends zr{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new jk(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=pB(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=Yt(r,"beforeTitle",this,t),i=Yt(r,"title",this,t),a=Yt(r,"afterTitle",this,t);let l=[];return l=er(l,yr(s)),l=er(l,yr(i)),l=er(l,yr(a)),l}getBeforeBody(t,n){return _w(Yt(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return Oe(t,i=>{const a={before:[],lines:[],after:[]},l=Aw(r,i);er(a.before,yr(Yt(l,"beforeLabel",this,i))),er(a.lines,Yt(l,"label",this,i)),er(a.after,yr(Yt(l,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(t,n){return _w(Yt(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=Yt(r,"beforeFooter",this,t),i=Yt(r,"footer",this,t),a=Yt(r,"afterFooter",this,t);let l=[];return l=er(l,yr(s)),l=er(l,yr(i)),l=er(l,yr(a)),l}_createItems(t){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(cB(this.chart,n[c]));return t.filter&&(l=l.filter((d,h,f)=>t.filter(d,h,f,r))),t.itemSort&&(l=l.sort((d,h)=>t.itemSort(d,h,r))),Oe(l,d=>{const h=Aw(t.callbacks,d);s.push(Yt(h,"labelColor",this,d)),i.push(Yt(h,"labelPointStyle",this,d)),a.push(Yt(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=So[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=Ew(this,r),u=Object.assign({},l,c),d=Tw(this.chart,r,u),h=Pw(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const i=this.getCaretPosition(t,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=sa(l),{x:f,y:m}=t,{width:p,height:g}=n;let y,b,v,w,S,j;return i==="center"?(S=m+g/2,s==="left"?(y=f,b=y-a,w=S+a,j=S-a):(y=f+p,b=y+a,w=S-a,j=S+a),v=y):(s==="left"?b=f+Math.max(c,d)+a:s==="right"?b=f+p-Math.max(u,h)-a:b=this.caretX,i==="top"?(w=m,S=w-a,y=b-a,v=b+a):(w=m+g,S=w+a,y=b+a,v=b-a),j=w),{x1:y,x2:b,x3:v,y1:w,y2:S,y3:j}}drawTitle(t,n,r){const s=this.title,i=s.length;let a,l,c;if(i){const u=ia(r.rtl,this.x,this.width);for(t.x=Ac(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=It(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(s[c],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,c+1===i&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,n,r,s,i){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=i,d=It(i.bodyFont),h=Ac(this,"left",i),f=s.x(h),m=c<d.lineHeight?(d.lineHeight-c)/2:0,p=n.y+m;if(i.usePointStyle){const g={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=s.leftForLtr(f,u)+u/2,b=p+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Ip(t,g,y,b),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Ip(t,g,y,b)}else{t.lineWidth=Ee(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const g=s.leftForLtr(f,u),y=s.leftForLtr(s.xPlus(f,1),u-2),b=sa(a.borderRadius);Object.values(b).some(v=>v!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,ed(t,{x:g,y:p,w:u,h:c,radius:b}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),ed(t,{x:y,y:p+1,w:u-2,h:c-2,radius:b}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(g,p,u,c),t.strokeRect(g,p,u,c),t.fillStyle=a.backgroundColor,t.fillRect(y,p+1,u-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,h=It(r.bodyFont);let f=h.lineHeight,m=0;const p=ia(r.rtl,this.x,this.width),g=function(N){n.fillText(N,p.x(t.x+m),t.y+f/2),t.y+=f+i},y=p.textAlign(a);let b,v,w,S,j,k,C;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,t.x=Ac(this,y,r),n.fillStyle=r.bodyColor,Oe(this.beforeBody,g),m=l&&y!=="right"?a==="center"?u/2+d:u+2+d:0,S=0,k=s.length;S<k;++S){for(b=s[S],v=this.labelTextColors[S],n.fillStyle=v,Oe(b.before,g),w=b.lines,l&&w.length&&(this._drawColorBox(n,t,S,p,r),f=Math.max(h.lineHeight,c)),j=0,C=w.length;j<C;++j)g(w[j]),f=h.lineHeight;Oe(b.after,g)}m=0,f=h.lineHeight,Oe(this.afterBody,g),t.y-=i}drawFooter(t,n,r){const s=this.footer,i=s.length;let a,l;if(i){const c=ia(r.rtl,this.x,this.width);for(t.x=Ac(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=It(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=t,{width:u,height:d}=r,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:p}=sa(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+h,c),a==="top"&&this.drawCaret(t,n,r,s),n.lineTo(l+u-f,c),n.quadraticCurveTo(l+u,c,l+u,c+f),a==="center"&&i==="right"&&this.drawCaret(t,n,r,s),n.lineTo(l+u,c+d-p),n.quadraticCurveTo(l+u,c+d,l+u-p,c+d),a==="bottom"&&this.drawCaret(t,n,r,s),n.lineTo(l+m,c+d),n.quadraticCurveTo(l,c+d,l,c+d-m),a==="center"&&i==="left"&&this.drawCaret(t,n,r,s),n.lineTo(l,c+h),n.quadraticCurveTo(l,c,l+h,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=So[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Ew(this,t),c=Object.assign({},a,this._size),u=Tw(n,t,c),d=Pw(t,c,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=In(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,s,n),gk(t,n.textDirection),i.y+=a.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),xk(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!Xu(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(t,i,n,r),l=this._positionChanged(a,t),c=n||!Xu(a,i)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,r,s){const i=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:r,caretY:s,options:i}=this,a=So[i.position].call(this,t,n);return a!==!1&&(r!==a.x||s!==a.y)}}ue(Fp,"positioners",So);var ey={id:"tooltip",_element:Fp,positioners:So,afterInit(e,t,n){n&&(e.tooltip=new Fp({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Vk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const gB=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function xB(e,t,n,r){const s=e.indexOf(t);if(s===-1)return gB(e,t,n,r);const i=e.lastIndexOf(t);return s!==i?n:s}const yB=(e,t)=>e===null?null:At(Math.round(e),0,t);function Iw(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class sd extends _a{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Ae(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:xB(r,t,Ne(n,t),this._addedLabels),yB(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=t;a<=n;a++)s.push({value:a});return s}getLabelForValue(t){return Iw.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ue(sd,"id","category"),ue(sd,"defaults",{ticks:{callback:Iw}});function vB(e,t){const n=[],{bounds:s,step:i,min:a,max:l,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=e,m=i||1,p=d-1,{min:g,max:y}=t,b=!Ae(a),v=!Ae(l),w=!Ae(u),S=(y-g)/(h+1);let j=Pb((y-g)/p/m)*m,k,C,N,D;if(j<1e-14&&!b&&!v)return[{value:g},{value:y}];D=Math.ceil(y/j)-Math.floor(g/j),D>p&&(j=Pb(D*j/p/m)*m),Ae(c)||(k=Math.pow(10,c),j=Math.ceil(j*k)/k),s==="ticks"?(C=Math.floor(g/j)*j,N=Math.ceil(y/j)*j):(C=g,N=y),b&&v&&i&&kF((l-a)/i,j/1e3)?(D=Math.round(Math.min((l-a)/j,d)),j=(l-a)/D,C=a,N=l):w?(C=b?a:C,N=v?l:N,D=u-1,j=(N-C)/D):(D=(N-C)/j,$o(D,Math.round(D),j/1e3)?D=Math.round(D):D=Math.ceil(D));const T=Math.max(_b(j),_b(C));k=Math.pow(10,Ae(c)?T:c),C=Math.round(C*k)/k,N=Math.round(N*k)/k;let L=0;for(b&&(f&&C!==a?(n.push({value:a}),C<a&&L++,$o(Math.round((C+L*j)*k)/k,a,Mw(a,S,e))&&L++):C<a&&L++);L<D;++L){const V=Math.round((C+L*j)*k)/k;if(v&&V>l)break;n.push({value:V})}return v&&f&&N!==l?n.length&&$o(n[n.length-1].value,l,Mw(l,S,e))?n[n.length-1].value=l:n.push({value:l}):(!v||N===l)&&n.push({value:N}),n}function Mw(e,t,{horizontal:n,minRotation:r}){const s=kr(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/i,a)}class bB extends _a{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Ae(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=n?s:c,l=c=>i=r?i:c;if(t){const c=cr(s),u=cr(i);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),t||a(s-c)}this.min=s,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=vB(s,i);return t.bounds==="ticks"&&DF(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const s=(r-n)/Math.max(t.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Wx(t,this.chart.options.locale,this.options.ticks.format)}}class id extends bB{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Rt(t)?t:0,this.max=Rt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=kr(this.options.ticks.minRotation),s=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ue(id,"id","linear"),ue(id,"defaults",{ticks:{callback:lk.formatters.numeric}});const oh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kt=Object.keys(oh);function Ow(e,t){return e-t}function Rw(e,t){if(Ae(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:i}=e._parseOpts;let a=t;return typeof r=="function"&&(a=r(a)),Rt(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(xl(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function Lw(e,t,n,r){const s=Kt.length;for(let i=Kt.indexOf(e);i<s-1;++i){const a=oh[Kt[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(l*a.size))<=r)return Kt[i]}return Kt[s-1]}function wB(e,t,n,r,s){for(let i=Kt.length-1;i>=Kt.indexOf(n);i--){const a=Kt[i];if(oh[a].common&&e._adapter.diff(s,r,a)>=t-1)return a}return Kt[n?Kt.indexOf(n):0]}function jB(e){for(let t=Kt.indexOf(e)+1,n=Kt.length;t<n;++t)if(oh[Kt[t]].common)return Kt[t]}function Fw(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:s}=Bx(n,t),i=n[r]>=t?n[r]:n[s];e[i]=!0}}function SB(e,t,n,r){const s=e._adapter,i=+s.startOf(t[0].value,r),a=t[t.length-1].value;let l,c;for(l=i;l<=a;l=+s.add(l,1,r))c=n[l],c>=0&&(t[c].major=!0);return t}function $w(e,t,n){const r=[],s={},i=t.length;let a,l;for(a=0;a<i;++a)l=t[a],s[l]=a,r.push({value:l,major:!1});return i===0||!n?r:SB(e,r,s,n)}class ad extends _a{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new c$._date(t.adapters.date);s.init(n),Fo(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Rw(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Rt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Rt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,l=AF(s,i,a);return this._unit=n.unit||(r.autoSkip?Lw(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):wB(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:jB(this._unit),this.initOffsets(s),t.reverse&&l.reverse(),$w(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,s,i;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=At(n,0,a),r=At(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||Lw(i.minUnit,n,r,this._getLabelCapacity(n)),l=Ne(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=xl(c)||c===!0,d={};let h=n,f,m;if(u&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,u?"day":a),t.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<r;f=+t.add(f,l,a),m++)Fw(d,f,p);return(f===r||s.bounds==="ticks"||m===1)&&Fw(d,f,p),Object.keys(d).sort(Ow).map(g=>+g)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(t,a)}_tickFormatFunction(t,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return Ve(a,[t,n,r],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=r[n],m=u&&h&&f&&f.major;return this._adapter.format(t,s||(m?h:d))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=kr(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*a,h:r*a+l*i}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(t,0,$w(this,[t],this._majorUnit),s),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(Rw(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ik(t.sort(Ow))}}ue(ad,"id","time"),ue(ad,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ic(e,t,n){let r=0,s=e.length-1,i,a,l,c;n?(t>=e[r].pos&&t<=e[s].pos&&({lo:r,hi:s}=ti(e,"pos",t)),{pos:i,time:l}=e[r],{pos:a,time:c}=e[s]):(t>=e[r].time&&t<=e[s].time&&({lo:r,hi:s}=ti(e,"time",t)),{time:i,pos:l}=e[r],{time:a,pos:c}=e[s]);const u=a-i;return u?l+(c-l)*(t-i)/u:l}class zw extends ad{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Ic(n,this.min),this._tableRange=Ic(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,s=[],i=[];let a,l,c,u,d;for(a=0,l=t.length;a<l;++a)u=t[a],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=s.length;a<l;++a)d=s[a+1],c=s[a-1],u=s[a],Math.round((d+c)/2)!==u&&i.push({time:u,pos:a/(l-1)});return i}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Ic(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Ic(this._table,r*this._tableRange+this._minPos,!0)}}ue(zw,"id","timeseries"),ue(zw,"defaults",ad.defaults);const Uk="label";function Bw(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function NB(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Wk(e,t){e.labels=t}function Hk(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uk;const r=[];e.datasets=t.map(s=>{const i=e.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function CB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uk;const n={labels:[],datasets:[]};return Wk(n,e.labels),Hk(n,e.datasets,t),n}function kB(e,t){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=e,m=x.useRef(null),p=x.useRef(null),g=()=>{m.current&&(p.current=new Aa(m.current,{type:a,data:CB(l,i),options:c&&{...c},plugins:u}),Bw(t,p.current))},y=()=>{Bw(t,null),p.current&&(p.current.destroy(),p.current=null)};return x.useEffect(()=>{!s&&p.current&&c&&NB(p.current,c)},[s,c]),x.useEffect(()=>{!s&&p.current&&Wk(p.current.config.data,l.labels)},[s,l.labels]),x.useEffect(()=>{!s&&p.current&&l.datasets&&Hk(p.current.config.data,l.datasets,i)},[s,l.datasets]),x.useEffect(()=>{p.current&&(s?(y(),setTimeout(g)):p.current.update(h))},[s,c,l.labels,l.datasets,h]),x.useEffect(()=>{p.current&&(y(),setTimeout(g))},[a]),x.useEffect(()=>(g(),()=>y()),[]),re.createElement("canvas",{ref:m,role:"img",height:n,width:r,...f},d)}const DB=x.forwardRef(kB);function ty(e,t){return Aa.register(t),x.forwardRef((n,r)=>re.createElement(DB,{...n,ref:r,type:e}))}const EB=ty("line",ou),TB=ty("bar",au),PB=ty("doughnut",bo);Aa.register(sd,id,du,Bk,ey,Zx,Jx);function qk({data:e,options:t,height:n=300}){const s={...{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxWidth:10,usePointStyle:!0}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:11}}},x:{grid:{display:!1},ticks:{font:{size:11}}}}},...t};return o.jsx("div",{style:{height:`${n}px`,width:"100%"},children:o.jsx(TB,{data:e,options:s})})}Aa.register(sd,id,uu,as,Bk,ey,Zx,Jx);function _B({data:e,options:t,height:n=300}){const s={...{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxWidth:10,usePointStyle:!0}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:11}}},x:{grid:{display:!1},ticks:{font:{size:11}}}},elements:{line:{tension:.3},point:{radius:3,hoverRadius:5}}},...t};return o.jsx("div",{style:{height:`${n}px`,width:"100%"},children:o.jsx(EB,{data:e,options:s})})}Aa.register(jo,ey,Zx,Jx);function AB({data:e,options:t,height:n=250}){const s={...{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:12,padding:15,font:{size:12}}},tooltip:{callbacks:{label:function(i){const a=i.label||"",l=i.raw,c=i.chart.data.datasets[0].data.reduce((d,h)=>d+h,0),u=Math.round(l/c*100);return`${a}: ${l} (${u}%)`}}}},cutout:"60%"},...t};return o.jsx("div",{style:{height:`${n}px`,width:"100%"},children:o.jsx(PB,{data:e,options:s})})}const IB=x.memo(_B),MB=x.memo(qk),OB=x.memo(AB);function _f(){const{user:e,isAuthenticated:t}=Ge(),[n,r]=x.useState([]),[s,i]=x.useState([]),[a,l]=x.useState(0),[c,u]=x.useState(0),[d,h]=x.useState(!0),[f,m]=x.useState([]),[p,g]=x.useState([]),[y,b]=x.useState(null);x.useEffect(()=>{(async()=>{if(!t||!e){console.log(" Skipping data fetch - user not authenticated"),h(!1);return}try{console.log(" AdminDashboard: Starting data fetch..."),b(null);const[N,D,T,L,V]=await Promise.all([zl().catch(P=>(console.error("Leads error:",P),[])),eh().catch(P=>(console.error("Jobs error:",P),[])),Rx().catch(P=>(console.error("Equipment error:",P),[])),Bl().catch(P=>(console.error("Operators error:",P),[])),th().catch(P=>(console.error("Deals error:",P),[]))]),F=P=>Array.isArray(P)?P:P&&typeof P=="object"&&P.data&&Array.isArray(P.data)||P&&typeof P=="object"&&P.success&&Array.isArray(P.data)?P.data:[],_=F(N),z=F(D),W=F(T),I=F(L),E=F(V);r(_),i(z),l(W.length),u(I.length),m(W),g(E)}catch(N){console.error(" Error fetching dashboard data:",N),b(`Failed to load dashboard data: ${(N==null?void 0:N.message)||N}`)}finally{h(!1)}})()},[t,e]);const v=x.useMemo(()=>{try{if(Array.isArray(p)&&p.length>0)return p.filter(C=>C&&C.stage==="won").reduce((C,N)=>C+(N.value||0),0)}catch(C){console.error("Error calculating revenue:",C)}return 0},[p]),w=x.useMemo(()=>Array.isArray(s)?s.filter(C=>C.status==="in_progress"||C.status==="scheduled").length/(a||1)*100:0,[s,a]),S=x.useMemo(()=>({labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Monthly Revenue",data:[15e4,2e5,18e4,22e4,25e4,v>0?v:3e5],backgroundColor:"rgba(56, 81, 159, 0.1)",borderColor:"#38519F",pointBackgroundColor:"#FFCC3F",pointBorderColor:"#38519F",pointHoverBackgroundColor:"#38519F",pointHoverBorderColor:"#FFCC3F",borderWidth:3,tension:.4,fill:!0}]}),[v]),j=x.useMemo(()=>({labels:["Available","In Use","Maintenance"],datasets:[{data:[Array.isArray(f)?f.filter(C=>C.status==="available").length:0,Array.isArray(f)?f.filter(C=>C.status==="in_use").length:0,Array.isArray(f)?f.filter(C=>C.status==="maintenance").length:0],backgroundColor:["#22C55E","#38519F","#FFCC3F"],borderColor:["#16A34A","#38519F","#FFCC3F"],borderWidth:2,hoverBorderWidth:4}]}),[f]),k=x.useMemo(()=>({labels:["Scheduled","In Progress","Completed","Cancelled"],datasets:[{label:"Jobs by Status",data:[Array.isArray(s)?s.filter(C=>C.status==="scheduled").length:0,Array.isArray(s)?s.filter(C=>C.status==="in_progress").length:0,Array.isArray(s)?s.filter(C=>C.status==="completed").length:0,Array.isArray(s)?s.filter(C=>C.status==="cancelled").length:0],backgroundColor:["rgba(56, 81, 159, 0.8)","rgba(34, 197, 94, 0.8)","rgba(64, 64, 64, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["#38519F","#22C55E","#404040","#EF4444"],borderWidth:2,borderRadius:8}]}),[s]);return d?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20 p-6",children:o.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"h-20 w-20 border-4 border-brand-blue/20 border-t-brand-blue rounded-full animate-spin"}),o.jsx("div",{className:"absolute inset-0 h-20 w-20 border-4 border-transparent border-t-brand-gold rounded-full animate-spin animate-reverse",style:{animationDelay:"0.2s",animationDuration:"1.5s"}})]}),o.jsxs("div",{className:"mt-6 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-brand-blue",children:"Loading Dashboard"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Fetching your data..."})]})]})}):y?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20 p-6",children:o.jsx("div",{className:"flex justify-center py-20",children:o.jsx(le,{variant:"bordered",className:"max-w-md bg-red-50 border-red-200",children:o.jsxs(pe,{className:"text-center p-8",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(PI,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Dashboard"}),o.jsx("p",{className:"text-red-600 mb-6",children:y}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Retry"})]})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:o.jsxs("div",{className:"p-6 space-y-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-brand-blue to-brand-blue/80 bg-clip-text text-transparent",children:["Welcome back, ",(e==null?void 0:e.name)||"Admin"]}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Here's what's happening with your business today."})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Last updated"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})})]})}),o.jsxs("section",{className:"grid gap-6 auto-fit-grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))"},role:"region","aria-label":"Key Performance Indicators",children:[o.jsx(Vt,{title:"Total Revenue",value:Ue(v),icon:o.jsx(ir,{className:"h-5 w-5"}),variant:"primary",trend:{value:12.5,isPositive:!0},loading:d}),o.jsx(Vt,{title:"Equipment Fleet",value:a,subtitle:"Active units",icon:o.jsx(Ht,{className:"h-5 w-5"}),variant:"success",trend:{value:8.2,isPositive:!0},loading:d}),o.jsx(Vt,{title:"Active Jobs",value:s.length,subtitle:"In progress",icon:o.jsx(YA,{className:"h-5 w-5"}),variant:"warning",trend:{value:3.1,isPositive:!1},loading:d}),o.jsx(Vt,{title:"Operators",value:c,subtitle:"Available staff",icon:o.jsx(tn,{className:"h-5 w-5"}),variant:"accent",trend:{value:5.7,isPositive:!0},loading:d})]}),o.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",role:"region","aria-label":"Analytics Charts",children:[o.jsxs(le,{variant:"glass",className:"col-span-1",children:[o.jsx(ye,{className:"flex flex-row items-center space-y-0 pb-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:o.jsx(NI,{className:"h-4 w-4 text-green-600"})}),o.jsx(ve,{className:"text-lg",children:"Equipment Status"})]})}),o.jsx(pe,{children:o.jsx("div",{className:"h-64",children:o.jsx(OB,{data:j,height:240})})})]}),o.jsxs(le,{variant:"glass",className:"col-span-1",children:[o.jsx(ye,{className:"flex flex-row items-center space-y-0 pb-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(hp,{className:"h-4 w-4 text-blue-600"})}),o.jsx(ve,{className:"text-lg",children:"Monthly Revenue"})]})}),o.jsx(pe,{children:o.jsx("div",{className:"h-64",children:o.jsx(IB,{data:S,height:240})})})]}),o.jsxs(le,{variant:"glass",className:"col-span-1",children:[o.jsx(ye,{className:"flex flex-row items-center space-y-0 pb-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:o.jsx(LN,{className:"h-4 w-4 text-purple-600"})}),o.jsx(ve,{className:"text-lg",children:"Jobs by Status"})]})}),o.jsx(pe,{children:o.jsx("div",{className:"h-64",children:o.jsx(MB,{data:k,height:240})})})]})]}),o.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx(q5,{className:"h-full"})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{variant:"gradient",className:"h-fit",children:[o.jsx(ye,{className:"flex flex-row items-center space-y-0 pb-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"p-2 bg-brand-blue/10 rounded-lg",children:o.jsx(Ht,{className:"h-4 w-4 text-brand-blue"})}),o.jsx(ve,{className:"text-lg",children:"Equipment Summary"})]})}),o.jsx(pe,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Available Equipment:"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:Array.isArray(f)?f.filter(C=>C.status==="available").length:0})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"In Use:"}),o.jsx("span",{className:"text-sm font-semibold text-blue-600",children:Array.isArray(f)?f.filter(C=>C.status==="in_use").length:0})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Under Maintenance:"}),o.jsx("span",{className:"text-sm font-semibold text-orange-600",children:Array.isArray(f)?f.filter(C=>C.status==="maintenance").length:0})]}),o.jsx("div",{className:"pt-3 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Utilization Rate:"}),o.jsxs("span",{className:"text-sm font-semibold text-brand-blue",children:[a>0?Math.round(w):0,"%"]})]})})]})})]}),o.jsxs(le,{variant:"gradient",className:"h-fit",children:[o.jsx(ye,{className:"flex flex-row items-center space-y-0 pb-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"p-2 bg-brand-gold/10 rounded-lg",children:o.jsx(hp,{className:"h-4 w-4 text-brand-gold"})}),o.jsx(ve,{className:"text-lg",children:"Business Overview"})]})}),o.jsx(pe,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Total Leads:"}),o.jsx("span",{className:"text-sm font-semibold text-blue-600",children:n.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Active Deals:"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:Array.isArray(p)?p.length:0})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Won Deals:"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:Array.isArray(p)?p.filter(C=>C.stage==="won").length:0})]}),o.jsx("div",{className:"pt-3 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Conversion Rate:"}),o.jsxs("span",{className:"text-sm font-semibold text-brand-blue",children:[n.length>0?Math.round((Array.isArray(p)?p.length:0)/n.length*100):0,"%"]})]})})]})})]})]})]})]})})}const ny="-",RB=e=>{const t=FB(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(ny);return l[0]===""&&l.length!==1&&l.shift(),Gk(l,t)||LB(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},Gk=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Gk(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(ny);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},Vw=/^\[(.+)\]$/,LB=e=>{if(Vw.test(e)){const t=Vw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},FB=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)$p(n[s],r,s,t);return r},$p=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Uw(t,s);i.classGroupId=n;return}if(typeof s=="function"){if($B(s)){$p(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{$p(a,Uw(t,i),n,r)})})},Uw=(e,t)=>{let n=e;return t.split(ny).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$B=e=>e.isThemeGetter,zB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},zp="!",Bp=":",BB=Bp.length,VB=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let a=0,l=0,c=0,u;for(let p=0;p<s.length;p++){let g=s[p];if(a===0&&l===0){if(g===Bp){i.push(s.slice(c,p)),c=p+BB;continue}if(g==="/"){u=p;continue}}g==="["?a++:g==="]"?a--:g==="("?l++:g===")"&&l--}const d=i.length===0?s:s.substring(c),h=UB(d),f=h!==d,m=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(t){const s=t+Bp,i=r;r=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},UB=e=>e.endsWith(zp)?e.substring(0,e.length-1):e.startsWith(zp)?e.substring(1):e,WB=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(a=>{a[0]==="["||t[a]?(s.push(...i.sort(),a),i=[]):i.push(a)}),s.push(...i.sort()),s}},HB=e=>({cache:zB(e.cacheSize),parseClassName:VB(e),sortModifiers:WB(e),...RB(e)}),qB=/\s+/,GB=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,a=[],l=e.trim().split(qB);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}=n(d);if(h){c=d+(c.length>0?" "+c:c);continue}let y=!!g,b=r(y?p.substring(0,g):p);if(!b){if(!y){c=d+(c.length>0?" "+c:c);continue}if(b=r(p),!b){c=d+(c.length>0?" "+c:c);continue}y=!1}const v=i(f).join(":"),w=m?v+zp:v,S=w+b;if(a.includes(S))continue;a.push(S);const j=s(b,y);for(let k=0;k<j.length;++k){const C=j[k];a.push(w+C)}c=d+(c.length>0?" "+c:c)}return c};function YB(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Yk(t))&&(r&&(r+=" "),r+=n);return r}const Yk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Yk(e[r]))&&(n&&(n+=" "),n+=t);return n};function QB(e,...t){let n,r,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return n=HB(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=GB(c,n);return s(c,d),d}return function(){return i(YB.apply(null,arguments))}}const mt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Qk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Kk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,KB=/^\d+\/\d+$/,XB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,eV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ai=e=>KB.test(e),Ce=e=>!!e&&!Number.isNaN(Number(e)),Wr=e=>!!e&&Number.isInteger(Number(e)),Af=e=>e.endsWith("%")&&Ce(e.slice(0,-1)),gr=e=>XB.test(e),nV=()=>!0,rV=e=>JB.test(e)&&!ZB.test(e),Xk=()=>!1,sV=e=>eV.test(e),iV=e=>tV.test(e),aV=e=>!de(e)&&!he(e),oV=e=>Ia(e,eD,Xk),de=e=>Qk.test(e),$s=e=>Ia(e,tD,rV),If=e=>Ia(e,hV,Ce),Ww=e=>Ia(e,Jk,Xk),lV=e=>Ia(e,Zk,iV),Mc=e=>Ia(e,nD,sV),he=e=>Kk.test(e),ro=e=>Ma(e,tD),cV=e=>Ma(e,fV),Hw=e=>Ma(e,Jk),uV=e=>Ma(e,eD),dV=e=>Ma(e,Zk),Oc=e=>Ma(e,nD,!0),Ia=(e,t,n)=>{const r=Qk.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Ma=(e,t,n=!1)=>{const r=Kk.exec(e);return r?r[1]?t(r[1]):n:!1},Jk=e=>e==="position"||e==="percentage",Zk=e=>e==="image"||e==="url",eD=e=>e==="length"||e==="size"||e==="bg-size",tD=e=>e==="length",hV=e=>e==="number",fV=e=>e==="family-name",nD=e=>e==="shadow",mV=()=>{const e=mt("color"),t=mt("font"),n=mt("text"),r=mt("font-weight"),s=mt("tracking"),i=mt("leading"),a=mt("breakpoint"),l=mt("container"),c=mt("spacing"),u=mt("radius"),d=mt("shadow"),h=mt("inset-shadow"),f=mt("text-shadow"),m=mt("drop-shadow"),p=mt("blur"),g=mt("perspective"),y=mt("aspect"),b=mt("ease"),v=mt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...S(),he,de],k=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],N=()=>[he,de,c],D=()=>[Ai,"full","auto",...N()],T=()=>[Wr,"none","subgrid",he,de],L=()=>["auto",{span:["full",Wr,he,de]},Wr,he,de],V=()=>[Wr,"auto",he,de],F=()=>["auto","min","max","fr",he,de],_=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...N()],I=()=>[Ai,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],E=()=>[e,he,de],P=()=>[...S(),Hw,Ww,{position:[he,de]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",uV,oV,{size:[he,de]}],q=()=>[Af,ro,$s],J=()=>["","none","full",u,he,de],ne=()=>["",Ce,ro,$s],ae=()=>["solid","dashed","dotted","double"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>[Ce,Af,Hw,Ww],H=()=>["","none",p,he,de],K=()=>["none",Ce,he,de],fe=()=>["none",Ce,he,de],A=()=>[Ce,he,de],$=()=>[Ai,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[gr],breakpoint:[gr],color:[nV],container:[gr],"drop-shadow":[gr],ease:["in","out","in-out"],font:[aV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[gr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[gr],shadow:[gr],spacing:["px",Ce],text:[gr],"text-shadow":[gr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ai,de,he,y]}],container:["container"],columns:[{columns:[Ce,de,he,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Wr,"auto",he,de]}],basis:[{basis:[Ai,"full","auto",l,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ce,Ai,"auto","initial","none",de]}],grow:[{grow:["",Ce,he,de]}],shrink:[{shrink:["",Ce,he,de]}],order:[{order:[Wr,"first","last","none",he,de]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[..._(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",..._()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":_()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[l,"screen",...I()]}],"min-w":[{"min-w":[l,"screen","none",...I()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",n,ro,$s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,he,If]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Af,de]}],"font-family":[{font:[cV,de,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,he,de]}],"line-clamp":[{"line-clamp":[Ce,"none",he,If]}],leading:[{leading:[i,...N()]}],"list-image":[{"list-image":["none",he,de]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",he,de]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ce,"from-font","auto",he,$s]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[Ce,"auto",he,de]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he,de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he,de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:P()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wr,he,de],radial:["",he,de],conic:[Wr,he,de]},dV,lV]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ce,he,de]}],"outline-w":[{outline:["",Ce,ro,$s]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",d,Oc,Mc]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",h,Oc,Mc]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[Ce,$s]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",f,Oc,Mc]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[Ce,he,de]}],"mix-blend":[{"mix-blend":[...G(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":G()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ce]}],"mask-image-linear-from-pos":[{"mask-linear-from":O()}],"mask-image-linear-to-pos":[{"mask-linear-to":O()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":O()}],"mask-image-t-to-pos":[{"mask-t-to":O()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":O()}],"mask-image-r-to-pos":[{"mask-r-to":O()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":O()}],"mask-image-b-to-pos":[{"mask-b-to":O()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":O()}],"mask-image-l-to-pos":[{"mask-l-to":O()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":O()}],"mask-image-x-to-pos":[{"mask-x-to":O()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":O()}],"mask-image-y-to-pos":[{"mask-y-to":O()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[he,de]}],"mask-image-radial-from-pos":[{"mask-radial-from":O()}],"mask-image-radial-to-pos":[{"mask-radial-to":O()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Ce]}],"mask-image-conic-from-pos":[{"mask-conic-from":O()}],"mask-image-conic-to-pos":[{"mask-conic-to":O()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:P()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",he,de]}],filter:[{filter:["","none",he,de]}],blur:[{blur:H()}],brightness:[{brightness:[Ce,he,de]}],contrast:[{contrast:[Ce,he,de]}],"drop-shadow":[{"drop-shadow":["","none",m,Oc,Mc]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",Ce,he,de]}],"hue-rotate":[{"hue-rotate":[Ce,he,de]}],invert:[{invert:["",Ce,he,de]}],saturate:[{saturate:[Ce,he,de]}],sepia:[{sepia:["",Ce,he,de]}],"backdrop-filter":[{"backdrop-filter":["","none",he,de]}],"backdrop-blur":[{"backdrop-blur":H()}],"backdrop-brightness":[{"backdrop-brightness":[Ce,he,de]}],"backdrop-contrast":[{"backdrop-contrast":[Ce,he,de]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ce,he,de]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ce,he,de]}],"backdrop-invert":[{"backdrop-invert":["",Ce,he,de]}],"backdrop-opacity":[{"backdrop-opacity":[Ce,he,de]}],"backdrop-saturate":[{"backdrop-saturate":[Ce,he,de]}],"backdrop-sepia":[{"backdrop-sepia":["",Ce,he,de]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",he,de]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ce,"initial",he,de]}],ease:[{ease:["linear","initial",b,he,de]}],delay:[{delay:[Ce,he,de]}],animate:[{animate:["none",v,he,de]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,he,de]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:A()}],"skew-x":[{"skew-x":A()}],"skew-y":[{"skew-y":A()}],transform:[{transform:[he,de,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$()}],"translate-x":[{"translate-x":$()}],"translate-y":[{"translate-y":$()}],"translate-z":[{"translate-z":$()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he,de]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he,de]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[Ce,ro,$s,If]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},pV=QB(mV);function gV(...e){return pV(H2(e))}function Ul({status:e,className:t}){const n=r=>{switch(r){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-yellow-100 text-yellow-800";case"qualified":return"bg-purple-100 text-purple-800";case"lost":return"bg-red-100 text-red-800";case"converted":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"draft":return"bg-gray-100 text-gray-800";case"sent":return"bg-blue-100 text-blue-800";case"accepted":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o.jsx("span",{className:gV("inline-flex items-center px-2 sm:px-2.5 py-0.5 rounded-full text-[10px] sm:text-xs font-medium whitespace-nowrap",n(e),t),children:(e||"").replace("_"," ")})}async function xV(e,t){const r=await fetch(`http://103.224.243.242:3001/api/quotations/${e}`,{method:"PATCH",headers:{...Fe(),"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"});if(!r.ok)throw new Error("Failed to update quotation");return r.json()}async function rD(e){const n=await fetch(`http://103.224.243.242:3001/api/quotations/${e}`,{method:"GET",headers:Fe(),credentials:"include"});if(!n.ok)throw new Error("Failed to fetch quotation by ID");return n.json()}async function yV(e){const n=await fetch("http://103.224.243.242:3001/api/quotations",{method:"POST",headers:{...Fe(),"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!n.ok)throw new Error("Failed to create quotation");return n.json()}async function vV(){const t=await fetch("http://103.224.243.242:3001/api/quotations",{method:"GET",headers:Fe(),credentials:"include"});if(!t.ok)throw new Error("Failed to fetch quotations");const n=await t.json();return Array.isArray(n)?n:n&&Array.isArray(n.data)?n.data:[]}async function od(e){const n=await fetch(`http://103.224.243.242:3001/api/quotations?leadId=${encodeURIComponent(e)}`,{method:"GET",headers:Fe(),credentials:"include"});if(!n.ok)throw new Error("Failed to fetch quotations");return await n.json()}const bV=Pa("w-full mb-1 flex items-center justify-center rounded-md transition-all",{variants:{position:{first:"rounded-t-lg",middle:"",last:"rounded-b-lg"}},defaultVariants:{position:"middle"}});function wV({stages:e,height:t=250}){const n=Math.max(...e.map(s=>s.value)),r=e.reduce((s,i)=>s+i.value,0);return o.jsx("div",{className:"w-full flex flex-col items-center",style:{height:`${t}px`},children:e.map((s,i)=>{const a=n===0?40:Math.max(40,Math.min(100,s.value/n*100)),l=r===0?0:Math.round(s.value/r*100),c=i===0?"first":i===e.length-1?"last":"middle";return o.jsxs("div",{className:"w-full flex flex-col items-center",style:{width:`${a}%`},children:[o.jsx("div",{className:bV({position:c}),style:{backgroundColor:s.color||"#6366F1",height:`${Math.max(25,60/e.length)}px`},children:o.jsx("span",{className:"text-white text-xs font-medium",children:s.value})}),o.jsxs("div",{className:"mt-1 mb-3 text-xs text-gray-600 text-center flex flex-col items-center",children:[o.jsx("span",{className:"font-medium text-gray-800",children:s.label}),o.jsxs("span",{children:[l,"%"]})]})]},s.label)})})}function jV(){const[e,t]=x.useState([]),[n,r]=x.useState([]),[s,i]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const g=await zl(),b=(w=>Array.isArray(w)?w:w&&typeof w=="object"&&w.data&&Array.isArray(w.data)||w&&typeof w=="object"&&w.success&&Array.isArray(w.data)?w.data:[])(g);t(b);const v=b.filter(w=>w.status==="converted");if(v.length>0){const w=v[0],S=await od(w.id);r(S)}}catch(g){console.error("Error fetching dashboard data:",g),t([]),r([])}finally{i(!1)}})()},[]);const a=Array.isArray(e)?e.filter(p=>p.status==="new").length:0,l=Array.isArray(e)?e.filter(p=>p.status==="in_process").length:0,c=Array.isArray(e)?e.filter(p=>p.status==="qualified").length:0,u=Array.isArray(e)?e.filter(p=>p.status==="converted").length:0,d=Array.isArray(n)?n.reduce((p,g)=>p+g.totalRent,0):0,h=Array.isArray(e)?[...e].sort((p,g)=>new Date(g.createdAt).getTime()-new Date(p.createdAt).getTime()).slice(0,5):[],f=[{label:"New",value:a,color:"#93C5FD"},{label:"In Process",value:l,color:"#60A5FA"},{label:"Qualified",value:c,color:"#3B82F6"},{label:"Converted",value:u,color:"#2563EB"}],m={labels:["Mon","Tue","Wed","Thu","Fri"],datasets:[{label:"New Leads",data:[4,6,2,8,5],backgroundColor:"rgba(99, 102, 241, 0.6)"}]};return s?o.jsx("div",{className:"flex justify-center py-10",children:"Loading dashboard..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Vt,{title:"New Leads",value:a,icon:o.jsx(ev,{className:"h-5 w-5 text-primary-600"}),variant:"primary"}),o.jsx(Vt,{title:"In Process",value:l,icon:o.jsx(tn,{className:"h-5 w-5 text-secondary-600"}),variant:"secondary"}),o.jsx(Vt,{title:"Qualified Leads",value:c,icon:o.jsx(ev,{className:"h-5 w-5 text-success-600"}),variant:"success"}),o.jsx(Vt,{title:"Quotation Value",value:Ue(d),icon:o.jsx(ir,{className:"h-5 w-5 text-accent-600"}),variant:"accent"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Lead Conversion Funnel"})}),o.jsx(pe,{className:"flex justify-center",children:o.jsx(wV,{stages:f,height:250})})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Weekly Lead Generation"})}),o.jsx(pe,{children:o.jsx(qk,{data:m,height:250})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(le,{children:[o.jsx(ye,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(ve,{children:"Recent Leads"}),o.jsx(rr,{to:"/leads",className:"text-sm font-medium text-primary-600 hover:text-primary-800",children:"View All Leads"})]})}),o.jsx(pe,{children:h.length===0?o.jsx("p",{className:"text-gray-500 text-center py-4",children:"No leads found"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(p=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"font-medium text-gray-900",children:p.customerName})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-500",children:p.serviceNeeded})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(Ul,{status:p.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.createdAt).toLocaleDateString()})]},p.id))})]})})})]})}),o.jsx("div",{children:o.jsxs(le,{className:"h-full",children:[o.jsx(ye,{children:o.jsx(ve,{children:"Upcoming Tasks"})}),o.jsx(pe,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 border border-blue-100 rounded-md",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:o.jsx(zN,{className:"h-5 w-5 text-primary-500"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Prepare Quotation"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"BuildRight Inc. requires updated pricing by tomorrow"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 border border-green-100 rounded-md",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:o.jsx(nI,{className:"h-5 w-5 text-green-500"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Client Meeting"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Harbor Construction - 2:30 PM Tomorrow"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-amber-50 border border-amber-100 rounded-md",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:o.jsx(LN,{className:"h-5 w-5 text-amber-500"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Monthly Report"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Submit sales summary by end of week"})]})]})]})})]})})]})]})}const SV=Pa("inline-flex items-center justify-center font-medium transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none relative overflow-hidden",{variants:{variant:{default:"bg-gradient-to-r from-brand-blue to-brand-blue/90 text-white shadow-lg hover:shadow-xl hover:shadow-brand-blue/25 hover:scale-[1.02] focus:ring-brand-blue/30 active:scale-[0.98]",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg hover:shadow-xl hover:shadow-red-500/25 hover:scale-[1.02] focus:ring-red-500/30 active:scale-[0.98]",outline:"border-2 border-brand-blue text-brand-blue bg-transparent hover:bg-brand-blue hover:text-white hover:scale-[1.02] focus:ring-brand-blue/30 active:scale-[0.98]",secondary:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-900 shadow-sm hover:shadow-md hover:from-gray-200 hover:to-gray-300 hover:scale-[1.02] focus:ring-gray-400/30 active:scale-[0.98]",ghost:"text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:ring-gray-400/30 hover:scale-[1.02] active:scale-[0.98]",link:"text-brand-blue underline-offset-4 hover:underline hover:text-brand-blue/80 focus:ring-brand-blue/30",success:"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg hover:shadow-xl hover:shadow-green-500/25 hover:scale-[1.02] focus:ring-green-500/30 active:scale-[0.98]",warning:"bg-gradient-to-r from-amber-500 to-amber-600 text-white shadow-lg hover:shadow-xl hover:shadow-amber-500/25 hover:scale-[1.02] focus:ring-amber-500/30 active:scale-[0.98]",gradient:"bg-gradient-to-r from-brand-blue via-purple-600 to-brand-blue text-white shadow-lg hover:shadow-xl hover:shadow-purple-500/25 hover:scale-[1.02] focus:ring-purple-500/30 active:scale-[0.98]",accent:"bg-gradient-to-r from-brand-gold via-brand-gold to-brand-gold/95 text-brand-dark shadow-xl hover:shadow-2xl hover:shadow-brand-gold/40 hover:scale-[1.05] hover:from-brand-gold/90 hover:to-brand-gold hover:brightness-110 focus:ring-brand-gold/50 active:scale-[0.98] font-semibold transform"},size:{xs:"h-7 px-2 text-xs rounded-md",sm:"h-8 px-3 text-xs rounded-lg",default:"h-10 px-4 py-2 text-sm rounded-lg",lg:"h-12 px-6 text-base rounded-xl",xl:"h-14 px-8 text-lg rounded-xl",icon:"h-10 w-10 rounded-lg","icon-xs":"h-7 w-7 rounded-md","icon-sm":"h-8 w-8 rounded-lg","icon-lg":"h-12 w-12 rounded-xl"}},defaultVariants:{variant:"default",size:"default"}}),U=x.memo(re.forwardRef(({className:e="",variant:t,size:n,leftIcon:r,rightIcon:s,isLoading:i=!1,loadingText:a,fullWidth:l=!1,disabled:c,children:u,asChild:d=!1,...h},f)=>{const m=SV({variant:t,size:n}),p=l?"w-full":"",g=c||i,y=o.jsxs(o.Fragment,{children:[(t==="default"||t==="gradient")&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full hover:translate-x-full transition-transform duration-1000 ease-in-out"}),i?o.jsxs(o.Fragment,{children:[o.jsx(pI,{className:"w-4 h-4 animate-spin mr-2"}),a||"Loading..."]}):o.jsxs(o.Fragment,{children:[r&&o.jsx("span",{className:"mr-2 flex-shrink-0",children:r}),u,s&&o.jsx("span",{className:"ml-2 flex-shrink-0",children:s})]})]});return d?o.jsx("span",{className:`${m} ${p} ${e}`,children:y}):o.jsx("button",{className:`${m} ${p} ${e}`,ref:f,disabled:g,"aria-busy":i,...h,children:y})}));U.displayName="Button";const NV=x.memo(re.forwardRef(({icon:e,className:t="",size:n="icon",...r},s)=>o.jsx(U,{ref:s,size:n,className:t,...r,children:e})));NV.displayName="IconButton";const CV=x.memo(({children:e,className:t="",orientation:n="horizontal",size:r="default"})=>{const s=n==="horizontal"?"flex-row":"flex-col",i={sm:"space-x-2 space-y-0",default:"space-x-3 space-y-0",lg:"space-x-4 space-y-0"}[r];return o.jsx("div",{className:`flex ${s} ${i} ${t}`,role:"group",children:e})});CV.displayName="ButtonGroup";function kV(){const[e,t]=x.useState([]),[n,r]=x.useState([]),[s,i]=x.useState(0),[a,l]=x.useState(0),[c,u]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const[f,m,p,g]=await Promise.all([zl(),eh(),Rx(),Bl()]);t(f),r(m),i(p.length),l(g.length)}catch(f){console.error("Error fetching dashboard data:",f)}finally{u(!1)}})()},[]);const d=n.filter(h=>h.status==="scheduled").length;return c?o.jsx("div",{className:"flex justify-center py-10",children:"Loading dashboard..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Vt,{title:"Scheduled Jobs",value:d,icon:o.jsx(Gn,{className:"h-5 w-5 text-secondary-600"}),variant:"secondary"}),o.jsx(Vt,{title:"Equipment",value:s,icon:o.jsx(Ht,{className:"h-5 w-5 text-accent-600"}),variant:"accent"}),o.jsx(Vt,{title:"Operators",value:a,icon:o.jsx(tn,{className:"h-5 w-5 text-success-600"}),variant:"success"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(le,{children:[o.jsx(ye,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(ve,{children:"Recent Won Leads"}),o.jsx(rr,{to:"/jobs",children:o.jsx(U,{variant:"outline",size:"sm",children:"Schedule Jobs"})})]})}),o.jsx(pe,{children:e.length===0?o.jsx("p",{className:"text-gray-500 text-center py-4",children:"No leads to schedule"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.slice(0,5).map(h=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"font-medium text-gray-900",children:h.customerName})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-500",children:h.serviceNeeded})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-500",children:h.siteLocation})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(U,{size:"sm",children:"Schedule"})})]},h.id))})]})})})]})}),o.jsx("div",{children:o.jsxs(le,{className:"h-full",children:[o.jsx(ye,{children:o.jsx(ve,{children:"Quick Actions"})}),o.jsx(pe,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(rr,{to:"/config/equipment",children:o.jsx(U,{variant:"outline",size:"sm",fullWidth:!0,leftIcon:o.jsx(Ht,{size:16}),children:"Manage Equipment"})}),o.jsx(rr,{to:"/config/operators",children:o.jsx(U,{variant:"outline",size:"sm",fullWidth:!0,leftIcon:o.jsx(tn,{size:16}),children:"Manage Operators"})}),o.jsx(rr,{to:"/jobs",children:o.jsx(U,{variant:"outline",size:"sm",fullWidth:!0,leftIcon:o.jsx(Gn,{size:16}),children:"View Job Calendar"})}),o.jsx(rr,{to:"/feedback",children:o.jsx(U,{variant:"outline",size:"sm",fullWidth:!0,leftIcon:o.jsx(ys,{size:16}),children:"Review Completed Jobs"})}),o.jsx(rr,{to:"/config",children:o.jsx(U,{variant:"outline",size:"sm",fullWidth:!0,leftIcon:o.jsx($N,{size:16}),children:"System Configuration"})}),o.jsx(rr,{to:"/config/maintenance",children:o.jsx(U,{variant:"outline",size:"sm",fullWidth:!0,leftIcon:o.jsx(dx,{size:16}),children:"Schedule Maintenance"})})]})})]})})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Recent Job Activity"})}),o.jsx(pe,{children:n.length===0?o.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent job activity"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(h=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"font-medium text-gray-900",children:h.customerName})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-500",children:h.location})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-500",children:new Date(h.scheduledStartDate).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(Ul,{status:h.status==="scheduled"?"pending":h.status})})]},h.id))})]})})})]})]})}const DV=Pa("pointer-events-auto relative w-full max-w-md overflow-hidden rounded-lg p-3 sm:p-4 shadow-xl border backdrop-blur-sm shadow-lg",{variants:{variant:{default:"bg-white/95 text-gray-900 border-gray-200",success:"bg-success-50/95 text-success-900 border-success-300",error:"bg-error-50/95 text-error-900 border-error-300",warning:"bg-warning-50/95 text-warning-900 border-warning-300",info:"bg-primary-50/95 text-primary-900 border-primary-300"}},defaultVariants:{variant:"default"}});function ft({className:e,variant:t,title:n,description:r,onClose:s,duration:i=5e3,isVisible:a=!0,...l}){const[c,u]=x.useState(a);x.useEffect(()=>{u(a)},[a]),x.useEffect(()=>{if(c&&i!==1/0){const f=setTimeout(()=>{u(!1),s==null||s()},i);return()=>clearTimeout(f)}},[c,i,s]);const d=()=>{u(!1),s==null||s()},h=()=>{switch(t){case"success":return o.jsx(ys,{className:"h-5 w-5 text-success-500"});case"error":return o.jsx(Ol,{className:"h-5 w-5 text-error-500"});case"warning":return o.jsx(ji,{className:"h-5 w-5 text-warning-500"});case"info":return o.jsx(Bu,{className:"h-5 w-5 text-primary-500"});default:return null}};return o.jsx(Mx,{children:c&&o.jsx(es.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{duration:.3,type:"spring",stiffness:300,damping:25},className:"fixed bottom-6 sm:bottom-10 left-4 right-4 sm:left-auto sm:right-8 z-[9999] flex items-center justify-center pointer-events-none",children:o.jsx("div",{className:`pointer-events-auto ${DV({variant:t,className:e})}`,...l,children:o.jsxs("div",{className:"flex items-start",children:[t&&o.jsx("div",{className:"flex-shrink-0",children:h()}),o.jsxs("div",{className:`${t?"ml-2 sm:ml-3":""} flex-1 pt-0.5`,children:[o.jsx("p",{className:"text-sm font-medium",children:n}),r&&o.jsx("p",{className:"mt-0.5 text-xs sm:text-sm text-gray-600 line-clamp-3",children:r})]}),o.jsx("div",{className:"ml-2 sm:ml-4 flex flex-shrink-0",children:o.jsxs("button",{type:"button",className:"inline-flex rounded-md bg-transparent text-gray-400 hover:text-gray-500 focus:outline-none p-0.5",onClick:d,children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(Ni,{className:"h-4 w-4 sm:h-5 sm:w-5"})]})})]})})})})}function EV(){const{user:e}=Ge(),[t,n]=x.useState([]),[r,s]=x.useState({}),[i,a]=x.useState(!0),[l,c]=x.useState({show:!1,title:""});x.useEffect(()=>{(async()=>{if(e)try{const g=await C2(e.id);n(g);const y={};for(const b of g)if(!y[b.equipmentId]){const v=await k2(b.equipmentId);v&&(y[b.equipmentId]=v)}s(y)}catch(g){console.error("Error fetching operator data:",g)}finally{a(!1)}})()},[e]);const u=(p,g)=>{var y;n(b=>b.map(v=>v.id===p?{...v,status:g==="accept"?"accepted":g==="reject"?"rejected":"completed"}:v)),c({show:!0,title:g==="accept"?"Job Accepted":g==="reject"?"Job Rejected":"Job Completed",description:`Job for ${(y=t.find(b=>b.id===p))==null?void 0:y.customerName} has been ${g}ed.`,variant:g==="reject"?"warning":"success"}),setTimeout(()=>{c(b=>({...b,show:!1}))},3e3)},d=t.filter(p=>p.status==="scheduled").length,h=t.filter(p=>p.status==="accepted").length,f=t.filter(p=>p.status==="completed").length,m=t.filter(p=>p.status==="scheduled"||p.status==="accepted").sort((p,g)=>new Date(p.startDate).getTime()-new Date(g.startDate).getTime());return i?o.jsx("div",{className:"flex justify-center py-10",children:"Loading dashboard..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(Vt,{title:"Scheduled Jobs",value:d,icon:o.jsx(Gn,{className:"h-5 w-5 text-primary-600"}),variant:"primary"}),o.jsx(Vt,{title:"Accepted Jobs",value:h,icon:o.jsx(ys,{className:"h-5 w-5 text-success-600"}),variant:"success"}),o.jsx(Vt,{title:"Completed Jobs",value:f,icon:o.jsx(Yn,{className:"h-5 w-5 text-secondary-600"}),variant:"secondary"})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Upcoming Jobs"})}),o.jsx(pe,{children:m.length===0?o.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming jobs"}):o.jsx("div",{className:"space-y-4",children:m.map(p=>{var g;return o.jsx(le,{variant:"bordered",className:"overflow-hidden",children:o.jsxs("div",{className:"flex flex-col md:flex-row",children:[o.jsxs("div",{className:"p-4 md:p-6 flex-1",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold",children:p.customerName}),o.jsx(Ul,{status:p.status})]}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Ht,{className:"mr-2 h-4 w-4 text-gray-400"}),o.jsx("span",{children:((g=r[p.equipmentId])==null?void 0:g.name)||"Equipment"})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Wd,{className:"mr-2 h-4 w-4 text-gray-400"}),o.jsx("span",{children:p.location})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Gn,{className:"mr-2 h-4 w-4 text-gray-400"}),o.jsxs("span",{children:[new Date(p.startDate).toLocaleDateString()," - ",new Date(p.endDate).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Yn,{className:"mr-2 h-4 w-4 text-gray-400"}),o.jsxs("span",{children:[new Date(p.startDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," -",new Date(p.endDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})]}),o.jsxs("div",{className:"border-t md:border-t-0 md:border-l border-gray-200 p-4 bg-gray-50 flex flex-row md:flex-col justify-center space-x-2 md:space-x-0 md:space-y-2",children:[p.status==="scheduled"&&o.jsxs(o.Fragment,{children:[o.jsx(U,{variant:"success",size:"sm",leftIcon:o.jsx(ys,{size:16}),onClick:()=>u(p.id,"accept"),children:"Accept"}),o.jsx(U,{variant:"destructive",size:"sm",leftIcon:o.jsx(Ol,{size:16}),onClick:()=>u(p.id,"reject"),children:"Reject"})]}),p.status==="accepted"&&o.jsx(U,{variant:"secondary",size:"sm",leftIcon:o.jsx(ys,{size:16}),onClick:()=>u(p.id,"complete"),children:"Mark Complete"}),p.status==="completed"&&o.jsx("p",{className:"text-sm text-gray-500 italic",children:"Completed"})]})]})},p.id)})})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Equipment Assignment"})}),o.jsx(pe,{children:o.jsxs("div",{className:"space-y-4",children:[Object.values(r).map(p=>o.jsxs("div",{className:"flex items-start p-3 border rounded-md",children:[o.jsx(Ht,{className:"h-5 w-5 text-gray-500 mr-3 mt-1"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p.description})]})]},p.id)),Object.keys(r).length===0&&o.jsx("p",{className:"text-gray-500 text-center py-4",children:"No equipment assigned"})]})})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Operator Information"})}),o.jsxs(pe,{children:[o.jsxs("div",{className:"flex items-center p-4 bg-gray-50 rounded-md",children:[o.jsx("div",{className:"mr-4",children:o.jsx(lI,{className:"h-16 w-16 text-gray-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-lg",children:e==null?void 0:e.name}),o.jsx("p",{className:"text-gray-500",children:e==null?void 0:e.email}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Specialization: Mobile & Tower Cranes"}),o.jsx("p",{className:"text-gray-500",children:"License: #CR-2023-456"})]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(U,{variant:"outline",size:"sm",fullWidth:!0,children:"Update Profile"})})]})]})]}),l.show&&o.jsx(ft,{title:l.title,description:l.description,variant:l.variant,isVisible:l.show,onClose:()=>c(p=>({...p,show:!1}))})]})}function De({label:e,error:t,className:n="",leftIcon:r,rightIcon:s,name:i,id:a,...l}){var d;const c={...l},u=i||a||((d=l.placeholder)==null?void 0:d.toLowerCase().replace(/\s+/g,"_"))||"input_field";return o.jsxs("div",{className:"space-y-1.5",children:[e&&o.jsxs("label",{className:`block text-xs sm:text-sm font-medium ${l.required?"text-blue-700":"text-green-700"}`,children:[e,l.required?o.jsx("span",{className:"text-error-500 ml-1 font-bold",children:"*"}):!l.disabled&&o.jsx("span",{className:"text-green-500 ml-1 text-xs",children:"(Optional)"})]}),o.jsxs("div",{className:"relative",children:[r&&o.jsx("div",{className:"absolute left-2.5 sm:left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm sm:text-base",children:r}),o.jsx("input",{name:u,id:a||u,className:`
            block w-full rounded-md
            shadow-sm
            focus:border-primary-500 focus:ring-primary-500 
            disabled:bg-gray-100 disabled:text-gray-500
            text-[#222] placeholder:text-[#888]
            text-base
            py-2 px-3 border border-[#CAC0B0] bg-white
            ${t?"border-error-300 bg-error-50":"border-gray-300"}
            ${r?"pl-8 sm:pl-10":""}
            ${s?"pr-8 sm:pr-10":""}
            ${n}
          `,style:{color:"#222 !important",WebkitTextFillColor:"#222 !important",background:"#fff !important",borderColor:"#CAC0B0",fontWeight:600,letterSpacing:"0.08em",zIndex:1,position:"relative"},placeholder:l.placeholder?`${l.placeholder}${l.required?" *":""}`:"",...c}),s&&o.jsx("div",{className:"absolute right-2.5 sm:right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm sm:text-base",children:s})]}),t&&o.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:t})]})}function me({label:e,helperText:t,error:n,fullWidth:r=!0,className:s="",type:i="text",id:a,name:l,...c}){const u=a||l||(e==null?void 0:e.toLowerCase().replace(/\s+/g,"_"))||"form_input";return o.jsxs("div",{className:`${r?"w-full":""} space-y-1 mb-3 sm:mb-4`,children:[e&&o.jsxs("label",{htmlFor:u,className:`block text-sm font-medium mb-1 ${c.required?"text-blue-700":"text-green-700"}`,children:[e,c.required?o.jsx("span",{className:"text-error-500 ml-1 font-bold",children:"*"}):!c.disabled&&o.jsx("span",{className:"text-green-500 ml-1 text-xs",children:"(Optional)"})]}),o.jsx(De,{id:u,name:l||u,type:i,className:`${r?"w-full":""} ${n?"border-error-500":""} text-sm sm:text-base ${s}`,...c,onWheel:i==="number"?d=>d.currentTarget.blur():void 0,onKeyDown:i==="number"?d=>{(d.key==="-"||d.key==="e"||d.key===".")&&d.preventDefault()}:void 0}),t&&!n&&o.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:t}),n&&o.jsx("p",{className:"text-xs sm:text-sm text-error-500",children:n})]})}function Te({options:e,value:t,onChange:n,label:r,error:s,leftIcon:i,className:a="",...l}){return o.jsxs("div",{className:"w-full mb-3 sm:mb-4",children:[r&&o.jsxs("label",{className:`block text-sm font-medium mb-1 ${l.required?"text-blue-700":"text-green-700"}`,children:[r,l.required?o.jsx("span",{className:"text-error-500 ml-1 font-bold",children:"*"}):!l.disabled&&o.jsx("span",{className:"text-green-500 ml-1 text-xs",children:"(Optional)"})]}),o.jsxs("div",{className:"relative",children:[i&&o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:i}),"        ",o.jsx("select",{value:t,onChange:c=>n(c.target.value),className:`
            block w-full rounded-md shadow-sm
            focus:border-primary-500 focus:ring-primary-500
            disabled:bg-gray-100 disabled:text-gray-500
            text-sm sm:text-base py-2 px-3 pr-10
            ${s?"border-error-300 bg-error-50":"border-gray-300"}
            ${l.required?"bg-blue-50 border-blue-200 focus:bg-white":l.disabled?"":"bg-green-50 border-green-200 focus:bg-white"}
            ${i?"pl-10":""}
            appearance-none
            ${t?"text-gray-900":"text-gray-500"}
            ${a}
          `,...l,children:e.map(c=>o.jsx("option",{value:c.value,className:c.value===""?"text-gray-500":"text-gray-900",children:c.label},c.value))}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:o.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s&&o.jsx("p",{className:"mt-1 text-xs sm:text-sm text-error-600",children:s})]})}function Qn({label:e,error:t,helperText:n,className:r="",...s}){const i=s.id||`textarea-${s.name||Math.random().toString(36).substring(2,9)}`;return o.jsxs("div",{className:"space-y-2",children:[e&&o.jsxs("label",{htmlFor:i,className:`block text-sm font-medium ${s.required?"text-blue-700":"text-green-700"}`,children:[e,s.required?o.jsx("span",{className:"text-error-500 ml-1 font-bold",children:"*"}):!s.disabled&&o.jsx("span",{className:"text-green-500 ml-1 text-xs",children:"(Optional)"})]}),o.jsx("textarea",{id:i,className:`block w-full rounded-md shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${t?"border-error-300 bg-error-50":"border-gray-300"} ${s.required?"bg-blue-50 border-blue-200 focus:bg-white":s.disabled?"":"bg-green-50 border-green-200 focus:bg-white"} ${r}`,style:{color:"#222 !important",WebkitTextFillColor:"#222 !important",background:"#fff !important",fontWeight:500,zIndex:1,position:"relative"},placeholder:s.placeholder?`${s.placeholder}${s.required?" *":""}`:"",...s}),t&&o.jsx("p",{className:"mt-2 text-sm text-red-600",children:t}),n&&!t&&o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})}Qn.displayName="TextArea";var TV=Object.defineProperty,PV=(e,t,n)=>t in e?TV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mf=(e,t,n)=>(PV(e,typeof t!="symbol"?t+"":t,n),n);let _V=class{constructor(){Mf(this,"current",this.detect()),Mf(this,"handoffState","pending"),Mf(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},_r=new _V,Mn=(e,t)=>{_r.isServer?x.useEffect(e,t):x.useLayoutEffect(e,t)};function Ar(e){let t=x.useRef(e);return Mn(()=>{t.current=e},[e]),t}let qe=function(e){let t=Ar(e);return re.useCallback((...n)=>t.current(...n),[t])};function lh(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Ei(){let e=[],t={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),t.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return lh(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=Ei();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function ry(){let[e]=x.useState(Ei);return x.useEffect(()=>()=>e.dispose(),[e]),e}function AV(){let e=typeof document>"u";return(t=>t.useSyncExternalStore)(hg)(()=>()=>{},()=>!1,()=>!e)}function Oa(){let e=AV(),[t,n]=x.useState(_r.isHandoffComplete);return t&&_r.isHandoffComplete===!1&&n(!1),x.useEffect(()=>{t!==!0&&n(!0)},[t]),x.useEffect(()=>_r.handoff(),[]),e?!1:t}var qw;let Ra=(qw=re.useId)!=null?qw:function(){let e=Oa(),[t,n]=re.useState(e?()=>_r.nextId():null);return Mn(()=>{t===null&&n(_r.nextId())},[t]),t!=null?""+t:void 0};function Mt(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Mt),r}function sD(e){return _r.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Vp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ks=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Ks||{}),iD=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(iD||{}),IV=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(IV||{});function MV(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Vp)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var aD=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(aD||{});function OV(e,t=0){var n;return e===((n=sD(e))==null?void 0:n.body)?!1:Mt(t,{0(){return e.matches(Vp)},1(){let r=e;for(;r!==null;){if(r.matches(Vp))return!0;r=r.parentElement}return!1}})}var RV=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(RV||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function li(e){e==null||e.focus({preventScroll:!0})}let LV=["textarea","input"].join(",");function FV(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,LV))!=null?n:!1}function $V(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),i=t(r);if(s===null||i===null)return 0;let a=s.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function hu(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?$V(e):e:MV(e);s.length>0&&a.length>1&&(a=a.filter(m=>!s.includes(m))),r=r??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,h=a.length,f;do{if(d>=h||d+h<=0)return 0;let m=c+d;if(t&16)m=(m+h)%h;else{if(m<0)return 3;if(m>=h)return 1}f=a[m],f==null||f.focus(u),d+=l}while(f!==i.activeElement);return t&6&&FV(f)&&f.select(),2}function oD(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function zV(){return/Android/gi.test(window.navigator.userAgent)}function BV(){return oD()||zV()}function Rc(e,t,n){let r=Ar(t);x.useEffect(()=>{function s(i){r.current(i)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[e,n])}function lD(e,t,n){let r=Ar(t);x.useEffect(()=>{function s(i){r.current(i)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[e,n])}function VV(e,t,n=!0){let r=x.useRef(!1);x.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function s(a,l){if(!r.current||a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e);for(let d of u){if(d===null)continue;let h=d instanceof HTMLElement?d:d.current;if(h!=null&&h.contains(c)||a.composed&&a.composedPath().includes(h))return}return!OV(c,aD.Loose)&&c.tabIndex!==-1&&a.preventDefault(),t(a,c)}let i=x.useRef(null);Rc("pointerdown",a=>{var l,c;r.current&&(i.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),Rc("mousedown",a=>{var l,c;r.current&&(i.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),Rc("click",a=>{BV()||i.current&&(s(a,()=>i.current),i.current=null)},!0),Rc("touchend",a=>s(a,()=>a.target instanceof HTMLElement?a.target:null),!0),lD("blur",a=>s(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Wl(...e){return x.useMemo(()=>sD(...e),[...e])}let cD=Symbol();function UV(e,t=!0){return Object.assign(e,{[cD]:t})}function Xn(...e){let t=x.useRef(e);x.useEffect(()=>{t.current=e},[e]);let n=qe(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[cD]))?void 0:n}function sy(e,t){let n=x.useRef([]),r=qe(e);x.useEffect(()=>{let s=[...n.current];for(let[i,a]of t.entries())if(n.current[i]!==a){let l=r(t,s);return n.current=t,l}},[r,...t])}function ld(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var cd=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(cd||{}),ls=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ls||{});function Rn({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:i=!0,name:a,mergeRefs:l}){l=l??WV;let c=uD(t,e);if(i)return Lc(c,n,r,a,l);let u=s??0;if(u&2){let{static:d=!1,...h}=c;if(d)return Lc(h,n,r,a,l)}if(u&1){let{unmount:d=!0,...h}=c;return Mt(d?0:1,{0(){return null},1(){return Lc({...h,hidden:!0,style:{display:"none"}},n,r,a,l)}})}return Lc(c,n,r,a,l)}function Lc(e,t={},n,r,s){let{as:i=n,children:a,refName:l="ref",...c}=Of(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof a=="function"?a(t):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let h={};if(t){let f=!1,m=[];for(let[p,g]of Object.entries(t))typeof g=="boolean"&&(f=!0),g===!0&&m.push(p);f&&(h["data-headlessui-state"]=m.join(" "))}if(i===x.Fragment&&Object.keys(Gw(c)).length>0){if(!x.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let f=d.props,m=typeof(f==null?void 0:f.className)=="function"?(...g)=>ld(f==null?void 0:f.className(...g),c.className):ld(f==null?void 0:f.className,c.className),p=m?{className:m}:{};return x.cloneElement(d,Object.assign({},uD(d.props,Gw(Of(c,["ref"]))),h,u,{ref:s(d.ref,u.ref)},p))}return x.createElement(i,Object.assign({},Of(c,["ref"]),i!==x.Fragment&&u,i!==x.Fragment&&h),d)}function WV(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function uD(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](s,...i){let a=n[r];for(let l of a){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return t}function gn(e){var t;return Object.assign(x.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Gw(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Of(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let HV="div";var ud=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ud||{});function qV(e,t){var n;let{features:r=1,...s}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Rn({ourProps:i,theirProps:s,slot:{},defaultTag:HV,name:"Hidden"})}let Up=gn(qV),iy=x.createContext(null);iy.displayName="OpenClosedContext";var an=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(an||{});function ay(){return x.useContext(iy)}function GV({value:e,children:t}){return re.createElement(iy.Provider,{value:e},t)}function YV(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let ts=[];YV(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&ts[0]!==t.target&&(ts.unshift(t.target),ts=ts.filter(n=>n!=null&&n.isConnected),ts.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function QV(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&KV(n)?!1:r}function KV(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var dD=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(dD||{});function hD(e,t,n,r){let s=Ar(n);x.useEffect(()=>{e=e??window;function i(a){s.current(a)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function Hl(){let e=x.useRef(!1);return Mn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function fD(e){let t=qe(e),n=x.useRef(!1);x.useEffect(()=>(n.current=!1,()=>{n.current=!0,lh(()=>{n.current&&t()})}),[t])}var No=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(No||{});function XV(){let e=x.useRef(0);return lD("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function mD(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let JV="div";var pD=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(pD||{});function ZV(e,t){let n=x.useRef(null),r=Xn(n,t),{initialFocus:s,containers:i,features:a=30,...l}=e;Oa()||(a=1);let c=Wl(n);nU({ownerDocument:c},!!(a&16));let u=rU({ownerDocument:c,container:n,initialFocus:s},!!(a&2));sU({ownerDocument:c,container:n,containers:i,previousActiveElement:u},!!(a&8));let d=XV(),h=qe(g=>{let y=n.current;y&&(b=>b())(()=>{Mt(d.current,{[No.Forwards]:()=>{hu(y,Ks.First,{skipElements:[g.relatedTarget]})},[No.Backwards]:()=>{hu(y,Ks.Last,{skipElements:[g.relatedTarget]})}})})}),f=ry(),m=x.useRef(!1),p={ref:r,onKeyDown(g){g.key=="Tab"&&(m.current=!0,f.requestAnimationFrame(()=>{m.current=!1}))},onBlur(g){let y=mD(i);n.current instanceof HTMLElement&&y.add(n.current);let b=g.relatedTarget;b instanceof HTMLElement&&b.dataset.headlessuiFocusGuard!=="true"&&(gD(y,b)||(m.current?hu(n.current,Mt(d.current,{[No.Forwards]:()=>Ks.Next,[No.Backwards]:()=>Ks.Previous})|Ks.WrapAround,{relativeTo:g.target}):g.target instanceof HTMLElement&&li(g.target)))}};return re.createElement(re.Fragment,null,!!(a&4)&&re.createElement(Up,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:ud.Focusable}),Rn({ourProps:p,theirProps:l,defaultTag:JV,name:"FocusTrap"}),!!(a&4)&&re.createElement(Up,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:ud.Focusable}))}let eU=gn(ZV),so=Object.assign(eU,{features:pD});function tU(e=!0){let t=x.useRef(ts.slice());return sy(([n],[r])=>{r===!0&&n===!1&&lh(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=ts.slice())},[e,ts,t]),qe(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function nU({ownerDocument:e},t){let n=tU(t);sy(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&li(n())},[t]),fD(()=>{t&&li(n())})}function rU({ownerDocument:e,container:t,initialFocus:n},r){let s=x.useRef(null),i=Hl();return sy(()=>{if(!r)return;let a=t.current;a&&lh(()=>{if(!i.current)return;let l=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){s.current=l;return}}else if(a.contains(l)){s.current=l;return}n!=null&&n.current?li(n.current):hu(a,Ks.First)===iD.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=e==null?void 0:e.activeElement})},[r]),s}function sU({ownerDocument:e,container:t,containers:n,previousActiveElement:r},s){let i=Hl();hD(e==null?void 0:e.defaultView,"focus",a=>{if(!s||!i.current)return;let l=mD(n);t.current instanceof HTMLElement&&l.add(t.current);let c=r.current;if(!c)return;let u=a.target;u&&u instanceof HTMLElement?gD(l,u)?(r.current=u,li(u)):(a.preventDefault(),a.stopPropagation(),li(c)):li(r.current)},!0)}function gD(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let xD=x.createContext(!1);function iU(){return x.useContext(xD)}function Wp(e){return re.createElement(xD.Provider,{value:e.force},e.children)}function aU(e){let t=iU(),n=x.useContext(yD),r=Wl(e),[s,i]=x.useState(()=>{if(!t&&n!==null||_r.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return x.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),x.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),s}let oU=x.Fragment;function lU(e,t){let n=e,r=x.useRef(null),s=Xn(UV(d=>{r.current=d}),t),i=Wl(r),a=aU(r),[l]=x.useState(()=>{var d;return _r.isServer?null:(d=i==null?void 0:i.createElement("div"))!=null?d:null}),c=x.useContext(Hp),u=Oa();return Mn(()=>{!a||!l||a.contains(l)||(l.setAttribute("data-headlessui-portal",""),a.appendChild(l))},[a,l]),Mn(()=>{if(l&&c)return c.register(l)},[c,l]),fD(()=>{var d;!a||!l||(l instanceof Node&&a.contains(l)&&a.removeChild(l),a.childNodes.length<=0&&((d=a.parentElement)==null||d.removeChild(a)))}),u?!a||!l?null:Ml.createPortal(Rn({ourProps:{ref:s},theirProps:n,defaultTag:oU,name:"Portal"}),l):null}let cU=x.Fragment,yD=x.createContext(null);function uU(e,t){let{target:n,...r}=e,s={ref:Xn(t)};return re.createElement(yD.Provider,{value:n},Rn({ourProps:s,theirProps:r,defaultTag:cU,name:"Popover.Group"}))}let Hp=x.createContext(null);function dU(){let e=x.useContext(Hp),t=x.useRef([]),n=qe(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=qe(i=>{let a=t.current.indexOf(i);a!==-1&&t.current.splice(a,1),e&&e.unregister(i)}),s=x.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,x.useMemo(()=>function({children:i}){return re.createElement(Hp.Provider,{value:s},i)},[s])]}let hU=gn(lU),fU=gn(uU),qp=Object.assign(hU,{Group:fU});const mU=(e=>e.useSyncExternalStore)(hg);function pU(e){return mU(e.subscribe,e.getSnapshot,e.getSnapshot)}function gU(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let a=t[s].call(n,...i);a&&(n=a,r.forEach(l=>l()))}}}function xU(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,s=r.clientWidth-r.offsetWidth,i=e-s;n.style(r,"paddingRight",`${i}px`)}}}function yU(){return oD()?{before({doc:e,d:t,meta:n}){function r(s){return n.containers.flatMap(i=>i()).some(i=>i.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Ei();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,a=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);d&&!r(d)&&(a=d)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;i!==c&&window.scrollTo(0,i),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function vU(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function bU(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let ni=gU(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Ei(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:bU(n)},s=[yU(),xU(),vU()];s.forEach(({before:i})=>i==null?void 0:i(r)),s.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ni.subscribe(()=>{let e=ni.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&ni.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ni.dispatch("TEARDOWN",n)}});function wU(e,t,n){let r=pU(ni),s=e?r.get(e):void 0,i=s?s.count>0:!1;return Mn(()=>{if(!(!e||!t))return ni.dispatch("PUSH",e,n),()=>ni.dispatch("POP",e,n)},[t,e]),i}let Rf=new Map,io=new Map;function Yw(e,t=!0){Mn(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function s(){var a;if(!r)return;let l=(a=io.get(r))!=null?a:1;if(l===1?io.delete(r):io.set(r,l-1),l!==1)return;let c=Rf.get(r);c&&(c["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",c["aria-hidden"]),r.inert=c.inert,Rf.delete(r))}let i=(n=io.get(r))!=null?n:0;return io.set(r,i+1),i!==0||(Rf.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),s},[e,t])}function jU({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let s=x.useRef((r=n==null?void 0:n.current)!=null?r:null),i=Wl(s),a=qe(()=>{var l,c,u;let d=[];for(let h of e)h!==null&&(h instanceof HTMLElement?d.push(h):"current"in h&&h.current instanceof HTMLElement&&d.push(h.current));if(t!=null&&t.current)for(let h of t.current)d.push(h);for(let h of(l=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?l:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(s.current)||h.contains((u=(c=s.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(f=>h.contains(f))||d.push(h));return d});return{resolveContainers:a,contains:qe(l=>a().some(c=>c.contains(l))),mainTreeNodeRef:s,MainTreeNode:x.useMemo(()=>function(){return n!=null?null:re.createElement(Up,{features:ud.Hidden,ref:s})},[s,n])}}let oy=x.createContext(()=>{});oy.displayName="StackContext";var Gp=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Gp||{});function SU(){return x.useContext(oy)}function NU({children:e,onUpdate:t,type:n,element:r,enabled:s}){let i=SU(),a=qe((...l)=>{t==null||t(...l),i(...l)});return Mn(()=>{let l=s===void 0||s===!0;return l&&a(0,n,r),()=>{l&&a(1,n,r)}},[a,n,r,s]),re.createElement(oy.Provider,{value:a},e)}let vD=x.createContext(null);function bD(){let e=x.useContext(vD);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,bD),t}return e}function CU(){let[e,t]=x.useState([]);return[e.length>0?e.join(" "):void 0,x.useMemo(()=>function(n){let r=qe(i=>(t(a=>[...a,i]),()=>t(a=>{let l=a.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),s=x.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return re.createElement(vD.Provider,{value:s},n.children)},[t])]}let kU="p";function DU(e,t){let n=Ra(),{id:r=`headlessui-description-${n}`,...s}=e,i=bD(),a=Xn(t);Mn(()=>i.register(r),[r,i.register]);let l={ref:a,...i.props,id:r};return Rn({ourProps:l,theirProps:s,slot:i.slot||{},defaultTag:kU,name:i.name||"Description"})}let EU=gn(DU),TU=Object.assign(EU,{});var PU=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(PU||{}),_U=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(_U||{});let AU={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},dd=x.createContext(null);dd.displayName="DialogContext";function ql(e){let t=x.useContext(dd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ql),n}return t}function IU(e,t,n=()=>[document.body]){wU(e,t,r=>{var s;return{containers:[...(s=r.containers)!=null?s:[],n]}})}function MU(e,t){return Mt(t.type,AU,e,t)}let OU="div",RU=cd.RenderStrategy|cd.Static;function LU(e,t){let n=Ra(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:a,role:l="dialog",__demoMode:c=!1,...u}=e,[d,h]=x.useState(0),f=x.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(f.current||(f.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=ay();s===void 0&&m!==null&&(s=(m&an.Open)===an.Open);let p=x.useRef(null),g=Xn(p,t),y=Wl(p),b=e.hasOwnProperty("open")||m!==null,v=e.hasOwnProperty("onClose");if(!b&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!b)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let w=s?0:1,[S,j]=x.useReducer(MU,{titleId:null,descriptionId:null,panelRef:x.createRef()}),k=qe(()=>i(!1)),C=qe(A=>j({type:0,id:A})),N=Oa()?c?!1:w===0:!1,D=d>1,T=x.useContext(dd)!==null,[L,V]=dU(),F={get current(){var A;return(A=S.panelRef.current)!=null?A:p.current}},{resolveContainers:_,mainTreeNodeRef:z,MainTreeNode:W}=jU({portals:L,defaultContainers:[F]}),I=D?"parent":"leaf",E=m!==null?(m&an.Closing)===an.Closing:!1,P=T||E?!1:N,R=x.useCallback(()=>{var A,$;return($=Array.from((A=y==null?void 0:y.querySelectorAll("body > *"))!=null?A:[]).find(M=>M.id==="headlessui-portal-root"?!1:M.contains(z.current)&&M instanceof HTMLElement))!=null?$:null},[z]);Yw(R,P);let B=D?!0:N,q=x.useCallback(()=>{var A,$;return($=Array.from((A=y==null?void 0:y.querySelectorAll("[data-headlessui-portal]"))!=null?A:[]).find(M=>M.contains(z.current)&&M instanceof HTMLElement))!=null?$:null},[z]);Yw(q,B),VV(_,A=>{A.preventDefault(),k()},!(!N||D));let ne=!(D||w!==0);hD(y==null?void 0:y.defaultView,"keydown",A=>{ne&&(A.defaultPrevented||A.key===dD.Escape&&(A.preventDefault(),A.stopPropagation(),k()))}),IU(y,!(E||w!==0||T),_),x.useEffect(()=>{if(w!==0||!p.current)return;let A=new ResizeObserver($=>{for(let M of $){let Y=M.target.getBoundingClientRect();Y.x===0&&Y.y===0&&Y.width===0&&Y.height===0&&k()}});return A.observe(p.current),()=>A.disconnect()},[w,p,k]);let[G,O]=CU(),H=x.useMemo(()=>[{dialogState:w,close:k,setTitleId:C},S],[w,S,k,C]),K=x.useMemo(()=>({open:w===0}),[w]),fe={ref:g,id:r,role:l,"aria-modal":w===0?!0:void 0,"aria-labelledby":S.titleId,"aria-describedby":G};return re.createElement(NU,{type:"Dialog",enabled:w===0,element:p,onUpdate:qe((A,$)=>{$==="Dialog"&&Mt(A,{[Gp.Add]:()=>h(M=>M+1),[Gp.Remove]:()=>h(M=>M-1)})})},re.createElement(Wp,{force:!0},re.createElement(qp,null,re.createElement(dd.Provider,{value:H},re.createElement(qp.Group,{target:p},re.createElement(Wp,{force:!1},re.createElement(O,{slot:K,name:"Dialog.Description"},re.createElement(so,{initialFocus:a,containers:_,features:N?Mt(I,{parent:so.features.RestoreFocus,leaf:so.features.All&~so.features.FocusLock}):so.features.None},re.createElement(V,null,Rn({ourProps:fe,theirProps:u,slot:K,defaultTag:OU,features:RU,visible:w===0,name:"Dialog"}))))))))),re.createElement(W,null))}let FU="div";function $U(e,t){let n=Ra(),{id:r=`headlessui-dialog-overlay-${n}`,...s}=e,[{dialogState:i,close:a}]=ql("Dialog.Overlay"),l=Xn(t),c=qe(d=>{if(d.target===d.currentTarget){if(QV(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),a()}}),u=x.useMemo(()=>({open:i===0}),[i]);return Rn({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:c},theirProps:s,slot:u,defaultTag:FU,name:"Dialog.Overlay"})}let zU="div";function BU(e,t){let n=Ra(),{id:r=`headlessui-dialog-backdrop-${n}`,...s}=e,[{dialogState:i},a]=ql("Dialog.Backdrop"),l=Xn(t);x.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let c=x.useMemo(()=>({open:i===0}),[i]);return re.createElement(Wp,{force:!0},re.createElement(qp,null,Rn({ourProps:{ref:l,id:r,"aria-hidden":!0},theirProps:s,slot:c,defaultTag:zU,name:"Dialog.Backdrop"})))}let VU="div";function UU(e,t){let n=Ra(),{id:r=`headlessui-dialog-panel-${n}`,...s}=e,[{dialogState:i},a]=ql("Dialog.Panel"),l=Xn(t,a.panelRef),c=x.useMemo(()=>({open:i===0}),[i]),u=qe(d=>{d.stopPropagation()});return Rn({ourProps:{ref:l,id:r,onClick:u},theirProps:s,slot:c,defaultTag:VU,name:"Dialog.Panel"})}let WU="h2";function HU(e,t){let n=Ra(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:i,setTitleId:a}]=ql("Dialog.Title"),l=Xn(t);x.useEffect(()=>(a(r),()=>a(null)),[r,a]);let c=x.useMemo(()=>({open:i===0}),[i]);return Rn({ourProps:{ref:l,id:r},theirProps:s,slot:c,defaultTag:WU,name:"Dialog.Title"})}let qU=gn(LU),GU=gn(BU),YU=gn(UU),QU=gn($U),KU=gn(HU),Fc=Object.assign(qU,{Backdrop:GU,Panel:YU,Overlay:QU,Title:KU,Description:TU});function XU(e=0){let[t,n]=x.useState(e),r=Hl(),s=x.useCallback(c=>{r.current&&n(u=>u|c)},[t,r]),i=x.useCallback(c=>!!(t&c),[t]),a=x.useCallback(c=>{r.current&&n(u=>u&~c)},[n,r]),l=x.useCallback(c=>{r.current&&n(u=>u^c)},[n]);return{flags:t,addFlag:s,hasFlag:i,removeFlag:a,toggleFlag:l}}function JU(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Lf(e,...t){e&&t.length>0&&e.classList.add(...t)}function Ff(e,...t){e&&t.length>0&&e.classList.remove(...t)}function ZU(e,t){let n=Ei();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:s}=getComputedStyle(e),[i,a]=[r,s].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,h)=>h-d);return u}),l=i+a;if(l!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},l),u.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),c())})}else t();return n.add(()=>t()),n.dispose}function e8(e,t,n,r){let s=n?"enter":"leave",i=Ei(),a=r!==void 0?JU(r):()=>{};s==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=Mt(s,{enter:()=>t.enter,leave:()=>t.leave}),c=Mt(s,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=Mt(s,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Ff(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Lf(e,...t.base,...l,...u),i.nextFrame(()=>{Ff(e,...t.base,...l,...u),Lf(e,...t.base,...l,...c),ZU(e,()=>(Ff(e,...t.base,...l),Lf(e,...t.base,...t.entered),a()))}),i.dispose}function t8({immediate:e,container:t,direction:n,classes:r,onStart:s,onStop:i}){let a=Hl(),l=ry(),c=Ar(n);Mn(()=>{e&&(c.current="enter")},[e]),Mn(()=>{let u=Ei();l.add(u.dispose);let d=t.current;if(d&&c.current!=="idle"&&a.current)return u.dispose(),s.current(c.current),u.add(e8(d,r.current,c.current==="enter",()=>{u.dispose(),i.current(c.current)})),u.dispose},[n])}function Hr(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let ch=x.createContext(null);ch.displayName="TransitionContext";var n8=(e=>(e.Visible="visible",e.Hidden="hidden",e))(n8||{});function r8(){let e=x.useContext(ch);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function s8(){let e=x.useContext(uh);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let uh=x.createContext(null);uh.displayName="NestingContext";function dh(e){return"children"in e?dh(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function wD(e,t){let n=Ar(e),r=x.useRef([]),s=Hl(),i=ry(),a=qe((m,p=ls.Hidden)=>{let g=r.current.findIndex(({el:y})=>y===m);g!==-1&&(Mt(p,{[ls.Unmount](){r.current.splice(g,1)},[ls.Hidden](){r.current[g].state="hidden"}}),i.microTask(()=>{var y;!dh(r)&&s.current&&((y=n.current)==null||y.call(n))}))}),l=qe(m=>{let p=r.current.find(({el:g})=>g===m);return p?p.state!=="visible"&&(p.state="visible"):r.current.push({el:m,state:"visible"}),()=>a(m,ls.Unmount)}),c=x.useRef([]),u=x.useRef(Promise.resolve()),d=x.useRef({enter:[],leave:[],idle:[]}),h=qe((m,p,g)=>{c.current.splice(0),t&&(t.chains.current[p]=t.chains.current[p].filter(([y])=>y!==m)),t==null||t.chains.current[p].push([m,new Promise(y=>{c.current.push(y)})]),t==null||t.chains.current[p].push([m,new Promise(y=>{Promise.all(d.current[p].map(([b,v])=>v)).then(()=>y())})]),p==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>g(p)):g(p)}),f=qe((m,p,g)=>{Promise.all(d.current[p].splice(0).map(([y,b])=>b)).then(()=>{var y;(y=c.current.shift())==null||y()}).then(()=>g(p))});return x.useMemo(()=>({children:r,register:l,unregister:a,onStart:h,onStop:f,wait:u,chains:d}),[l,a,r,h,f,d,u])}function i8(){}let a8=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Qw(e){var t;let n={};for(let r of a8)n[r]=(t=e[r])!=null?t:i8;return n}function o8(e){let t=x.useRef(Qw(e));return x.useEffect(()=>{t.current=Qw(e)},[e]),t}let l8="div",jD=cd.RenderStrategy;function c8(e,t){var n,r;let{beforeEnter:s,afterEnter:i,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:h,leave:f,leaveFrom:m,leaveTo:p,...g}=e,y=x.useRef(null),b=Xn(y,t),v=(n=g.unmount)==null||n?ls.Unmount:ls.Hidden,{show:w,appear:S,initial:j}=r8(),[k,C]=x.useState(w?"visible":"hidden"),N=s8(),{register:D,unregister:T}=N;x.useEffect(()=>D(y),[D,y]),x.useEffect(()=>{if(v===ls.Hidden&&y.current){if(w&&k!=="visible"){C("visible");return}return Mt(k,{hidden:()=>T(y),visible:()=>D(y)})}},[k,y,D,T,w,v]);let L=Ar({base:Hr(g.className),enter:Hr(c),enterFrom:Hr(u),enterTo:Hr(d),entered:Hr(h),leave:Hr(f),leaveFrom:Hr(m),leaveTo:Hr(p)}),V=o8({beforeEnter:s,afterEnter:i,beforeLeave:a,afterLeave:l}),F=Oa();x.useEffect(()=>{if(F&&k==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,k,F]);let _=j&&!S,z=S&&w&&j,W=!F||_?"idle":w?"enter":"leave",I=XU(0),E=qe(ne=>Mt(ne,{enter:()=>{I.addFlag(an.Opening),V.current.beforeEnter()},leave:()=>{I.addFlag(an.Closing),V.current.beforeLeave()},idle:()=>{}})),P=qe(ne=>Mt(ne,{enter:()=>{I.removeFlag(an.Opening),V.current.afterEnter()},leave:()=>{I.removeFlag(an.Closing),V.current.afterLeave()},idle:()=>{}})),R=wD(()=>{C("hidden"),T(y)},N),B=x.useRef(!1);t8({immediate:z,container:y,classes:L,direction:W,onStart:Ar(ne=>{B.current=!0,R.onStart(y,ne,E)}),onStop:Ar(ne=>{B.current=!1,R.onStop(y,ne,P),ne==="leave"&&!dh(R)&&(C("hidden"),T(y))})});let q=g,J={ref:b};return z?q={...q,className:ld(g.className,...L.current.enter,...L.current.enterFrom)}:B.current&&(q.className=ld(g.className,(r=y.current)==null?void 0:r.className),q.className===""&&delete q.className),re.createElement(uh.Provider,{value:R},re.createElement(GV,{value:Mt(k,{visible:an.Open,hidden:an.Closed})|I.flags},Rn({ourProps:J,theirProps:q,defaultTag:l8,features:jD,visible:k==="visible",name:"Transition.Child"})))}function u8(e,t){let{show:n,appear:r=!1,unmount:s=!0,...i}=e,a=x.useRef(null),l=Xn(a,t);Oa();let c=ay();if(n===void 0&&c!==null&&(n=(c&an.Open)===an.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=x.useState(n?"visible":"hidden"),h=wD(()=>{d("hidden")}),[f,m]=x.useState(!0),p=x.useRef([n]);Mn(()=>{f!==!1&&p.current[p.current.length-1]!==n&&(p.current.push(n),m(!1))},[p,n]);let g=x.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);x.useEffect(()=>{if(n)d("visible");else if(!dh(h))d("hidden");else{let w=a.current;if(!w)return;let S=w.getBoundingClientRect();S.x===0&&S.y===0&&S.width===0&&S.height===0&&d("hidden")}},[n,h]);let y={unmount:s},b=qe(()=>{var w;f&&m(!1),(w=e.beforeEnter)==null||w.call(e)}),v=qe(()=>{var w;f&&m(!1),(w=e.beforeLeave)==null||w.call(e)});return re.createElement(uh.Provider,{value:h},re.createElement(ch.Provider,{value:g},Rn({ourProps:{...y,as:x.Fragment,children:re.createElement(SD,{ref:l,...y,...i,beforeEnter:b,beforeLeave:v})},theirProps:{},defaultTag:x.Fragment,features:jD,visible:u==="visible",name:"Transition"})))}function d8(e,t){let n=x.useContext(ch)!==null,r=ay()!==null;return re.createElement(re.Fragment,null,!n&&r?re.createElement(Yp,{ref:t,...e}):re.createElement(SD,{ref:t,...e}))}let Yp=gn(u8),SD=gn(c8),h8=gn(d8),$f=Object.assign(Yp,{Child:h8,Root:Yp});const f8={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-[95%] sm:max-w-4xl"};function Ct({isOpen:e,onClose:t,title:n,description:r,children:s,size:i="md"}){return o.jsx($f,{show:e,as:x.Fragment,children:o.jsxs(Fc,{as:"div",className:"relative z-50",onClose:t,children:[o.jsx($f.Child,{as:x.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx("div",{className:"fixed inset-0 bg-black/40 transition-opacity"})}),o.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:o.jsx("div",{className:"flex min-h-full items-end justify-center p-2 sm:p-4 text-center sm:items-center",children:o.jsx($f.Child,{as:x.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:o.jsxs(Fc.Panel,{className:`w-full ${f8[i]} transform overflow-hidden rounded-lg bg-white text-left shadow-modal transition-all my-2 sm:my-8`,children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-3 sm:px-6 py-3 sm:py-4",children:[o.jsxs("div",{children:[n&&o.jsx(Fc.Title,{as:"h3",className:"text-base sm:text-lg font-semibold text-gray-900",children:n}),r&&o.jsx(Fc.Description,{className:"mt-1 text-xs sm:text-sm text-gray-500",children:r})]}),o.jsxs("button",{type:"button",className:"text-gray-400 hover:text-gray-500 p-1",onClick:t,children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(Ni,{className:"h-5 w-5","aria-hidden":"true"})]})]}),o.jsx("div",{className:"px-3 sm:px-6 py-3 sm:py-4 max-h-[80vh] overflow-y-auto",children:s})]})})})})]})})}const zf="http://103.224.243.242:3001/api",m8=()=>{var t;let e=localStorage.getItem("jwt-token");if(!e)try{const n=localStorage.getItem("auth-storage");n&&(e=(t=JSON.parse(n).state)==null?void 0:t.token)}catch(n){console.error("Failed to parse auth storage:",n)}if(!e)throw new Error("Authentication required - Please log in again");return e},ao=async(e,t={})=>{var n,r;try{console.log(` API Call: ${t.method||"GET"} ${zf}${e}`);let s="";try{s=m8()}catch(c){throw c}const i={"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{},...t.headers||{}},a=await fetch(`${zf}${e}`,{...t,headers:i});if(console.log(` API Response: ${a.status} ${a.statusText} for ${e}`),e==="/quotations"){const c=a.clone();try{const u=await c.json();if(console.log(` Quotations API Response Data (${e}):`,u),u&&u.length>0){console.log(" First quotation details:",{id:u[0].id,customerName:u[0].customerName,customerId:u[0].customerId,customerContact:JSON.stringify(u[0].customerContact).substring(0,100),selectedEquipment:u[0].selectedEquipment?`${u[0].selectedEquipment.name||"Unnamed"} (${u[0].selectedEquipment.type||"Unknown type"})`:"No equipment"});const d=u[0].selectedEquipment&&u[0].selectedEquipment.name,h=u[0].selectedMachines&&Array.isArray(u[0].selectedMachines)&&u[0].selectedMachines.length>0;console.log(" Equipment data check:",{hasEquipment:!!d,hasMachines:!!h,machineCount:h?u[0].selectedMachines.length:0,firstMachine:h?u[0].selectedMachines[0].name:"N/A"});const f=!!u[0].customerId,m=!!u[0].customerName,p=u[0].customerContact&&typeof u[0].customerContact=="object"&&Object.keys(u[0].customerContact).length>0;console.log(" Customer data check:",{hasCustomerId:f,hasCustomerName:m,hasCustomerContact:p,customerType:p?typeof u[0].customerContact:"N/A"})}}catch(u){console.error("Error parsing response data:",u)}}if(!a.ok){let c=`API Error: ${a.status} ${a.statusText}`;const u=a.headers.get("content-type");console.error(`API Error: ${a.status} ${a.statusText} for ${zf}${e}`),console.error("Response Headers:",{"content-type":u,"content-length":a.headers.get("content-length")});try{if(u&&u.includes("application/json")){const d=await a.json();if(c=d.error||c,d.details&&(c+=` - ${d.details}`),console.error("API Error JSON:",d),a.status===401)throw console.warn(" Authentication Error:",{endpoint:e,headers:{authorization:(n=t.headers)!=null&&n.Authorization?"Present (Token masked)":"Missing","x-bypass-auth":((r=t.headers)==null?void 0:r["X-Bypass-Auth"])||"Not present"},environment:"production",devMode:!1,timestamp:new Date().toISOString()}),localStorage.removeItem("jwt-token"),sessionStorage.removeItem("auth-state"),console.warn("Authentication required - redirecting to login"),setTimeout(()=>{window.location.href="/login?expired=true"},500),new Error("Authentication session expired - Please log in again")}else{const d=await a.text();d&&(console.error("API Error Text:",d.substring(0,300)),c+=` - ${d.substring(0,100)}`)}}catch(d){console.error("Error parsing API error response:",d),c+=" (Error response could not be parsed)"}throw new Error(`${c} (${e})`)}const l=await a.json();return l&&typeof l=="object"&&"success"in l&&"data"in l?l.data:l}catch(s){throw console.error(`API call failed: ${e}`,s),s}},Ln={get:e=>ao(e,{method:"GET"}),post:(e,t)=>ao(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>ao(e,{method:"PUT",body:JSON.stringify(t)}),patch:(e,t)=>ao(e,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>ao(e,{method:"DELETE"})},ND=async()=>{try{console.log(" DEBUG: customerService.getCustomers() called"),console.log(' DEBUG: About to call api.get("/customers")');const e=await Ln.get("/customers");return console.log(" DEBUG: api.get response received:",e),console.log(" DEBUG: Response type:",typeof e,"Array?",Array.isArray(e)),e}catch(e){return console.error(" DEBUG: Failed to fetch customers:",e),console.error(" DEBUG: Error details:",e.message,e.stack),[]}},CD=async e=>{try{console.log("Creating customer via API:",e);const t=await Ln.post("/customers",e);return console.log("Customer created successfully:",t),t}catch(t){throw console.error("Failed to create customer:",t),new Error(t.message||"Failed to create customer")}},p8=async(e,t)=>{try{return await Ln.put(`/customers/${e}`,t)}catch(n){throw console.error(`Failed to update customer ${e}:`,n),new Error(n.message||"Failed to update customer")}},g8=async e=>{try{return await Ln.delete(`/customers/${e}`),!0}catch(t){throw console.error(`Failed to delete customer ${e}:`,t),new Error(t.message||"Failed to delete customer")}};function x8({isOpen:e,onClose:t,onSelect:n,initialCustomerData:r}){const[s,i]=x.useState("select"),[a,l]=x.useState([]),[c,u]=x.useState(""),[d,h]=x.useState(!0),[f,m]=x.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",address:(r==null?void 0:r.address)||"",companyName:(r==null?void 0:r.companyName)||"",designation:(r==null?void 0:r.designation)||""});x.useEffect(()=>{e&&(p(),i("select"))},[e]);const p=async()=>{try{console.log(" Fetching customers for modal...");const v=await ND();console.log(" Received customers:",v),l(v)}catch(v){console.error(" Error fetching customers:",v)}finally{h(!1)}},g=async()=>{if(!f.name.trim()){alert("Customer Name is required");return}try{const v=await CD({...f,name:f.name.trim(),contactName:f.name.trim(),companyName:f.companyName.trim()||"Korean.org",email:f.email.trim(),phone:f.phone.trim()||"N/A",address:f.address.trim()||"N/A",designation:f.designation.trim()||"N/A",type:"other",notes:""});console.log("Created new customer:",v),n(v)}catch(v){console.error("Error creating customer:",v),alert("Error creating customer")}},y=v=>{console.log("Selected existing customer:",v),n(v)},b=a.filter(v=>{var w;return v.name.toLowerCase().includes(c.toLowerCase())||v.email.toLowerCase().includes(c.toLowerCase())||((w=v.id)==null?void 0:w.toLowerCase().includes(c.toLowerCase()))});return o.jsx(Ct,{isOpen:e,onClose:t,title:"Select or Create Customer",size:"md",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx(U,{variant:s==="select"?"default":"outline",onClick:()=>i("select"),className:"flex-1",size:"sm",children:"Select Existing"}),o.jsx(U,{variant:s==="create"?"default":"outline",onClick:()=>{i("create"),m({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",address:(r==null?void 0:r.address)||"",companyName:(r==null?void 0:r.companyName)||"",designation:(r==null?void 0:r.designation)||""})},className:"flex-1",size:"sm",children:"Create New"})]}),s==="select"?o.jsxs(o.Fragment,{children:["            ",o.jsxs("div",{className:"relative mb-2",children:[o.jsx(fr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),o.jsx(me,{placeholder:"Search customers...",value:c,onChange:v=>u(v.target.value),className:"pl-10"}),c&&o.jsxs("button",{type:"button",onClick:()=>u(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),o.jsx("span",{className:"sr-only",children:"Clear search"})]})]}),o.jsx("div",{className:"max-h-[60vh] sm:max-h-96 overflow-y-auto border rounded-lg divide-y",children:d?o.jsxs("div",{className:"p-3 sm:p-4 text-center text-gray-500 flex items-center justify-center h-20",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 text-primary-500 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading customers..."]}):b.length===0?o.jsx("div",{className:"p-3 sm:p-4 text-center text-gray-500",children:c?`No customers matching "${c}"`:"No customers found"}):b.map(v=>o.jsx("div",{className:"p-3 sm:p-4 hover:bg-gray-50 active:bg-gray-100 cursor-pointer transition-colors",onClick:()=>y(v),children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"font-semibold text-base text-gray-900",children:v.name}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[v.companyName&&o.jsx("div",{className:"text-xs sm:text-sm text-gray-800",children:v.companyName}),v.designation&&v.companyName&&o.jsx("div",{className:"hidden sm:inline-block text-gray-700",children:""}),v.designation&&o.jsx("div",{className:"text-xs sm:text-sm text-gray-800",children:v.designation})]}),o.jsx("div",{className:"text-xs sm:text-sm text-gray-700 truncate",children:v.email}),o.jsxs("div",{className:"text-xs sm:text-sm text-gray-700 mt-0.5",children:["ID: ",v.id]})]})},v.id))})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[o.jsx(me,{label:"Customer Name",value:f.name,onChange:v=>m(w=>({...w,name:v.target.value})),placeholder:"Enter customer name",required:!0}),o.jsx(me,{label:"Company Name",value:f.companyName,onChange:v=>m(w=>({...w,companyName:v.target.value})),placeholder:"Enter company name",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[o.jsx(me,{label:"Designation",value:f.designation,onChange:v=>m(w=>({...w,designation:v.target.value})),placeholder:"Enter designation",required:!0}),o.jsx(me,{label:"Email",type:"email",value:f.email,onChange:v=>m(w=>({...w,email:v.target.value})),placeholder:"Enter email address",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[o.jsx(me,{label:"Phone",value:f.phone,onChange:v=>m(w=>({...w,phone:v.target.value})),placeholder:"Enter phone number",required:!0}),o.jsx(me,{label:"Address",value:f.address,onChange:v=>m(w=>({...w,address:v.target.value})),placeholder:"Enter address",required:!0})]}),"            ",o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-2 sm:gap-3 pt-3 sm:pt-2",children:[o.jsx(U,{type:"button",onClick:()=>i("select"),variant:"outline",size:"sm",className:"w-full sm:w-auto",children:"Cancel"}),o.jsx(U,{onClick:g,className:"bg-blue-500 hover:bg-blue-600 text-white w-full sm:w-auto",size:"sm",leftIcon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),children:"Add Customer"})]})]})]})})}function hd(){return o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-700 p-2 bg-blue-50 border border-blue-200 rounded-md",children:[o.jsx(Bu,{className:"h-4 w-4 text-blue-500 mr-2 flex-shrink-0"}),o.jsxs("span",{children:["Fields highlighted in ",o.jsx("span",{className:"text-blue-700 font-medium",children:"blue"})," with an ",o.jsx("span",{className:"text-error-500 font-bold",children:"*"})," are required."]})]}),o.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-700 p-2 bg-green-50 border border-green-200 rounded-md",children:[o.jsx(Bu,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0"}),o.jsxs("span",{children:["Fields highlighted in ",o.jsx("span",{className:"text-green-700 font-medium",children:"green"})," marked as ",o.jsx("span",{className:"text-green-600",children:"(Optional)"})," can be left blank."]})]})]})}const y8=({data:e,dataType:t,className:n})=>{const[r,s]=x.useState(!1);return x.useEffect(()=>{if(!e||e.length===0)return;const i=e.some(l=>l._mockFlag||l._source==="mock_data"),a=e.some(l=>{const c=String(l.id||"");return c.startsWith("mock-")||c.includes("MOCK")});s(i||a)},[e]),r?o.jsxs("div",{className:`bg-orange-500 text-white p-3 mb-4 rounded-md shadow-md ${n||""}`,style:{border:"2px dashed #e53e3e"},children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg",children:"Mock Data In Use"}),o.jsxs("p",{children:["You are currently viewing ",o.jsxs("strong",{children:["mock ",t]})," data because the API connection failed. This data does not reflect real database content."]})]})]}),"      ",o.jsxs("div",{className:"mt-2 text-sm",children:["To fix this issue:",o.jsxs("ul",{className:"list-disc ml-5 mt-1",children:[o.jsx("li",{children:"Check that the API server is running"}),o.jsx("li",{children:"Verify database connection settings"}),o.jsxs("li",{children:["Run ",o.jsx("code",{className:"bg-orange-700 p-1 rounded",children:"npm run diagnose"})," to diagnose API issues"]}),o.jsxs("li",{children:["Run ",o.jsx("code",{className:"bg-orange-700 p-1 rounded",children:"npm run dev:full"})," to start both servers at once"]})]})]}),o.jsxs("div",{className:"mt-2 p-2 bg-orange-600 rounded text-xs",children:[o.jsx("strong",{children:"TIP:"})," The API server must be running at http://localhost:3001/api for real data to appear."]})]}):null},v8=e=>{if(!e)return console.warn("API response is null or undefined"),[];if(Array.isArray(e))return e;if(e.data&&Array.isArray(e.data)||e.success&&e.data&&Array.isArray(e.data))return e.data;if(e.items&&Array.isArray(e.items))return e.items;if(typeof e=="object"&&!Array.isArray(e)){const t=Object.values(e);if(t.length===1&&Array.isArray(t[0]))return t[0]}return console.warn("Unable to extract array from API response:",e),[]},b8=e=>{if(!e)return"No item";const t=e.customerName||e.customer_name||e.customer&&e.customer.name||"Unknown",n=e.email||e.customer&&e.customer.email||"",r=e.customerId||e.customer_id||e.id||"";return`${t}${n?` (${n})`:""}${r?` [${r}]`:""}`},Kw=[{value:"new",label:"New"},{value:"in_process",label:"In Process"},{value:"qualified",label:"Qualified"},{value:"unqualified",label:"Unqualified"},{value:"lost",label:"Lost"}],w8=[{value:"mobile_crane",label:"Mobile Crane"},{value:"tower_crane",label:"Tower Crane"},{value:"crawler_crane",label:"Crawler Crane"},{value:"pick_and_carry_crane",label:"Pick & Carry Crane"}],j8=[{value:"day",label:"Day Shift"},{value:"night",label:"Night Shift"}];function S8(){const{user:e}=Ge(),t=On(),[n,r]=x.useState([]),[s,i]=x.useState([]),[a,l]=x.useState([]),[c,u]=x.useState(""),[d,h]=x.useState("all"),[f,m]=x.useState(!0),[p,g]=x.useState(!1),[y,b]=x.useState(!1),[v,w]=x.useState(!1),[S,j]=x.useState(null),[k,C]=x.useState({show:!1,title:""}),N=new Date().toISOString().split("T")[0],[D,T]=x.useState({fullName:"",companyName:"",phoneNumber:"",email:"",machineryType:"",location:"",startDate:N,rentalDays:"",shiftTiming:"day",notes:"",assignedTo:"",designation:""}),[L,V]=x.useState(0),[F,_]=x.useState(null),[z,W]=x.useState(!1),[I,E]=x.useState({fullName:"",companyName:"",phoneNumber:"",email:"",serviceNeeded:"",siteLocation:"",startDate:"",rentalDays:1,shiftTiming:"",status:"new",source:"",designation:"",notes:""});x.useEffect(()=>{P(),R()},[]),x.useEffect(()=>{console.log("Filtering leads. Current leads array:",n),B()},[n,c,d]),x.useEffect(()=>{if(v&&S){const A=new Date().toISOString().split("T")[0];E({fullName:S.customerName||"",companyName:S.companyName||"",phoneNumber:S.phone||"",email:S.email||"",serviceNeeded:S.serviceNeeded||"",siteLocation:S.siteLocation||"",startDate:S.startDate||A,rentalDays:S.rentalDays||1,shiftTiming:S.shiftTiming||"",status:S.status||"new",source:S.source||"",designation:S.designation||"",notes:S.notes||""})}},[v,S]);const P=async()=>{try{console.log("Fetching leads from API...");const A=await zl(),$=v8(A);console.log(" Debug leads response:",{originalResponse:A,extractedData:$,isArray:Array.isArray($),length:Array.isArray($)?$.length:"not array",firstLead:$.length>0?b8($[0]):"none"}),console.log("Leads data received:",$),r($||[]),m(!1)}catch(A){console.error("Error fetching leads:",A),K("Error fetching leads","error"),r([]),m(!1)}},R=async()=>{try{const $=`${"http://103.224.243.242:3001/api".replace(/\/$/,"")}/auth/sales-agents`;console.log("Fetching sales agents from API at:",$);const M=await fetch($,{headers:{"Content-Type":"application/json","X-Bypass-Auth":"development-only-123"}});if(M.ok){const Y=await M.json();console.log("Sales agents fetched:",Y),i(Y)}else console.error("Failed to fetch sales agents:",M.status),i([])}catch(A){console.error("Error fetching sales agents:",A),i([])}},B=()=>{if(!Array.isArray(n)){console.warn("Leads is not an array:",n),l([]);return}console.log(`Starting filtering with ${n.length} leads. Current filters:`,{searchTerm:c,statusFilter:d});let A=[...n];c&&(A=A.filter($=>{var M,Y,Z,Q;return((M=$==null?void 0:$.customerName)==null?void 0:M.toLowerCase().includes(c.toLowerCase()))||!1||((Y=$==null?void 0:$.companyName)==null?void 0:Y.toLowerCase().includes(c.toLowerCase()))||!1||((Z=$==null?void 0:$.email)==null?void 0:Z.toLowerCase().includes(c.toLowerCase()))||!1||((Q=$==null?void 0:$.phone)==null?void 0:Q.includes(c))||!1}),console.log(`After search filter: ${A.length} leads`)),d!=="all"?(A=A.filter($=>($==null?void 0:$.status)===d),console.log(`After status filter (${d}): ${A.length} leads`)):(A=A.filter($=>($==null?void 0:$.status)!=="converted"),console.log(`After excluding converted leads: ${A.length} leads`)),console.log(`Final filtered leads: ${A.length} leads match criteria`),l(A)},q=async A=>{var Y;if(A.preventDefault(),!D.fullName||!D.phoneNumber||!D.email||!D.machineryType||!D.location||!D.startDate||!D.rentalDays){K("Please fill in all required fields","error");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(D.email)){K("Please enter a valid email address","error");return}if(!/^\+?[\d\s-]{10,}$/.test(D.phoneNumber)){K("Please enter a valid phone number","error");return}try{const Z=(e==null?void 0:e.role)==="sales_agent"?e.id:D.assignedTo,Q=(e==null?void 0:e.role)==="sales_agent"?e.name:((Y=s.find(we=>we.id===D.assignedTo))==null?void 0:Y.name)||"",ge={customerName:D.fullName,companyName:D.companyName,email:D.email,phone:D.phoneNumber,serviceNeeded:D.machineryType,siteLocation:D.location,startDate:D.startDate,rentalDays:parseInt(D.rentalDays),shiftTiming:D.shiftTiming,status:"new",notes:D.notes,designation:D.designation,...Z&&Z.trim()!==""?{assignedTo:Z,assignedToName:Q}:{}};console.log("Creating lead with data:",ge);const ie=await _5(ge);r(we=>[...we,ie]),g(!1),H(),K("Lead created successfully","success")}catch(Z){console.error("Error creating lead:",Z),K("Error creating lead","error")}},J=async(A,$)=>{try{const M=await bb(A,$);M&&(r(Y=>Y.map(Z=>Z.id===A?M:Z)),K("Lead status updated","success"))}catch(M){console.error("Error updating lead status:",M),K("Error updating lead status","error")}},ne=A=>{console.log("Selected customer:",A),_(A),b(!1),setTimeout(()=>{W(!0)},100)},ae=async()=>{try{if(m(!0),console.log("Creating deal with:",{selectedLead:S,selectedCustomer:F,dealValue:L}),!S){K("No lead selected","error");return}if(!F){K("No customer selected","error");return}const A=await R5({title:`Deal for ${F.name}`,description:`Deal created from lead for ${F.name}${F.companyName?` (${F.companyName})`:""}`,leadId:S.id,customerId:F.id,stage:"qualification",value:L,expectedCloseDate:new Date().toISOString(),customer:{name:F.name,email:F.email||S.email,phone:F.phone||S.phone,company:F.companyName||"",address:F.address||"",designation:F.designation||"N/A"},probability:0,createdBy:(e==null?void 0:e.id)||"",assignedTo:S.assignedTo||(e==null?void 0:e.id)||""});console.log("Deal created successfully:",A),await bb(S.id,"converted"),r($=>$.map(M=>M.id===S.id?{...M,status:"converted"}:M)),K("Lead converted to deal successfully","success"),W(!1),b(!1),j(null),_(null),V(0),t("/deals")}catch(A){console.error("Error converting lead to deal:",A),K("Error converting lead to deal","error")}finally{m(!1)}},G=async A=>{if(A.status!=="qualified"){K("Only qualified leads can be converted to deals","warning");return}j(A),b(!0)},O=async(A,$)=>{try{if($===""){console.log("Unassigning lead",A);const Z=await wb(A,"","Unassigned");Z&&(r(Q=>Q.map(ge=>ge.id===A?Z:ge)),K("Lead unassigned successfully","success"));return}const M=s.find(Z=>Z.id===$);if(!M){K("Selected sales agent not found","error");return}const Y=await wb(A,$,M.name);Y&&(r(Z=>Z.map(Q=>Q.id===A?Y:Q)),K("Lead assignment updated","success"))}catch(M){console.error("Error updating lead assignment:",M),K("Error updating lead assignment","error")}},H=()=>{T({fullName:"",companyName:"",phoneNumber:"",email:"",machineryType:"",location:"",startDate:N,rentalDays:"",shiftTiming:"day",notes:"",assignedTo:"",designation:""})},K=(A,$="success")=>{C({show:!0,title:A,variant:$}),setTimeout(()=>C({show:!1,title:""}),3e3)},fe=async A=>{if(A.preventDefault(),!I.fullName||!I.phoneNumber||!I.email||!I.serviceNeeded||!I.siteLocation||!I.startDate||!I.rentalDays||I.rentalDays<1){K("Please fill in all required fields","error");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(I.email)){K("Please enter a valid email address","error");return}if(!/^\+?[\d\s-]{10,}$/.test(I.phoneNumber)){K("Please enter a valid phone number","error");return}try{const Y=await P5(S.id,{customerName:I.fullName,companyName:I.companyName,email:I.email,phone:I.phoneNumber,serviceNeeded:I.serviceNeeded,siteLocation:I.siteLocation,startDate:I.startDate,rentalDays:I.rentalDays,shiftTiming:I.shiftTiming,status:I.status,source:I.source,designation:I.designation,notes:I.notes});console.log("Update response:",Y),Y?r(Z=>{const Q=Z.map(ge=>ge.id===S.id?Y:ge);return console.log("Updated leads array:",Q),Q}):(console.log("No updated lead returned, refetching all leads"),await P()),w(!1),j(null),K("Lead updated successfully","success")}catch(Y){console.error("Error updating lead:",Y),K("Error updating lead","error")}};return!e||e.role!=="sales_agent"&&e.role!=="admin"?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"You don't have permission to access this page."}):o.jsxs("div",{className:"space-y-6",children:[o.jsx(y8,{data:n,dataType:"leads"}),o.jsxs(le,{children:[o.jsxs(ye,{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-4",children:[o.jsx(ve,{className:"text-xl font-semibold text-gray-900",children:"Leads Pipeline"}),o.jsx(U,{onClick:()=>g(!0),className:"whitespace-nowrap self-start sm:self-auto",leftIcon:o.jsx(Lr,{className:"h-4 w-4"}),variant:"accent",children:"Add Lead"})]}),o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-4 p-4 bg-gradient-to-r from-gray-50/80 to-gray-100/50 rounded-xl border border-gray-200/60 shadow-sm relative z-10",children:[o.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[o.jsx(fr,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),o.jsx(De,{type:"text",placeholder:"Search leads...",value:c,onChange:A=>u(A.target.value),className:"w-full bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 min-w-0 text-gray-900 placeholder:text-gray-500"})]}),o.jsx("div",{className:"relative z-20 w-full sm:w-[180px] flex-shrink-0",children:o.jsx(Te,{value:d,onChange:A=>h(A),options:[{value:"all",label:"All Status"},...Kw],className:"w-full bg-white border-gray-200"})})]})]}),o.jsx(pe,{children:f?o.jsx("div",{className:"text-center py-4",children:"Loading leads..."}):a.length===0?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"No leads found. Create a new lead to get started."}):o.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200/60 bg-white shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Customer"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Service"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Location"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Assigned To"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(A=>o.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/30 transition-all duration-200",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:A.customerName||"Unknown Customer"}),A.companyName&&o.jsx("div",{className:"text-sm text-gray-500",children:A.companyName}),!A.customerName&&!A.companyName&&A.id&&o.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",A.id.substring(0,8),"..."]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 font-medium",children:A.serviceNeeded||"Not specified"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 font-medium",children:A.siteLocation||"Not specified"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(Te,{value:A.status,onChange:$=>J(A.id,$),options:Kw,className:"min-w-[130px]"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:["                        ",(e==null?void 0:e.role)==="admin"?o.jsx(Te,{value:A.assignedTo||"",onChange:$=>O(A.id,$),options:[{value:"",label:"Unassigned"},...s.map($=>({value:$.id,label:$.name}))],className:"min-w-[160px]"}):o.jsx("div",{className:"text-sm text-gray-900",children:!A.assignedTo||A.assignedTo===""?"Unassigned":A.assignedToName||"Unassigned"})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{j(A),w(!0)},leftIcon:o.jsx(Ta,{size:16}),className:"hover:bg-blue-50 hover:border-blue-300",children:"Edit"}),A.status==="qualified"&&o.jsx(U,{variant:"outline",size:"sm",onClick:()=>G(A),leftIcon:o.jsx(ZA,{size:16}),className:"hover:bg-blue-50 hover:border-blue-300",children:"Convert to Deal"})]})})]},A.id))})]})})})]}),o.jsx(Ct,{isOpen:p,onClose:()=>{g(!1),H()},title:"Create New Lead",size:"lg",children:o.jsxs("form",{onSubmit:q,className:"space-y-6",children:[o.jsx(hd,{}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(me,{label:"Full Name",value:D.fullName,onChange:A=>T($=>({...$,fullName:A.target.value})),required:!0}),o.jsx(me,{label:"Company Name",value:D.companyName,onChange:A=>T($=>({...$,companyName:A.target.value})),helperText:"Optional"}),o.jsx(me,{label:"Phone Number",type:"tel",value:D.phoneNumber,onChange:A=>T($=>({...$,phoneNumber:A.target.value})),required:!0}),o.jsx(me,{label:"Email Address",type:"email",value:D.email,onChange:A=>T($=>({...$,email:A.target.value})),required:!0}),o.jsx(Te,{label:"Type of Machinery Needed",options:[{value:"",label:"Select Machinery Type"},...w8],value:D.machineryType,onChange:A=>T($=>({...$,machineryType:A})),required:!0}),o.jsx(me,{label:"Site Location",value:D.location,onChange:A=>T($=>({...$,location:A.target.value})),required:!0}),o.jsx(me,{label:"Start Date",type:"date",value:D.startDate,min:N,onChange:A=>T($=>({...$,startDate:A.target.value})),required:!0}),o.jsx(me,{label:"Number of Rental Days",type:"number",min:"1",value:D.rentalDays,onChange:A=>{const $=Math.max(1,parseInt(A.target.value)||1);T(M=>({...M,rentalDays:$.toString()}))},required:!0}),o.jsx(Te,{label:"Shift Timing",options:j8,value:D.shiftTiming,onChange:A=>T($=>({...$,shiftTiming:A})),required:!0}),o.jsx(me,{label:"Designation",value:D.designation,onChange:A=>T($=>({...$,designation:A.target.value})),placeholder:"Enter designation",helperText:"Optional"}),(e==null?void 0:e.role)==="admin"&&o.jsx(Te,{label:"Assign To",options:[{value:"",label:"Select Sales Agent"},...s.map(A=>({value:A.id,label:A.name}))],value:D.assignedTo,onChange:A=>T($=>({...$,assignedTo:A})),required:!0})]}),o.jsx(Qn,{label:"Additional Notes",value:D.notes,onChange:A=>T($=>({...$,notes:A.target.value})),rows:3}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>{g(!1),H()},children:"Cancel"}),"            ",o.jsx(U,{type:"submit",variant:"accent",children:"Create Lead"})]})]})}),o.jsx(x8,{isOpen:y,onClose:()=>{b(!1),j(null),_(null),V(0)},onSelect:ne,initialCustomerData:S?{name:S.customerName,email:S.email||"",phone:S.phone||"",companyName:S.companyName||"",address:"",designation:S.designation||""}:void 0}),o.jsx(Ct,{isOpen:z,onClose:()=>{W(!1),j(null),_(null),V(0)},title:"Enter Deal Value",size:"sm",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(me,{label:"Deal Value",type:"number",value:L===0?"":L,onChange:A=>{const $=A.target.value;V($===""?0:Number($))},placeholder:"Enter deal value",helperText:"Leave empty if deal value is not yet determined"}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(U,{variant:"outline",onClick:()=>{W(!1),j(null),_(null),V(0)},children:"Cancel"}),o.jsx(U,{onClick:ae,variant:"accent",children:"Create Deal"})]})]})}),o.jsx(Ct,{isOpen:v,onClose:()=>{w(!1),j(null)},title:"Edit Lead Details",size:"lg",children:S&&o.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[o.jsx(hd,{}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(me,{label:"Full Name",value:I.fullName,onChange:A=>E($=>({...$,fullName:A.target.value})),required:!0}),o.jsx(me,{label:"Company Name",value:I.companyName,onChange:A=>E($=>({...$,companyName:A.target.value})),helperText:"Optional"}),o.jsx(me,{label:"Phone Number",type:"tel",value:I.phoneNumber,onChange:A=>E($=>({...$,phoneNumber:A.target.value})),required:!0}),o.jsx(me,{label:"Email Address",type:"email",value:I.email,onChange:A=>E($=>({...$,email:A.target.value})),required:!0}),o.jsx(me,{label:"Service Needed",value:I.serviceNeeded,onChange:A=>E($=>({...$,serviceNeeded:A.target.value})),required:!0}),o.jsx(me,{label:"Site Location",value:I.siteLocation,onChange:A=>E($=>({...$,siteLocation:A.target.value})),required:!0}),o.jsx(me,{label:"Start Date",type:"date",value:I.startDate,onChange:A=>E($=>({...$,startDate:A.target.value})),required:!0}),o.jsx(me,{label:"Rental Days",type:"number",min:"1",value:I.rentalDays.toString(),onChange:A=>E($=>({...$,rentalDays:parseInt(A.target.value)||1})),required:!0}),o.jsx(me,{label:"Shift Timing",value:I.shiftTiming,onChange:A=>E($=>({...$,shiftTiming:A.target.value})),placeholder:"e.g., Day Shift, Night Shift"}),o.jsx(Te,{label:"Status",value:I.status,onChange:A=>E($=>({...$,status:A})),options:[{label:"New",value:"new"},{label:"In Process",value:"in_process"},{label:"Qualified",value:"qualified"},{label:"Unqualified",value:"unqualified"},{label:"Lost",value:"lost"},{label:"Converted",value:"converted"}],required:!0}),o.jsx(Te,{label:"Source",value:I.source,onChange:A=>E($=>({...$,source:A})),options:[{label:"Select Source",value:""},{label:"Website",value:"website"},{label:"Referral",value:"referral"},{label:"Direct",value:"direct"},{label:"Social Media",value:"social"},{label:"Email",value:"email"},{label:"Phone",value:"phone"},{label:"Other",value:"other"}]})]}),o.jsx("div",{children:o.jsx(me,{label:"Designation",value:I.designation,onChange:A=>E($=>({...$,designation:A.target.value})),placeholder:"Job title or role"})}),o.jsx("div",{children:o.jsx(Qn,{label:"Notes",value:I.notes,onChange:A=>E($=>({...$,notes:A.target.value})),placeholder:"Additional notes or comments...",rows:3})}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>{w(!1),j(null)},children:"Cancel"}),o.jsx(U,{type:"submit",variant:"accent",children:"Save Changes"})]})]})}),k.show&&o.jsx(ft,{title:k.title,variant:k.variant,isVisible:k.show,onClose:()=>C({show:!1,title:""})})]})}function N8({toast:e,onRemove:t}){return x.useEffect(()=>{const n=setTimeout(()=>{t(e.id)},e.duration||3e3);return()=>clearTimeout(n)},[e.id,e.duration,t]),o.jsxs("div",{className:`
      fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg
      ${e.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}
    `,children:[e.type==="success"?o.jsx(FN,{size:20,className:"text-green-600"}):o.jsx(Ol,{size:20,className:"text-red-600"}),o.jsx("span",{className:`text-sm font-medium ${e.type==="success"?"text-green-800":"text-red-800"}`,children:e.message}),o.jsx("button",{onClick:()=>t(e.id),className:`ml-2 ${e.type==="success"?"text-green-600 hover:text-green-800":"text-red-600 hover:text-red-800"}`,children:o.jsx(Ni,{size:16})})]})}function C8(){const[e,t]=x.useState([]),n=(s,i="success")=>{const a=Date.now().toString();t(l=>[...l,{id:a,message:s,type:i}])},r=s=>{t(i=>i.filter(a=>a.id!==s))};return x.useEffect(()=>{window.showToast=n},[]),o.jsx("div",{className:"fixed top-0 right-0 z-50 space-y-2 p-4",children:e.map(s=>o.jsx(N8,{toast:s,onRemove:r},s.id))})}const k8="modulepreload",D8=function(e){return"/"+e},Xw={},Jw=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=D8(c),c in Xw)return;Xw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":k8,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},E8=[{value:"incident1",label:"Incident 1 - 5,000",amount:5e3},{value:"incident2",label:"Incident 2 - 10,000",amount:1e4},{value:"incident3",label:"Incident 3 - 15,000",amount:15e3}],kD=({calculations:e,formData:t,additionalParams:n,showGst:r=!0})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yn,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Working Cost"})]}),o.jsx("span",{className:"font-bold text-blue-900",children:Ue(e.workingCost)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tn,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Food & Accommodation"})]}),o.jsx("span",{className:"font-bold text-green-900",children:Ue(e.foodAccomCost)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ht,{className:"w-4 h-4 text-orange-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Mob/Demob Cost"})]}),o.jsx("span",{className:"font-bold text-orange-900",children:Ue(e.mobDemobCost)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ox,{className:"w-4 h-4 text-red-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Risk & Usage"})]}),o.jsx("span",{className:"font-bold text-red-900",children:Ue(e.riskAdjustment+e.usageLoadFactor)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ir,{className:"w-4 h-4 text-purple-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Extra Commercial Charges"})]}),o.jsx("span",{className:"font-bold text-purple-900",children:Ue(Number(t.extraCharge))})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ji,{className:"w-4 h-4 text-indigo-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Incidental Charges"})]}),o.jsx("span",{className:"font-bold text-indigo-900",children:Ue(t.incidentalCharges.reduce((s,i)=>{const a=E8.find(l=>l.value===i);return s+(a?a.amount:0)},0))})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tn,{className:"w-4 h-4 text-cyan-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Other Factors"})]}),o.jsx("span",{className:"font-bold text-cyan-900",children:Ue((t.otherFactors.includes("rigger")?(n==null?void 0:n.riggerAmount)||4e4:0)+(t.otherFactors.includes("helper")?(n==null?void 0:n.helperAmount)||12e3:0))})]}),o.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[o.jsx("span",{children:"Subtotal"}),o.jsx("span",{className:"font-semibold text-gray-900",children:Ue(e.totalAmount-e.gstAmount)})]}),r&&t.includeGst&&o.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[o.jsx("span",{children:"GST (18%)"}),o.jsx("span",{className:"font-semibold text-gray-900",children:Ue(e.gstAmount)})]}),o.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-300",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total Amount"}),o.jsx("span",{className:"text-2xl font-bold text-blue-600",children:Ue(e.totalAmount)})]})]})})]}),$c=[{id:"customer_details",label:"Customer Details",description:"Customer name, contact information, and address",category:"Customer Information",icon:o.jsx(pi,{className:"w-4 h-4"}),defaultChecked:!0},{id:"company_info",label:"Company Information",description:"Company name and business details",category:"Customer Information",icon:o.jsx(tI,{className:"w-4 h-4"}),defaultChecked:!0},{id:"project_duration",label:"Project Duration",description:"Number of days and working hours",category:"Project Details",icon:o.jsx(Gn,{className:"w-4 h-4"}),defaultChecked:!0},{id:"site_location",label:"Site Location & Distance",description:"Work site location and distance from base",category:"Project Details",icon:o.jsx(Wd,{className:"w-4 h-4"}),defaultChecked:!0},{id:"shift_details",label:"Shift & Working Hours",description:"Shift type, day/night, and working schedule",category:"Project Details",icon:o.jsx(Yn,{className:"w-4 h-4"}),defaultChecked:!0},{id:"equipment_list",label:"Equipment List",description:"Selected machines and equipment details",category:"Equipment Information",icon:o.jsx(Ht,{className:"w-4 h-4"}),defaultChecked:!0},{id:"equipment_rates",label:"Equipment Base Rates",description:"Base rental rates for each equipment",category:"Equipment Information",icon:o.jsx(ir,{className:"w-4 h-4"}),defaultChecked:!1},{id:"working_cost",label:"Working Cost",description:"Basic working cost calculation",category:"Cost Breakdown",icon:o.jsx(dp,{className:"w-4 h-4"}),defaultChecked:!0},{id:"food_accommodation",label:"Food & Accommodation",description:"Food and accommodation charges",category:"Cost Breakdown",icon:o.jsx(tn,{className:"w-4 h-4"}),defaultChecked:!0},{id:"mob_demob",label:"Mobilization/Demobilization",description:"Transportation and setup costs",category:"Cost Breakdown",icon:o.jsx(Ht,{className:"w-4 h-4"}),defaultChecked:!0},{id:"risk_usage",label:"Risk & Usage Factors",description:"Risk assessment and usage load factors",category:"Cost Breakdown",icon:o.jsx(ox,{className:"w-4 h-4"}),defaultChecked:!0},{id:"extra_charges",label:"Extra Commercial Charges",description:"Additional commercial charges",category:"Cost Breakdown",icon:o.jsx(ir,{className:"w-4 h-4"}),defaultChecked:!0},{id:"incidental_charges",label:"Incidental Charges",description:"Miscellaneous and incidental costs",category:"Cost Breakdown",icon:o.jsx(mi,{className:"w-4 h-4"}),defaultChecked:!0},{id:"other_factors",label:"Other Factors",description:"Rigger, helper, and other operational factors",category:"Cost Breakdown",icon:o.jsx(tn,{className:"w-4 h-4"}),defaultChecked:!0},{id:"cost_summary",label:"Cost Summary",description:"Detailed breakdown of all costs",category:"Financial Summary",icon:o.jsx(dp,{className:"w-4 h-4"}),defaultChecked:!0},{id:"gst_details",label:"GST Details",description:"GST calculation and total amount",category:"Financial Summary",icon:o.jsx(ir,{className:"w-4 h-4"}),defaultChecked:!0},{id:"total_amount",label:"Total Amount",description:"Final total amount including all charges",category:"Financial Summary",icon:o.jsx(ir,{className:"w-4 h-4"}),defaultChecked:!0},{id:"terms_conditions",label:"Terms & Conditions",description:"Payment terms and business conditions",category:"Terms & Conditions",icon:o.jsx(Wt,{className:"w-4 h-4"}),defaultChecked:!0},{id:"payment_terms",label:"Payment Terms",description:"Payment schedule and billing details",category:"Terms & Conditions",icon:o.jsx(ir,{className:"w-4 h-4"}),defaultChecked:!0}],DD=({isOpen:e,onClose:t,onPrint:n})=>{const[r,s]=x.useState($c.filter(d=>d.defaultChecked).map(d=>d.id)),i=d=>{s(h=>h.includes(d)?h.filter(f=>f!==d):[...h,d])},a=()=>{s($c.map(d=>d.id))},l=()=>{s([])},c=()=>{n(r),t()},u=$c.reduce((d,h)=>(d[h.category]||(d[h.category]=[]),d[h.category].push(h),d),{});return o.jsx(Ct,{isOpen:e,onClose:t,title:"Print Options",size:"lg",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Select the information you want to include in your quotation print:"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:"outline",size:"sm",onClick:a,children:"Select All"}),o.jsx(U,{variant:"outline",size:"sm",onClick:l,children:"Deselect All"})]})]}),o.jsx("div",{className:"max-h-96 overflow-y-auto space-y-4",children:Object.entries(u).map(([d,h])=>o.jsxs(le,{children:[o.jsx(ye,{className:"pb-3",children:o.jsx(ve,{className:"text-base font-medium text-gray-900",children:d})}),o.jsx(pe,{className:"pt-0",children:o.jsx("div",{className:"space-y-3",children:h.map(f=>o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("input",{type:"checkbox",id:f.id,checked:r.includes(f.id),onChange:()=>i(f.id),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("label",{htmlFor:f.id,className:"flex items-center gap-2 cursor-pointer",children:[f.icon,o.jsx("span",{className:"text-sm font-medium text-gray-900",children:f.label})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f.description})]})]},f.id))})})]},d))}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Wt,{className:"w-4 h-4 text-blue-600"}),o.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Selected: ",r.length," of ",$c.length," options"]})]}),o.jsx("p",{className:"text-xs text-blue-700",children:"Your quotation will be generated with the selected information. You can always come back and modify these settings for future prints."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[o.jsx(U,{variant:"outline",onClick:t,children:"Cancel"}),o.jsxs(U,{onClick:c,disabled:r.length===0,className:"bg-blue-600 hover:bg-blue-700",children:["Generate PDF (",r.length," items)"]})]})]})})};function T8(e,t){let n=e;return t.includes("customer_details")||(n=n.replace(/<div[^>]*id=["']customer-details["'][^>]*>[\s\S]*?<\/div>/gi,"")),n}const P8={id:"sample-quotation",leadId:"sample-lead",customerId:"sample-customer",customerName:"Sample Company Ltd.",customerContact:{name:"John Smith",email:"john.smith@samplecompany.com",phone:"+91 98765 43210",company:"Sample Company Ltd.",address:"123 Business Park, Tech City, State - 400001",designation:"Procurement Manager"},orderType:"monthly",numberOfDays:30,workingHours:8,selectedEquipment:{id:"sample-equipment",equipmentId:"crane-001",name:"50T Mobile Crane",baseRates:{micro:5e3,small:4500,monthly:4e3,yearly:3500}},selectedMachines:[{id:"sample-equipment",machineType:"mobile_crane",equipmentId:"crane-001",name:"50T Mobile Crane",baseRates:{micro:5e3,small:4500,monthly:4e3,yearly:3500},baseRate:4e3,runningCostPerKm:100,quantity:1},{id:"sample-equipment-2",machineType:"mobile_crane",equipmentId:"crane-002",name:"100T Mobile Crane",baseRates:{micro:8e3,small:7500,monthly:7e3,yearly:6500},baseRate:7e3,runningCostPerKm:150,quantity:2}],foodResources:2,accomResources:2,siteDistance:50,usage:"normal",riskFactor:"low",extraCharge:5e3,incidentalCharges:["incident1","incident2"],otherFactorsCharge:2e3,billing:"gst",workingCost:4e3,includeGst:!0,shift:"single",dayNight:"day",mobDemob:15e3,mobRelaxation:5e3,runningCostPerKm:100,totalRent:15e4,version:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",status:"draft",machineType:"mobile_crane",otherFactors:["rigger","area","customer_reputation"],dealType:"credit",sundayWorking:"no"};function _8({template:e,quotation:t,onDownloadPDF:n,onSendEmail:r,className:s=""}){const[i,a]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[h,f]=x.useState({show:!1,title:""});x.useEffect(()=>{if(!e){d("Template is required");return}if(!e.content){d("Template content is required");return}d(null),console.log("Template preview received template:",e),console.log("Template preview received quotation:",t)},[e,t]);const m=t||P8,p=(j,k="success")=>{f({show:!0,title:j,variant:k}),setTimeout(()=>f({show:!1,title:""}),3e3)};let g="";try{e&&e.content?(g=Ox(m,e),console.log("Generated merged content:",g?g.substring(0,100)+"...":"empty")):(console.warn("Cannot merge template - missing template or content"),g='<div style="padding: 20px;">Template content could not be loaded</div>')}catch(j){console.error("Error merging template:",j),d("Failed to merge template with quotation data"),g='<div style="padding: 20px; color: red;">Error generating preview</div>'}const b=[{key:"customer_name",label:"Customer Name",category:"Customer"},{key:"equipment_name",label:"Equipment Name",category:"Equipment"},{key:"project_duration",label:"Project Duration",category:"Project"},{key:"total_amount",label:"Total Amount",category:"Financial"}].reduce((j,k)=>(j[k.category]||(j[k.category]=[]),j[k.category].push(k),j),{}),v=()=>{if(!g){p("No content to copy","error");return}navigator.clipboard.writeText(g).then(()=>{p("Content copied to clipboard","success")}).catch(()=>{p("Failed to copy content","error")})},w=()=>{c(!0)},S=j=>{p(`Generating PDF with ${j.length} selected options`,"success");const k=T8(g,j);console.log("Filtered content for PDF:",k),n&&n()};return u?o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4",children:o.jsxs("p",{className:"text-xs sm:text-sm text-red-800",children:[o.jsx("strong",{children:"Error:"})," ",u]})}):o.jsxs("div",{className:`space-y-4 sm:space-y-6 ${s}`,children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 sm:p-4",children:o.jsxs("p",{className:"text-xs sm:text-sm text-blue-800",children:[o.jsx("strong",{children:"Preview Mode:"})," ",t?"Showing preview with actual quotation data.":"Showing preview with sample data. Actual values will be used when generating the quotation."]})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[o.jsx("div",{className:"flex-1",children:o.jsxs(le,{children:[o.jsx(ye,{className:"p-3 sm:p-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[o.jsx(ve,{className:"text-base sm:text-lg",children:"Quotation Preview"}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto",children:[o.jsxs(U,{variant:"outline",size:"xs",onClick:w,className:"flex items-center gap-1 w-full sm:w-auto",children:[o.jsx(Ud,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Download PDF"]}),r&&o.jsxs(U,{variant:"outline",size:"xs",onClick:r,className:"flex items-center gap-1 w-full sm:w-auto",children:[o.jsx(fa,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Send Email"]})]})]})}),o.jsxs(pe,{className:"p-3 sm:p-6",children:[u?o.jsxs("div",{className:"bg-red-50 border border-red-100 rounded-md p-3 sm:p-4 text-red-800 text-xs sm:text-sm mb-3 sm:mb-4",children:[o.jsxs("p",{className:"font-medium",children:["Error: ",u]}),o.jsx("p",{className:"mt-1",children:"Please try refreshing the page or select a different template."})]}):null,g?o.jsx("div",{className:"prose max-w-none border rounded-md p-3 sm:p-4 text-xs sm:text-sm overflow-x-auto",dangerouslySetInnerHTML:{__html:g}}):o.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500 py-8 sm:py-16 border border-dashed rounded-md",children:[o.jsx(st,{className:"w-6 sm:w-8 h-6 sm:h-8 animate-spin mb-3 sm:mb-4"}),o.jsx("p",{className:"text-xs sm:text-sm",children:"Preparing preview..."})]}),e&&!e.content&&o.jsxs("div",{className:"mt-3 sm:mt-4 bg-yellow-50 border border-yellow-100 rounded-md p-3 sm:p-4 text-yellow-800 text-xs sm:text-sm",children:[o.jsx("p",{className:"font-medium",children:"Warning: Template has no content"}),o.jsx("p",{className:"mt-1",children:"This template appears to be empty. Please edit the template to add content."})]})]})]})}),o.jsxs("div",{className:"w-full md:w-80 bg-white rounded-lg shadow p-6 mt-6 md:mt-0",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Quotation Summary"}),o.jsx(kD,{calculations:{workingCost:m.workingCost||0,foodAccomCost:((m.foodResources||0)+(m.accomResources||0))*(m.numberOfDays||1),mobDemobCost:m.mobDemob||0,riskAdjustment:m.riskFactor==="high"?1e4:m.riskFactor==="medium"?5e3:0,usageLoadFactor:m.usage==="heavy"?5e3:0,extraCharges:m.extraCharge||0,gstAmount:m.includeGst?Math.round((m.totalRent||0)*.18):0,totalAmount:m.includeGst?Math.round((m.totalRent||0)*1.18):m.totalRent||0},formData:{extraCharge:m.extraCharge||0,incidentalCharges:m.incidentalCharges||[],otherFactors:m.otherFactors||[],includeGst:m.includeGst},additionalParams:{riggerAmount:4e4,helperAmount:12e3}})]})]}),o.jsxs(le,{children:[o.jsx(ye,{className:"p-3 sm:p-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[o.jsxs(ve,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(Wt,{className:"h-4 sm:h-5 w-4 sm:w-5"}),"Template: ",e.name||"Untitled Template"]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto",children:[o.jsxs(U,{variant:"outline",size:"xs",onClick:()=>a(!i),className:"flex items-center gap-1 w-full sm:w-auto",children:[o.jsx(Bu,{className:"w-3 h-3 sm:w-4 sm:h-4"}),i?"Hide":"Show"," Placeholders"]}),o.jsx(U,{variant:"outline",size:"xs",onClick:v,disabled:!g,className:"w-full sm:w-auto",children:"Copy Content"})]})]})}),e.description&&o.jsx(pe,{className:"px-3 sm:px-6",children:o.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:e.description})})]}),i&&o.jsxs(le,{children:[o.jsx(ye,{className:"p-3 sm:p-6",children:o.jsx(ve,{className:"text-base sm:text-lg",children:"Available Placeholders"})}),o.jsxs(pe,{className:"p-3 sm:p-6",children:[o.jsx("div",{className:"space-y-3 sm:space-y-4",children:Object.entries(b).map(([j,k])=>o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:j}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:k.map(C=>o.jsx("div",{className:"text-xs font-mono bg-gray-100 px-2 py-1 rounded cursor-pointer hover:bg-gray-200 transition-colors truncate",title:C.description,onClick:()=>{navigator.clipboard.writeText(`{{${C.key}}}`),p(`Copied {{${C.key}}}`,"success")},children:`{{${C.key}}}`},C.key))})]},j))}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-3 sm:mt-4",children:"Click on any placeholder to copy it to your clipboard."})]})]}),h.show&&o.jsx(ft,{title:h.title,variant:h.variant,isVisible:h.show,onClose:()=>f({show:!1,title:""})}),o.jsx(DD,{isOpen:l,onClose:()=>c(!1),onPrint:S})]})}const A8=[{value:"all",label:"All Status"},{value:"draft",label:"Draft"},{value:"sent",label:"Sent"},{value:"accepted",label:"Accepted"},{value:"rejected",label:"Rejected"}];function I8(){const{user:e}=Ge(),t=On(),[n,r]=x.useState([]),[s,i]=x.useState([]),[a,l]=x.useState([]),[c,u]=x.useState(""),[d,h]=x.useState("all"),[f,m]=x.useState(!0),[p,g]=x.useState(null),[y,b]=x.useState(null),[v,w]=x.useState(null),[S,j]=x.useState(!1),[k,C]=x.useState(!1),[N,D]=x.useState(""),[T,L]=x.useState(!1),[V,F]=x.useState(!1),[_,z]=x.useState({show:!1,title:""}),[W,I]=x.useState(null);x.useEffect(()=>{E()},[]),x.useEffect(()=>{R()},[n,c,d]);const E=async()=>{try{m(!0),g(null),console.log("QuotationManagement: Starting to fetch data...");const{getCustomers:M}=await Jw(async()=>{const{getCustomers:ce}=await Promise.resolve().then(()=>gb);return{getCustomers:ce}},void 0);let Y=[],Z=[],Q=[];try{Y=await vV(),console.log("QuotationManagement: Fetched quotations:",(Y==null?void 0:Y.length)||0)}catch(ce){console.error("Error fetching quotations:",ce),B("Warning: Could not load quotations","warning")}try{Z=await th(),console.log("QuotationManagement: Fetched deals:",(Z==null?void 0:Z.length)||0)}catch(ce){console.error("Error fetching deals:",ce),B("Warning: Could not load deals.","warning"),Z=[]}try{Q=await M(),console.log("QuotationManagement: Fetched customers:",(Q==null?void 0:Q.length)||0)}catch(ce){console.error("Error fetching customers:",ce),B("Warning: Could not load customers","warning")}const ge=new Map;Q.forEach(ce=>{ge.set(ce.id,ce)}),Y.length>0&&console.log("Sample quotation data:",{id:Y[0].id,customerId:Y[0].customerId,customerName:Y[0].customerName,customerContact:Y[0].customerContact,selectedEquipment:Y[0].selectedEquipment}),Q.length>0&&console.log("Sample customer data:",{id:Q[0].id,name:Q[0].name});const ie=Y.map(ce=>{const je={...ce},nt=ge.get(ce.customerId);return nt?(console.log(`Found matching customer for quotation ${ce.id}: ${nt.name}`),je.customerName=je.customerName||nt.name,je.customerContact=je.customerContact||{},je.customerContact.name||(je.customerContact.name=nt.contactName),je.customerContact.company||(je.customerContact.company=nt.name),je.customerContact.email||(je.customerContact.email=nt.email),je.customerContact.phone||(je.customerContact.phone=nt.phone),je.customerContact.address||(je.customerContact.address=nt.address)):console.log(`No matching customer found for quotation ${ce.id} with customerId ${ce.customerId}`),je.customerName=je.customerName||"Unknown Customer",je.customerContact=je.customerContact||{},je.customerContact.name=je.customerContact.name||"Contact Not Available",je.customerContact.company=je.customerContact.company||"No Company",je});r(ie);const we=Z.filter(ce=>ce.stage==="qualification"||ce.stage==="proposal");i(we),await P()}catch(M){console.error("Error fetching data:",M),g("Failed to load quotations. Please try again."),B("Error fetching data","error")}finally{m(!1)}},P=async()=>{try{const M=await I2();if(M&&M.defaultTemplateId){const Z=await N2(M.defaultTemplateId);if(Z){console.log("Loaded template from config:",Z),w(Z);return}}try{const Q=await(await Jw(()=>Promise.resolve().then(()=>gb),void 0)).getTemplates();if(Q&&Q.length>0){const ge=Q.find(ie=>ie.isDefault)||Q[0];console.log("Loaded template from templateService:",ge),w(ge);return}}catch(Z){console.error("Error loading templates from service:",Z)}const Y={id:"fallback-template",name:"Default Template",description:"Standard quotation template",content:`<div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 15px;">
          <div style="text-align: center; margin-bottom: 15px;">
            <h1 style="color: #0052CC; margin: 0; font-size: 22px; font-weight: 600;">ASP CRANES</h1>
            <h2 style="color: #42526E; margin: 2px 0; font-size: 16px; font-weight: 500;">QUOTATION</h2>
            <hr style="border: none; height: 1px; background: #0052CC; margin: 8px 0 0 0;">
          </div>
          <div style="margin-bottom: 15px;">
            <p><strong>Equipment:</strong> {{equipment_name}}</p>
            <p><strong>Duration:</strong> {{project_duration}}</p>
            <p><strong>Total Amount:</strong> {{total_amount}}</p>
          </div>
        </div>`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isDefault:!0};console.log("Using fallback template"),w(Y)}catch(M){console.error("Error loading default template:",M);const Y={id:"emergency-template",name:"Basic Template",description:"Basic quotation template",content:'<div style="padding: 20px; font-family: Arial;">Basic quotation for {{equipment_name}}</div>',createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isDefault:!0};w(Y)}},R=()=>{let M=[...n];c&&(M=M.filter(Y=>{var Z,Q,ge;return(((Z=Y.customerContact)==null?void 0:Z.name)||Y.customerName||"").toLowerCase().includes(c.toLowerCase())||(((Q=Y.customerContact)==null?void 0:Q.company)||"").toLowerCase().includes(c.toLowerCase())||(Y.machineType||"").toLowerCase().includes(c.toLowerCase())||Y.selectedMachines&&Y.selectedMachines.some(ie=>(ie.name||"").toLowerCase().includes(c.toLowerCase()))||(((ge=Y.selectedEquipment)==null?void 0:ge.name)||"").toLowerCase().includes(c.toLowerCase())})),d!=="all"&&(M=M.filter(Y=>Y.status===d)),l(M)},B=(M,Y="success",Z)=>{z({show:!0,title:M,description:Z,variant:Y}),setTimeout(()=>{z({show:!1,title:""})},5e3)},q=()=>{if(!N){B("Please select a deal","warning");return}console.log("[handleProceedWithDeal] Navigating to /quotations/create?dealId="+N),t(`/quotations/create?dealId=${N}`),C(!1),D("")},J=async M=>{try{I(M.id),console.log("Editing quotation:",M);const Y=M.dealId||M.leadId;if(!Y){B("Invalid quotation data","error","Missing deal ID");return}const[Z,Q]=await Promise.all([rD(M.id),ya(Y)]);if(!Q){B("Associated deal not found","error","The deal associated with this quotation no longer exists");return}if(!Z){B("Quotation not found","error","The quotation could not be found");return}console.log("Navigating to:",`/quotations/create?dealId=${Y}&quotationId=${M.id}`),t(`/quotations/create?dealId=${Y}&quotationId=${M.id}`,{state:{quotation:Z,deal:Q}})}catch(Y){console.error("Error preparing quotation edit:",Y),B("Error preparing quotation edit","error")}finally{I(null)}},[ne,ae]=x.useState(!1),[G,O]=x.useState(null),H=M=>{O(M),ae(!0)},K=M=>{G&&fe(G,M),ae(!1),O(null)},fe=async(M,Y)=>{var Z,Q,ge,ie;try{if(L(!0),console.log("Selected options for PDF:",Y),!v){B("No default template configured","warning","Please set a default template in Configuration settings.");return}let we=v.content;we=we.replace(/\{\{customer_name\}\}/g,((Z=M.customerContact)==null?void 0:Z.name)||M.customerName||""),we=we.replace(/\{\{equipment_name\}\}/g,((Q=M.selectedEquipment)==null?void 0:Q.name)||""),we=we.replace(/\{\{project_duration\}\}/g,`${M.numberOfDays} days`),we=we.replace(/\{\{total_amount\}\}/g,((ge=M.totalRent)==null?void 0:ge.toLocaleString("en-IN",{style:"currency",currency:"INR"}))||"");const ce=window.open("","_blank");if(!ce){B("Popup blocked","error","Please allow popups to download PDF.");return}ce.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Quotation - ${((ie=M.customerContact)==null?void 0:ie.name)||"Customer"}</title>
          <style>
            @media print {
              body { margin: 0; padding: 20px; }
              @page { size: A4; margin: 20mm; }
            }
          </style>
        </head>
        <body>
          ${we}
        </body>
        </html>
      `),await new Promise(je=>setTimeout(je,1e3)),ce.document.close(),ce.print(),ce.close(),B("PDF generated successfully","success")}catch(we){console.error("Error generating PDF:",we),B("Failed to generate PDF","error")}finally{L(!1)}},A=async M=>{var Y,Z,Q,ge,ie,we;try{if(F(!0),!v){B("No default template configured","warning","Please set a default template in Configuration settings.");return}let ce=v.content;ce=ce.replace(/\{\{customer_name\}\}/g,((Y=M.customerContact)==null?void 0:Y.name)||M.customerName||""),ce=ce.replace(/\{\{equipment_name\}\}/g,((Z=M.selectedEquipment)==null?void 0:Z.name)||""),ce=ce.replace(/\{\{project_duration\}\}/g,`${M.numberOfDays} days`),ce=ce.replace(/\{\{total_amount\}\}/g,((Q=M.totalRent)==null?void 0:Q.toLocaleString("en-IN",{style:"currency",currency:"INR"}))||"");let je="Equipment";M.selectedMachines&&M.selectedMachines.length>1?je=`${M.selectedMachines.length} machines (${M.selectedMachines.map(Xl=>Xl.name).join(", ")})`:M.selectedMachines&&M.selectedMachines.length===1?je=M.selectedMachines[0].name:(ge=M.selectedEquipment)!=null&&ge.name?je=M.selectedEquipment.name:M.machineType&&(je=M.machineType);const nt=`Quotation from ASP Cranes - ${M.id.slice(0,8).toUpperCase()}`,Br=((ie=M.customerContact)==null?void 0:ie.name)||M.customerName||"Customer",Ch=((we=M.customerContact)==null?void 0:we.email)||"",kh=`Dear ${Br},

Please find your quotation details for ${je} below:

${ce}

Best regards,
ASP Cranes Team`,Kl=`mailto:${Ch}?subject=${encodeURIComponent(nt)}&body=${encodeURIComponent(kh)}`;window.open(Kl),B("Email prepared successfully","success","Your email client should open with the quotation details.")}catch(ce){console.error("Error sending to customer:",ce),B("Error preparing email","error")}finally{F(!1)}},$=x.useMemo(()=>s.length===0?[{value:"",label:"No deals available"}]:s.map(M=>{var Y,Z;return{value:M.id,label:`${((Y=M.customer)==null?void 0:Y.name)||"Unnamed"} - ${((Z=M.customer)==null?void 0:Z.company)||"No Company"} (${Ue(M.value)})`}}),[s]);return!e||e.role!=="sales_agent"&&e.role!=="admin"?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"You don't have permission to access this page."}):o.jsx("div",{className:"flex flex-col min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8 max-w-7xl",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Quotation Management"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Create, manage, and send quotations to customers"})]}),"          ",o.jsx(U,{onClick:()=>C(!0),className:"w-full sm:w-auto",leftIcon:o.jsx(Lr,{className:"w-4 h-4"}),variant:"accent",children:"Create New Quotation"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 mb-6",children:[o.jsx("div",{className:"flex-1",children:o.jsx(De,{placeholder:"Search by customer, company or equipment...",value:c,onChange:M=>u(M.target.value),leftIcon:o.jsx(fr,{className:"w-4 h-4"}),disabled:f})}),o.jsx("div",{className:"w-full sm:w-48",children:o.jsx(Te,{options:A8,value:d,onChange:h,leftIcon:o.jsx(dI,{className:"w-4 h-4"}),disabled:f})})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Quotation History"})}),o.jsx(pe,{className:"px-0 sm:px-6",children:f?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(st,{className:"w-8 h-8 animate-spin text-primary-600"})}):p?o.jsxs("div",{className:"text-center py-8 text-red-500",children:[o.jsx(Ni,{className:"w-12 h-12 mx-auto mb-4 text-red-400"}),o.jsx("p",{className:"text-lg font-medium",children:p}),o.jsx(U,{variant:"outline",size:"sm",onClick:E,className:"mt-4",children:"Try Again"})]}):a.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Wt,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"text-lg font-medium",children:"No quotations found"}),o.jsx("p",{className:"text-sm",children:"Create a new quotation to get started."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-2 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),o.jsx("th",{scope:"col",className:"px-2 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Equipment"}),o.jsx("th",{scope:"col",className:"px-2 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"Duration"}),o.jsx("th",{scope:"col",className:"px-2 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Total Rent"}),o.jsx("th",{scope:"col",className:"px-2 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{scope:"col",className:"px-2 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(M=>{var Y,Z,Q,ge;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 sm:px-6 py-3 sm:py-4",children:o.jsxs("div",{className:"flex items-start flex-col",children:[o.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900",children:((Y=M.customerContact)==null?void 0:Y.name)||M.customerName||"Customer"}),o.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:((Z=M.customerContact)==null?void 0:Z.company)||M.customerName||"No Company"}),o.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",M.customerId?M.customerId.substring(0,8):"None"]}),o.jsx("div",{className:"text-xs text-gray-500 sm:hidden mt-1",children:M.selectedMachines&&M.selectedMachines.length>0?M.selectedMachines.length===1?M.selectedMachines[0].name:`${M.selectedMachines.length} machines`:((Q=M.selectedEquipment)==null?void 0:Q.name)||M.machineType||"No equipment data"}),o.jsx("div",{className:"text-xs font-medium text-gray-800 sm:hidden mt-1",children:Ue(M.totalRent)})]})}),o.jsx("td",{className:"px-2 sm:px-6 py-3 sm:py-4 hidden sm:table-cell",children:M.selectedMachines&&M.selectedMachines.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:M.selectedMachines.map(ie=>ie.name).join(", ")}),o.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[M.selectedMachines.length," machine",M.selectedMachines.length>1?"s":""]})]}):(ge=M.selectedEquipment)!=null&&ge.name?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:M.selectedEquipment.name}),o.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"Equipment"})]}):M.machineType?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:M.machineType}),o.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"Equipment Type"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"No equipment data"}),o.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Type not specified"})]})}),o.jsxs("td",{className:"px-2 sm:px-6 py-3 sm:py-4 hidden md:table-cell",children:[o.jsxs("div",{className:"text-xs sm:text-sm text-gray-900",children:[M.numberOfDays," days"]}),o.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[M.workingHours," hrs/day"]})]}),o.jsx("td",{className:"px-2 sm:px-6 py-3 sm:py-4 hidden sm:table-cell text-xs sm:text-sm text-gray-900",children:Ue(M.totalRent)}),o.jsx("td",{className:"px-2 sm:px-6 py-3 sm:py-4",children:o.jsx(Ul,{status:M.status})}),o.jsx("td",{className:"px-2 sm:px-6 py-3 sm:py-4 text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[o.jsx(U,{variant:"ghost",size:"xs",onClick:()=>J(M),title:"Edit Quotation",disabled:f||W===M.id,children:W===M.id?o.jsx(st,{size:14,className:"animate-spin"}):o.jsx(Ta,{size:14})}),o.jsx(U,{variant:"ghost",size:"xs",onClick:()=>{b(M),j(!0)},title:"Preview Quotation",disabled:!v||f,children:o.jsx(zu,{size:14})}),o.jsx(U,{variant:"ghost",size:"xs",onClick:()=>H(M),disabled:T||!v||f,title:"Download PDF",children:T?o.jsx(st,{size:14,className:"animate-spin"}):o.jsx(Ud,{size:14})}),o.jsx(U,{variant:"ghost",size:"xs",onClick:()=>A(M),disabled:V||!v||f,title:"Send to Customer",children:V?o.jsx(st,{size:14,className:"animate-spin"}):o.jsx(fa,{size:14})})]})})]},M.id)})})]})})})]}),o.jsx(Ct,{isOpen:k,onClose:()=>{C(!1),D("")},title:"Create New Quotation",size:"lg",children:o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2 sm:mb-4",children:"Select a Qualified Deal"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4",children:"Choose from qualified deals to create a quotation. Only deals in qualification or proposal stage are shown."}),"              ",o.jsx(Te,{options:f?[{value:"",label:"Loading deals..."}]:[{value:"",label:"Select a Deal"},...$.filter(M=>M.value!=="")],value:N,onChange:D,label:"Available Deals",disabled:f,required:!0}),N&&o.jsx("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(()=>{const M=s.find(Y=>Y.id===N);return M?o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-sm sm:text-base font-medium text-blue-900",children:"Selected Deal Details"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700 font-medium",children:"Customer:"}),o.jsx("p",{className:"text-blue-800",children:M.customer.name})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700 font-medium",children:"Company:"}),o.jsx("p",{className:"text-blue-800",children:M.customer.company})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700 font-medium",children:"Value:"}),o.jsx("p",{className:"text-blue-800",children:Ue(M.value)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700 font-medium",children:"Stage:"}),o.jsx("p",{className:"text-blue-800 capitalize",children:M.stage})]})]})]}):null})()})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-end gap-2 sm:gap-3 pt-4 border-t",children:[o.jsx(U,{variant:"outline",onClick:()=>{C(!1),D("")},disabled:f,className:"w-full sm:w-auto",children:"Cancel"}),o.jsxs(U,{onClick:q,disabled:!N||f,className:"w-full sm:w-auto flex items-center justify-center gap-2",variant:"accent",children:[f?o.jsx(st,{className:"w-4 h-4 animate-spin"}):o.jsx(Lr,{className:"w-4 h-4"}),"Create Quotation"]})]})]})}),o.jsx(Ct,{isOpen:S,onClose:()=>j(!1),title:"Quotation Preview",size:"full",children:y&&v&&o.jsx("div",{className:"flex flex-col md:flex-row gap-8",children:o.jsx("div",{className:"flex-1",children:o.jsx(_8,{quotation:y,template:v,onDownloadPDF:()=>fe(y),onSendEmail:()=>A(y)})})})}),_.show&&o.jsx(ft,{title:_.title,variant:_.variant,isVisible:_.show,onClose:()=>z({show:!1,title:""})}),o.jsx(DD,{isOpen:ne,onClose:()=>ae(!1),onPrint:K})]})})}const Zw={orderTypeLimits:{micro:{minDays:1,maxDays:10},small:{minDays:11,maxDays:25},monthly:{minDays:26,maxDays:365},yearly:{minDays:366,maxDays:3650}}},e1={foodRate:2500,accommodationRate:4e3,transportRate:0},Bf={riggerAmount:4e4,helperAmount:12e3,incidentalOptions:[{value:"incident1",label:"Incident 1 - 5,000",amount:5e3},{value:"incident2",label:"Incident 2 - 10,000",amount:1e4},{value:"incident3",label:"Incident 3 - 15,000",amount:15e3}],usageFactors:{normal:1,medium:1.2,heavy:1.5},riskFactors:{low:0,medium:8e3,high:15e3},shiftFactors:{single:1,double:1.8},dayNightFactors:{day:1,night:1.3}},M8=5*60*1e3,O8=JN((e,t)=>{let n=[];const r=s=>{n.forEach(i=>i(s))};return{quotationConfig:null,resourceRatesConfig:null,additionalParamsConfig:null,isLoading:!1,errors:{},lastFetchTimes:{},fetchAllConfigs:async()=>{const{fetchQuotationConfig:s,fetchResourceRatesConfig:i,fetchAdditionalParamsConfig:a}=t();e({isLoading:!0,errors:{}});try{await Promise.all([s(),i(),a()])}catch(l){console.error("Error fetching configurations:",l)}finally{e({isLoading:!1})}},fetchQuotationConfig:async()=>{try{const s=await D2();e(i=>({quotationConfig:s||Zw,lastFetchTimes:{...i.lastFetchTimes,quotation:Date.now()},errors:{...i.errors,quotation:""}}))}catch(s){console.error("Error fetching quotation config:",s),e(i=>({quotationConfig:Zw,errors:{...i.errors,quotation:"Failed to fetch quotation configuration"}}))}},fetchResourceRatesConfig:async()=>{try{const s=await T2();e(i=>({resourceRatesConfig:s||e1,lastFetchTimes:{...i.lastFetchTimes,resourceRates:Date.now()},errors:{...i.errors,resourceRates:""}}))}catch(s){console.error("Error fetching resource rates config:",s),e(i=>({resourceRatesConfig:e1,errors:{...i.errors,resourceRates:"Failed to fetch resource rates configuration"}}))}},fetchAdditionalParamsConfig:async()=>{try{const s=await _2();e(i=>({additionalParamsConfig:{...Bf,...s},lastFetchTimes:{...i.lastFetchTimes,additionalParams:Date.now()},errors:{...i.errors,additionalParams:""}}))}catch(s){console.error("Error fetching additional params config:",s),e(i=>({additionalParamsConfig:Bf,errors:{...i.errors,additionalParams:"Failed to fetch additional parameters configuration"}}))}},updateQuotationConfig:async s=>{try{const i=await E2({orderTypeLimits:s});e(a=>({quotationConfig:i,lastFetchTimes:{...a.lastFetchTimes,quotation:Date.now()},errors:{...a.errors,quotation:""}})),r("quotation")}catch(i){throw console.error("Error updating quotation config:",i),e(a=>({errors:{...a.errors,quotation:"Failed to update quotation configuration"}})),i}},updateResourceRatesConfig:async s=>{try{const i=await P2(s);e(a=>({resourceRatesConfig:i,lastFetchTimes:{...a.lastFetchTimes,resourceRates:Date.now()},errors:{...a.errors,resourceRates:""}})),r("resourceRates")}catch(i){throw console.error("Error updating resource rates config:",i),e(a=>({errors:{...a.errors,resourceRates:"Failed to update resource rates configuration"}})),i}},updateAdditionalParamsConfig:async s=>{try{const i=await A2(s);e(a=>({additionalParamsConfig:{...Bf,...i},lastFetchTimes:{...a.lastFetchTimes,additionalParams:Date.now()},errors:{...a.errors,additionalParams:""}})),r("additionalParams")}catch(i){throw console.error("Error updating additional params config:",i),e(a=>({errors:{...a.errors,additionalParams:"Failed to update additional parameters configuration"}})),i}},invalidateConfig:s=>{e(i=>{const a={...i.lastFetchTimes};return delete a[s],{lastFetchTimes:a}})},isConfigStale:(s,i=M8)=>{const{lastFetchTimes:a}=t(),l=a[s];return l?Date.now()-l>i:!0},subscribeToConfigChanges:s=>(n.push(s),()=>{n=n.filter(i=>i!==s)})}}),R8=()=>{const{quotationConfig:e,resourceRatesConfig:t,additionalParamsConfig:n,isLoading:r,errors:s,fetchAllConfigs:i,fetchQuotationConfig:a,fetchResourceRatesConfig:l,fetchAdditionalParamsConfig:c,subscribeToConfigChanges:u,isConfigStale:d}=O8(),h=x.useCallback(async()=>{await i()},[i]),f=x.useCallback(async m=>{switch(m){case"quotation":await a();break;case"resourceRates":await l();break;case"additionalParams":await c();break}},[a,l,c]);return x.useEffect(()=>((async()=>{(!e||d("quotation"))&&await a(),(!t||d("resourceRates"))&&await l(),(!n||d("additionalParams"))&&await c()})(),u(g=>{console.log(`Configuration changed: ${g}. Quotation components will use updated values.`),window.dispatchEvent(new CustomEvent("configurationChanged",{detail:{configType:g}}))})),[e,t,n,a,l,c,u,d]),{quotationConfig:e,resourceRates:t,additionalParams:n,isLoading:r,errors:s,refreshConfigurations:h,refreshSpecificConfig:f}},Vf=(e,t)=>{x.useEffect(()=>{const n=r=>{t(r.detail)};return window.addEventListener(e,n),()=>{window.removeEventListener(e,n)}},[e,t])},L8=[{value:"",label:"Select machine type..."},{value:"mobile_crane",label:"Mobile Crane"},{value:"tower_crane",label:"Tower Crane"},{value:"crawler_crane",label:"Crawler Crane"},{value:"pick_and_carry_crane",label:"Pick & Carry Crane"}],F8=[{value:"single",label:"Single Shift"},{value:"double",label:"Double Shift"}],$8=[{value:"day",label:"Day"},{value:"night",label:"Night"}],z8=[{value:"normal",label:"Normal"},{value:"heavy",label:"Heavy"}],t1=[{value:"no_advance",label:"No Advance"},{value:"credit",label:"Credit"},{value:"long_credit",label:"Long Credit"}],B8=[{value:"high",label:"High Risk"},{value:"medium",label:"Medium Risk"},{value:"low",label:"Low Risk"}],V8=[{value:"area",label:"Area"},{value:"condition",label:"Condition"},{value:"customer_reputation",label:"Customer Reputation"},{value:"rigger",label:"Rigger"},{value:"helper",label:"Helper"}],n1=[{value:"incident1",label:"Incident 1 - 5,000",amount:5e3},{value:"incident2",label:"Incident 2 - 10,000",amount:1e4},{value:"incident3",label:"Incident 3 - 15,000",amount:15e3}];function U8(){var _,z,W,I,E,P,R,B,q,J,ne,ae;const{user:e}=Ge(),t=On(),[n]=HA(),r=hr(),s=n.get("dealId")||"",i=n.get("quotationId"),{quotationConfig:a,resourceRates:l,additionalParams:c}=R8(),[u,d]=x.useState(null),[h,f]=x.useState([]),[m,p]=x.useState(!0),[g,y]=x.useState(!1),[b,v]=x.useState(0),[w,S]=x.useState({show:!1,title:""}),[j,k]=x.useState({machineType:"",selectedEquipment:{id:"",equipmentId:"",name:"",baseRates:{micro:0,small:0,monthly:0,yearly:0}},selectedMachines:[],orderType:"micro",numberOfDays:0,workingHours:8,foodResources:0,accomResources:0,siteDistance:0,usage:"normal",riskFactor:"low",extraCharge:0,incidentalCharges:[],otherFactorsCharge:0,billing:"gst",includeGst:!0,shift:"single",dayNight:"day",mobDemob:0,mobRelaxation:0,runningCostPerKm:0,version:1,createdBy:(e==null?void 0:e.id)||"",status:"draft",otherFactors:[],dealType:t1[0].value,sundayWorking:"no"}),[C,N]=x.useState({baseRate:0,totalHours:0,workingCost:0,mobDemobCost:0,foodAccomCost:0,usageLoadFactor:0,extraCharges:0,riskAdjustment:0,gstAmount:0,totalAmount:0});Vf("resourceRatesUpdated",()=>{console.log("Resource rates updated, recalculating quotation..."),L()}),Vf("additionalParamsUpdated",()=>{console.log("Additional parameters updated, recalculating quotation..."),L()}),Vf("quotationConfigUpdated",G=>{if(console.log("Quotation configuration updated, checking order type...",G),j.numberOfDays>0){const O=T(j.numberOfDays);O!==j.orderType&&k(H=>({...H,orderType:O}))}L()}),x.useEffect(()=>{D()},[s,i]),x.useEffect(()=>{L()},[j,b]),x.useEffect(()=>{j.workingHours!==void 0&&L()},[j.workingHours]),x.useEffect(()=>{var G;if(j.orderType&&((G=j.selectedEquipment)!=null&&G.id)&&Array.isArray(h)&&h.length>0){const O=h.find(H=>H.id===j.selectedEquipment.id);if(O!=null&&O.baseRates){const H=O.baseRates[j.orderType];v(H)}}j.selectedMachines.length>0&&Array.isArray(h)&&h.length>0&&k(O=>({...O,selectedMachines:O.selectedMachines.map(H=>{const K=h.find(fe=>fe.id===H.id);return K!=null&&K.baseRates?{...H,baseRate:K.baseRates[j.orderType]||H.baseRate}:H})}))},[j.orderType,h.length]),x.useEffect(()=>{j.machineType?(async()=>{try{const O=await O5(j.machineType);f(Array.isArray(O)?O:[])}catch(O){console.error("Error fetching equipment:",O),f([])}})():f([])},[j.machineType]);const D=async()=>{var G,O,H,K,fe,A,$,M;try{p(!0),console.log("[QuotationCreation] Fetching data with dealId:",s,"quotationId:",i);const Y=r.state;let Z=null,Q=null;if(Y&&(Y.quotation&&(Z=Y.quotation,console.log("[QuotationCreation] Found quotation in navigation state:",Z)),Y.deal&&(Q=Y.deal,console.log("[QuotationCreation] Found deal in navigation state:",Q),d(Q))),!Q&&s)try{Q=await ya(s),console.log("[QuotationCreation] Fetched deal data:",Q),d(Q)}catch(ie){console.error("[QuotationCreation] Error fetching deal by ID:",ie),V("Warning: Could not load deal details. You can still create a quotation.","warning"),d({id:s,customer:{name:"Unknown Customer",email:"",phone:"",company:"Unknown Company",address:"",designation:""},title:"Unknown Deal",description:"",value:0,stage:"qualification",leadId:"",customerId:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),assignedTo:"",probability:0,expectedCloseDate:new Date().toISOString()})}else Q||d({id:"new",customer:{name:"New Customer",email:"",phone:"",company:"",address:"",designation:""},title:"New Quotation",description:"",value:0,stage:"qualification",leadId:"",customerId:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),assignedTo:"",probability:0,expectedCloseDate:new Date().toISOString()});const ge=await Rx();if(console.log("Fetched equipment data:",ge),f(ge),i){let ie=Z;if(!ie)try{console.log("[QuotationCreation] Fetching existing quotation from API:",i),ie=await rD(i)}catch(we){console.error("[QuotationCreation] Error fetching quotation:",we),V("Error loading quotation data","error")}if(ie){console.log("[QuotationCreation] Loading quotation data for ID:",ie.id);const we={...j,machineType:ie.machineType||"",selectedEquipment:ie.selectedEquipment||j.selectedEquipment,selectedMachines:ie.selectedMachines||[],orderType:ie.orderType||"micro",numberOfDays:ie.numberOfDays||0,workingHours:ie.workingHours||8,foodResources:ie.foodResources||0,accomResources:ie.accomResources||0,siteDistance:ie.siteDistance||0,usage:ie.usage||"normal",riskFactor:ie.riskFactor||"low",extraCharge:ie.extraCharge||0,incidentalCharges:ie.incidentalCharges||[],otherFactorsCharge:ie.otherFactorsCharge||0,billing:ie.billing||"gst",includeGst:ie.includeGst!==void 0?ie.includeGst:!0,shift:ie.shift||"single",dayNight:ie.dayNight||"day",mobDemob:ie.mobDemob||0,mobRelaxation:ie.mobRelaxation||0,runningCostPerKm:ie.runningCostPerKm||0,otherFactors:ie.otherFactors||[],dealType:ie.dealType||t1[0].value,sundayWorking:ie.sundayWorking||"no",version:ie.version||1,status:ie.status||"draft",customerName:ie.customerName||((G=Q==null?void 0:Q.customer)==null?void 0:G.name)||"",customerContact:ie.customerContact||{name:((O=Q==null?void 0:Q.customer)==null?void 0:O.name)||"",email:((H=Q==null?void 0:Q.customer)==null?void 0:H.email)||"",phone:((K=Q==null?void 0:Q.customer)==null?void 0:K.phone)||"",company:((fe=Q==null?void 0:Q.customer)==null?void 0:fe.company)||"",address:((A=Q==null?void 0:Q.customer)==null?void 0:A.address)||"",designation:(($=Q==null?void 0:Q.customer)==null?void 0:$.designation)||""}};if(console.log("[QuotationCreation] Form data populated with",Object.keys(we).length,"fields"),k(we),(M=ie.selectedEquipment)!=null&&M.id&&ge){const ce=ge.find(je=>je.id===ie.selectedEquipment.id);if(ce!=null&&ce.baseRates){const je=ce.baseRates[ie.orderType||"micro"];v(je)}}if(!Q&&ie.dealId)try{const ce=await ya(ie.dealId);ce&&(console.log("[QuotationCreation] Loaded deal from quotation:",ce),d(ce))}catch(ce){console.warn("[QuotationCreation] Could not load deal for quotation:",ce)}}else console.warn("[QuotationCreation] No quotation found with ID:",i),V("Quotation not found","warning")}else f(ge);console.log("Quotation config managed by centralized store")}catch(Y){console.error("Error fetching data:",Y),V("Error fetching data","error")}finally{p(!1)}},T=G=>{if(!(a!=null&&a.orderTypeLimits))return"micro";const O=a.orderTypeLimits;return G<=0?"micro":G>=O.yearly.minDays?"yearly":G>=O.monthly.minDays?"monthly":G>=O.small.minDays?"small":"micro"},L=()=>{console.log("Calculating quotation with working hours:",j.workingHours);const G=j.selectedMachines.length>0,O=b;if(!j.numberOfDays||!G&&!O){N({baseRate:0,totalHours:0,workingCost:0,mobDemobCost:0,foodAccomCost:0,usageLoadFactor:0,extraCharges:0,riskAdjustment:0,gstAmount:0,totalAmount:0});return}const H=Number(j.numberOfDays),K=Number(j.workingHours)||8,fe=H*K;let A=0;G?A=j.selectedMachines.reduce((Vr,mr)=>{const Ms=mr.baseRate*mr.quantity;return j.orderType==="monthly"?Vr+Ms*Math.ceil(H/26):Vr+Ms*fe},0):j.orderType==="monthly"?A=O*Math.ceil(H/26):A=O*fe;const $=(l==null?void 0:l.foodRate)||0,M=(l==null?void 0:l.accommodationRate)||0,Y=(j.foodResources||0)*$*H,Z=(j.accomResources||0)*M*H,Q=Y+Z;let ge=0;if(j.mobDemob>0)ge=j.mobDemob;else if(j.siteDistance>0){if(G)ge=j.selectedMachines.reduce((Vr,mr)=>{const Ms=j.siteDistance||0,Dh=mr.runningCostPerKm||0,dT=Ms*2*Dh+5e3;return Vr+dT*mr.quantity},0);else{const Vr=j.siteDistance||0,mr=j.runningCostPerKm||0;ge=Vr*2*mr+5e3}j.mobRelaxation>0&&(ge=ge*(1-j.mobRelaxation/100))}const ie=A;let we=0,ce=0;j.riskFactor==="high"?we=.15:j.riskFactor==="medium"?we=.1:we=.05,j.usage==="heavy"?ce=.1:ce=.05;const je=ie*we,nt=ie*ce,Br=Number(j.extraCharge)||0,Ch=j.incidentalCharges.reduce((Vr,mr)=>{const Ms=n1.find(Dh=>Dh.value===mr);return Vr+(Ms?Ms.amount:0)},0),kh=(j.otherFactors.includes("rigger")?(c==null?void 0:c.riggerAmount)||4e4:0)+(j.otherFactors.includes("helper")?(c==null?void 0:c.helperAmount)||12e3:0),Kl=A+Q+ge+je+nt+Br+Ch+kh,Xl=j.includeGst?Kl*.18:0,uT=Kl+Xl;N({baseRate:O,totalHours:fe,workingCost:A,mobDemobCost:ge,foodAccomCost:Q,usageLoadFactor:nt,extraCharges:Br,riskAdjustment:je,gstAmount:Xl,totalAmount:uT})},V=(G,O="success",H)=>{S({show:!0,title:G,description:H,variant:O}),setTimeout(()=>S({show:!1,title:""}),5e3)},F=async G=>{var O,H,K,fe,A,$,M,Y,Z,Q,ge,ie,we;if(G.preventDefault(),!j.numberOfDays||j.numberOfDays===0){V("Please enter the number of days","error");return}if(j.selectedMachines.length===0&&!j.selectedEquipment.id){V("Please select at least one machine","error");return}try{y(!0);const ce={...j,dealId:s||"new",customerName:j.customerName||((O=u==null?void 0:u.customer)==null?void 0:O.name)||"",customerContact:{name:((H=j.customerContact)==null?void 0:H.name)||((K=u==null?void 0:u.customer)==null?void 0:K.name)||"",email:((fe=j.customerContact)==null?void 0:fe.email)||((A=u==null?void 0:u.customer)==null?void 0:A.email)||"",phone:(($=j.customerContact)==null?void 0:$.phone)||((M=u==null?void 0:u.customer)==null?void 0:M.phone)||"",company:((Y=j.customerContact)==null?void 0:Y.company)||((Z=u==null?void 0:u.customer)==null?void 0:Z.company)||"",address:((Q=j.customerContact)==null?void 0:Q.address)||((ge=u==null?void 0:u.customer)==null?void 0:ge.address)||"",designation:((ie=j.customerContact)==null?void 0:ie.designation)||((we=u==null?void 0:u.customer)==null?void 0:we.designation)||""},calculations:C,totalAmount:C.totalAmount,createdBy:(e==null?void 0:e.id)||"",updatedAt:new Date().toISOString()};i?(await xV(i,ce),V("Quotation updated successfully","success")):(await yV(ce),V("Quotation created successfully","success")),t("/quotations")}catch(ce){console.error("Error saving quotation:",ce),V("Error saving quotation","error")}finally{y(!1)}};return m?o.jsx("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Loading quotation form..."})]})}):o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsx("style",{children:`
          input[type="number"]::-webkit-inner-spin-button,
          input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
          }
          input[type="number"] {
            -moz-appearance: textfield;
          }
        `}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>t("/quotations"),leftIcon:o.jsx(RN,{size:16}),className:"self-start",children:"Back"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:i?"Edit Quotation":"Create Quotation"}),o.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["For ",((_=u==null?void 0:u.customer)==null?void 0:_.name)||"New Customer"," - ",(u==null?void 0:u.title)||"New Quotation"]})]})]})}),o.jsxs("form",{onSubmit:F,className:"max-w-full mx-auto px-2 sm:px-4",children:[o.jsx(hd,{}),o.jsxs(le,{className:"mb-6 shadow-sm hover:shadow-md transition-shadow duration-200",children:[o.jsx(ye,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(tn,{className:"w-5 h-5 text-gray-500"}),o.jsx(ve,{className:"text-lg font-medium",children:"Customer Information"})]})}),o.jsx(pe,{className:"pt-0",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Customer"}),o.jsx("div",{className:"font-semibold text-gray-900",children:j.customerName||((z=u==null?void 0:u.customer)==null?void 0:z.name)||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Company"}),o.jsx("div",{className:"font-semibold text-gray-900",children:((W=j.customerContact)==null?void 0:W.company)||((I=u==null?void 0:u.customer)==null?void 0:I.company)||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Email"}),o.jsx("div",{className:"font-semibold text-gray-900 break-all",children:((E=j.customerContact)==null?void 0:E.email)||((P=u==null?void 0:u.customer)==null?void 0:P.email)||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Phone"}),o.jsx("div",{className:"font-semibold text-gray-900",children:((R=j.customerContact)==null?void 0:R.phone)||((B=u==null?void 0:u.customer)==null?void 0:B.phone)||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Designation"}),o.jsx("div",{className:"font-semibold text-gray-900",children:((q=j.customerContact)==null?void 0:q.designation)||((J=u==null?void 0:u.customer)==null?void 0:J.designation)||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Address"}),o.jsx("div",{className:"font-semibold text-gray-900",children:((ne=j.customerContact)==null?void 0:ne.address)||((ae=u==null?void 0:u.customer)==null?void 0:ae.address)||"N/A"})]})]})})]}),o.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs(le,{className:"shadow-sm",children:[o.jsx(ye,{className:"pb-3",children:o.jsxs(ve,{className:"text-base font-medium flex items-center gap-2",children:[o.jsx(Gn,{className:"w-4 h-4 text-gray-500"}),"Duration"]})}),o.jsxs(pe,{className:"pt-0 space-y-3",children:[o.jsx(me,{type:"number",label:"Number of Days",value:j.numberOfDays||"",onChange:G=>{const O=G.target.value===""?0:Number(G.target.value),H=T(O);k(K=>{const fe=O>0&&H!==K.orderType;let A=[...K.selectedMachines];return fe&&(A=K.selectedMachines.map($=>{var M;return{...$,baseRate:((M=$.baseRates)==null?void 0:M[H])||$.baseRate}})),{...K,numberOfDays:O,orderType:O>0?H:K.orderType,selectedMachines:A}})},required:!0,min:"1",placeholder:"Enter days"}),o.jsx(me,{type:"number",label:"Working Hours/Day",value:j.workingHours||"",onChange:G=>{const O=Number(G.target.value)||8;k(H=>({...H,workingHours:O}))},min:"1",max:"24",placeholder:"8"})]})]}),o.jsxs(le,{className:"shadow-sm",children:[o.jsx(ye,{className:"pb-3",children:o.jsxs(ve,{className:"text-base font-medium flex items-center gap-2",children:[o.jsx(Ht,{className:"w-4 h-4 text-gray-500"}),"Machine Selection"]})}),o.jsxs(pe,{className:"pt-0 space-y-3",children:[o.jsx(Te,{label:"Machine Type",value:j.machineType,onChange:G=>k(O=>({...O,machineType:G,selectedEquipment:{id:"",equipmentId:"",name:"",baseRates:{micro:0,small:0,monthly:0,yearly:0}},selectedMachines:[]})),options:L8,required:!0}),j.machineType&&o.jsx(Te,{label:"Equipment",value:j.selectedEquipment.id,onChange:G=>{const O=h.find(H=>H.id===G);if(O){const H=O.baseRates[j.orderType];v(H),k(K=>({...K,selectedEquipment:{id:O.id,equipmentId:O.equipmentId,name:O.name,baseRates:O.baseRates},baseRate:H,runningCostPerKm:O.runningCostPerKm||0}))}},options:[{value:"",label:"Select equipment..."},...h.map(G=>({value:G.id,label:`${G.name} (${G.equipmentId})`}))],required:j.selectedMachines.length===0})]})]}),o.jsxs(le,{className:"shadow-sm",children:[o.jsx(ye,{className:"pb-3",children:o.jsxs(ve,{className:"text-base font-medium flex items-center gap-2",children:[o.jsx(mi,{className:"w-4 h-4 text-gray-500"}),"Configuration"]})}),o.jsxs(pe,{className:"pt-0 space-y-3",children:[o.jsx(Te,{label:"Shift Type",value:j.shift,onChange:G=>k(O=>({...O,shift:G})),options:F8}),o.jsx(Te,{label:"Time",value:j.dayNight,onChange:G=>k(O=>({...O,dayNight:G})),options:$8})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs(le,{className:"shadow-sm",children:[o.jsx(ye,{className:"pb-3",children:o.jsxs(ve,{className:"text-base font-medium flex items-center gap-2",children:[o.jsx(tn,{className:"w-4 h-4 text-gray-500"}),"Food & Accommodation"]})}),o.jsxs(pe,{className:"pt-0 space-y-3",children:[o.jsx(me,{type:"number",label:"Food Resources",value:j.foodResources||"",onChange:G=>{k(O=>({...O,foodResources:Number(G.target.value)||0}))},min:"0",placeholder:"Number of people"}),o.jsx(me,{type:"number",label:"Accommodation Resources",value:j.accomResources||"",onChange:G=>{k(O=>({...O,accomResources:Number(G.target.value)||0}))},min:"0",placeholder:"Number of people"})]})]}),o.jsxs(le,{className:"shadow-sm",children:[o.jsx(ye,{className:"pb-3",children:o.jsxs(ve,{className:"text-base font-medium flex items-center gap-2",children:[o.jsx(Ht,{className:"w-4 h-4 text-gray-500"}),"Transport & Site"]})}),o.jsxs(pe,{className:"pt-0 space-y-3",children:[o.jsx(me,{type:"number",label:"Site Distance (km)",value:j.siteDistance||"",onChange:G=>{k(O=>({...O,siteDistance:Number(G.target.value)||0}))},min:"0",placeholder:"Distance in km"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(Te,{label:"Usage",value:j.usage,onChange:G=>k(O=>({...O,usage:G})),options:z8}),o.jsx(Te,{label:"Risk Level",value:j.riskFactor,onChange:G=>k(O=>({...O,riskFactor:G})),options:B8})]})]})]})]}),o.jsxs(le,{className:"shadow-sm mb-6",children:[o.jsx(ye,{className:"pb-3",children:o.jsxs(ve,{className:"text-base font-medium flex items-center gap-2",children:[o.jsx(ir,{className:"w-4 h-4 text-gray-500"}),"Additional Charges"]})}),o.jsx(pe,{className:"pt-0",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(me,{type:"number",label:"Extra Commercial Charges",value:j.extraCharge||"",onChange:G=>{k(O=>({...O,extraCharge:Number(G.target.value)||0}))},min:"0",placeholder:"0"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Incidental Charges"}),o.jsx("div",{className:"space-y-2",children:n1.map(G=>o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:j.incidentalCharges.includes(G.value),onChange:O=>{O.target.checked?k(H=>({...H,incidentalCharges:[...H.incidentalCharges,G.value]})):k(H=>({...H,incidentalCharges:H.incidentalCharges.filter(K=>K!==G.value)}))},className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:G.label})]},G.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Other Factors"}),o.jsx("div",{className:"space-y-2",children:V8.map(G=>o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:j.otherFactors.includes(G.value),onChange:O=>{O.target.checked?k(H=>({...H,otherFactors:[...H.otherFactors,G.value]})):k(H=>({...H,otherFactors:H.otherFactors.filter(K=>K!==G.value)}))},className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsxs("span",{className:"text-sm text-gray-700",children:[G.label,G.value==="rigger"&&" (40,000)",G.value==="helper"&&" (12,000)"]})]},G.value))})]})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>t("/quotations"),className:"sm:flex-1",children:"Cancel"}),o.jsx(U,{type:"submit",disabled:g||j.selectedMachines.length===0&&!j.selectedEquipment.id,className:"sm:flex-1 bg-primary-600 hover:bg-primary-700",leftIcon:g?o.jsx(Yn,{className:"animate-spin"}):o.jsx(Si,{}),variant:"accent",children:g?"Saving...":i?"Update Quotation":"Create Quotation"}),j.selectedMachines.length===0&&!j.selectedEquipment.id&&o.jsx("div",{className:"text-xs text-center text-amber-600 col-span-2",children:"Please add at least one machine"})]})]}),o.jsx("div",{className:"w-full xl:w-[400px] flex-shrink-0",children:o.jsx("div",{className:"sticky top-6",children:o.jsxs(le,{className:"shadow-xl border border-gray-200 bg-white",children:[o.jsx(ye,{className:"border-b border-gray-100 pb-4 bg-gradient-to-r from-blue-50 to-white",children:o.jsxs(ve,{className:"text-lg font-bold flex items-center gap-2 text-blue-800",children:[o.jsx(dp,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{children:"Quotation Summary"})]})}),o.jsxs(pe,{className:"pt-4",children:[o.jsx(kD,{calculations:C,formData:j,additionalParams:c}),o.jsx("div",{className:"mt-4",children:o.jsxs("label",{className:"flex items-start gap-3 p-3 rounded-lg bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors duration-200",children:[o.jsx("input",{type:"checkbox",checked:j.includeGst,onChange:G=>k(O=>({...O,includeGst:G.target.checked})),className:"mt-1 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Include GST"}),o.jsx("div",{className:"text-sm text-gray-600",children:"GST will be calculated at 18% of the total amount"})]})]})})]})]})})})]})]}),w.show&&o.jsx(ft,{title:w.title,description:w.description,variant:w.variant,isVisible:w.show,onClose:()=>S({show:!1,title:""})})]})}function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function Kn(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function et(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function dt(e){et(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||fd(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function r1(e,t){et(2,arguments);var n=dt(e),r=Kn(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function ED(e,t){et(2,arguments);var n=dt(e).getTime(),r=Kn(t);return new Date(n+r)}var W8=36e5;function TD(e,t){et(2,arguments);var n=Kn(t);return ED(e,n*W8)}var H8={};function La(){return H8}function q8(e,t){var n,r,s,i,a,l,c,u;et(1,arguments);var d=La(),h=Kn((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=dt(e),m=f.getDay(),p=(m<h?7:0)+m-h;return f.setDate(f.getDate()-p),f.setHours(0,0,0,0),f}function G8(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function s1(e){et(1,arguments);var t=dt(e);return t.setHours(0,0,0,0),t}function Y8(e,t){et(2,arguments);var n=s1(e),r=s1(t);return n.getTime()===r.getTime()}function Q8(e){return et(1,arguments),e instanceof Date||fd(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function K8(e){if(et(1,arguments),!Q8(e)&&typeof e!="number")return!1;var t=dt(e);return!isNaN(Number(t))}function X8(e,t){var n;et(1,arguments);var r=e||{},s=dt(r.start),i=dt(r.end),a=i.getTime();if(!(s.getTime()<=a))throw new RangeError("Invalid interval");var l=[],c=s;c.setHours(0,0,0,0);var u=Number((n=void 0)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=a;)l.push(dt(c)),c.setDate(c.getDate()+u),c.setHours(0,0,0,0);return l}function J8(e,t){var n,r,s,i,a,l,c,u;et(1,arguments);var d=La(),h=Kn((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=dt(e),m=f.getDay(),p=(m<h?-7:0)+6-(m-h);return f.setDate(f.getDate()+p),f.setHours(23,59,59,999),f}function Z8(e,t){et(2,arguments);var n=Kn(t);return ED(e,-n)}var eW=864e5;function tW(e){et(1,arguments);var t=dt(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/eW)+1}function md(e){et(1,arguments);var t=1,n=dt(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function PD(e){et(1,arguments);var t=dt(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=md(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=md(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function nW(e){et(1,arguments);var t=PD(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=md(n);return r}var rW=6048e5;function sW(e){et(1,arguments);var t=dt(e),n=md(t).getTime()-nW(t).getTime();return Math.round(n/rW)+1}function pd(e,t){var n,r,s,i,a,l,c,u;et(1,arguments);var d=La(),h=Kn((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=dt(e),m=f.getUTCDay(),p=(m<h?7:0)+m-h;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function _D(e,t){var n,r,s,i,a,l,c,u;et(1,arguments);var d=dt(e),h=d.getUTCFullYear(),f=La(),m=Kn((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(h+1,0,m),p.setUTCHours(0,0,0,0);var g=pd(p,t),y=new Date(0);y.setUTCFullYear(h,0,m),y.setUTCHours(0,0,0,0);var b=pd(y,t);return d.getTime()>=g.getTime()?h+1:d.getTime()>=b.getTime()?h:h-1}function iW(e,t){var n,r,s,i,a,l,c,u;et(1,arguments);var d=La(),h=Kn((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=_D(e,t),m=new Date(0);m.setUTCFullYear(f,0,h),m.setUTCHours(0,0,0,0);var p=pd(m,t);return p}var aW=6048e5;function oW(e,t){et(1,arguments);var n=dt(e),r=pd(n,t).getTime()-iW(n,t).getTime();return Math.round(r/aW)+1}function Me(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var qr={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return Me(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Me(r+1,2)},d:function(t,n){return Me(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Me(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Me(t.getUTCHours(),n.length)},m:function(t,n){return Me(t.getUTCMinutes(),n.length)},s:function(t,n){return Me(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return Me(i,n.length)}},Ii={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lW={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return qr.y(t,n)},Y:function(t,n,r,s){var i=_D(t,s),a=i>0?i:1-i;if(n==="YY"){var l=a%100;return Me(l,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):Me(a,n.length)},R:function(t,n){var r=PD(t);return Me(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Me(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Me(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Me(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return qr.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return Me(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var i=oW(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):Me(i,n.length)},I:function(t,n,r){var s=sW(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Me(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):qr.d(t,n)},D:function(t,n,r){var s=tW(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Me(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Me(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Me(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return Me(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),i;switch(s===12?i=Ii.noon:s===0?i=Ii.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),i;switch(s>=17?i=Ii.evening:s>=12?i=Ii.afternoon:s>=4?i=Ii.morning:i=Ii.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return qr.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):qr.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Me(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Me(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):qr.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):qr.s(t,n)},S:function(t,n){return qr.S(t,n)},X:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return a1(a);case"XXXX":case"XX":return Ys(a);case"XXXXX":case"XXX":default:return Ys(a,":")}},x:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"x":return a1(a);case"xxxx":case"xx":return Ys(a);case"xxxxx":case"xxx":default:return Ys(a,":")}},O:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+i1(a,":");case"OOOO":default:return"GMT"+Ys(a,":")}},z:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+i1(a,":");case"zzzz":default:return"GMT"+Ys(a,":")}},t:function(t,n,r,s){var i=s._originalDate||t,a=Math.floor(i.getTime()/1e3);return Me(a,n.length)},T:function(t,n,r,s){var i=s._originalDate||t,a=i.getTime();return Me(a,n.length)}};function i1(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var a=t;return n+String(s)+a+Me(i,2)}function a1(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Me(Math.abs(e)/60,2)}return Ys(e,t)}function Ys(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),i=Me(Math.floor(s/60),2),a=Me(s%60,2);return r+i+n+a}var o1=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},AD=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},cW=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return o1(t,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",o1(s,n)).replace("{{time}}",AD(i,n))},uW={p:AD,P:cW},dW=["D","DD"],hW=["YY","YYYY"];function fW(e){return dW.indexOf(e)!==-1}function mW(e){return hW.indexOf(e)!==-1}function l1(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var pW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gW=function(t,n,r){var s,i=pW[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Uf(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var xW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bW={date:Uf({formats:xW,defaultWidth:"full"}),time:Uf({formats:yW,defaultWidth:"full"}),dateTime:Uf({formats:vW,defaultWidth:"full"})},wW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jW=function(t,n,r,s){return wW[t]};function oo(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var SW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},TW=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},PW={ordinalNumber:TW,era:oo({values:SW,defaultWidth:"wide"}),quarter:oo({values:NW,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:oo({values:CW,defaultWidth:"wide"}),day:oo({values:kW,defaultWidth:"wide"}),dayPeriod:oo({values:DW,defaultWidth:"wide",formattingValues:EW,defaultFormattingWidth:"wide"})};function lo(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?AW(l,function(h){return h.test(a)}):_W(l,function(h){return h.test(a)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(a.length);return{value:u,rest:d}}}function _W(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function AW(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function IW(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var l=t.slice(s.length);return{value:a,rest:l}}}var MW=/^(\d+)(th|st|nd|rd)?/i,OW=/\d+/i,RW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LW={any:[/^b/i,/^(a|c)/i]},FW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$W={any:[/1/i,/2/i,/3/i,/4/i]},zW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},BW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},VW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},WW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qW={ordinalNumber:IW({matchPattern:MW,parsePattern:OW,valueCallback:function(t){return parseInt(t,10)}}),era:lo({matchPatterns:RW,defaultMatchWidth:"wide",parsePatterns:LW,defaultParseWidth:"any"}),quarter:lo({matchPatterns:FW,defaultMatchWidth:"wide",parsePatterns:$W,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:lo({matchPatterns:zW,defaultMatchWidth:"wide",parsePatterns:BW,defaultParseWidth:"any"}),day:lo({matchPatterns:VW,defaultMatchWidth:"wide",parsePatterns:UW,defaultParseWidth:"any"}),dayPeriod:lo({matchPatterns:WW,defaultMatchWidth:"any",parsePatterns:HW,defaultParseWidth:"any"})},GW={code:"en-US",formatDistance:gW,formatLong:bW,formatRelative:jW,localize:PW,match:qW,options:{weekStartsOn:0,firstWeekContainsDate:1}},YW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KW=/^'([^]*?)'?$/,XW=/''/g,JW=/[a-zA-Z]/;function br(e,t,n){var r,s,i,a,l,c,u,d,h,f,m,p,g,y;et(2,arguments);var b=String(t),v=La(),w=(r=(s=void 0)!==null&&s!==void 0?s:v.locale)!==null&&r!==void 0?r:GW,S=Kn((i=(a=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:v.firstWeekContainsDate)!==null&&a!==void 0?a:(u=v.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=Kn((h=(f=(m=(p=void 0)!==null&&p!==void 0?p:void 0)!==null&&m!==void 0?m:v.weekStartsOn)!==null&&f!==void 0?f:(g=v.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&h!==void 0?h:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var k=dt(e);if(!K8(k))throw new RangeError("Invalid time value");var C=G8(k),N=Z8(k,C),D={firstWeekContainsDate:S,weekStartsOn:j,locale:w,_originalDate:k},T=b.match(QW).map(function(L){var V=L[0];if(V==="p"||V==="P"){var F=uW[V];return F(L,w.formatLong)}return L}).join("").match(YW).map(function(L){if(L==="''")return"'";var V=L[0];if(V==="'")return ZW(L);var F=lW[V];if(F)return mW(L)&&l1(L,t,String(e)),fW(L)&&l1(L,t,String(e)),F(N,L,w.localize,D);if(V.match(JW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return L}).join("");return T}function ZW(e){var t=e.match(KW);return t?t[1].replace(XW,"'"):e}function eH(e,t){et(2,arguments);var n=dt(e).getTime(),r=dt(t.start).getTime(),s=dt(t.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return n>=r&&n<=s}const c1=Array.from({length:15},(e,t)=>TD(new Date().setHours(6,0,0,0),t));function tH(){const{user:e}=Ge(),[t,n]=x.useState("week"),[r,s]=x.useState(new Date),[i,a]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[h,f]=x.useState([]),[m,p]=x.useState(!0),[g,y]=x.useState(!1),[b,v]=x.useState(null),[w,S]=x.useState(null),[j,k]=x.useState(null),[C,N]=x.useState([]),[D,T]=x.useState(!1),L=hr(),V=On(),[F,_]=x.useState({show:!1,title:""}),[z,W]=x.useState({leadId:"",equipmentId:"",operatorId:"",startDate:"",endDate:"",location:"",notes:""}),[I,E]=x.useState("");x.useEffect(()=>{P();const O=new URLSearchParams(L.search),H=O.get("dealId"),K=O.get("action"),fe=O.get("customerName");if(H&&K==="schedule"){if(S(H),fe){const A=decodeURIComponent(fe);k(A),_({show:!0,title:`Deal won with ${A}!`,variant:"success",description:"Please schedule a job for this customer using the form."})}R(H),V("/jobs",{replace:!0})}},[L]),x.useEffect(()=>{z.operatorId&&z.startDate&&z.endDate&&(ae().some(K=>K.id===z.operatorId)||W(K=>({...K,operatorId:""})))},[z.startDate,z.endDate,i]);const P=async()=>{try{const[O,H,K,fe,A]=await Promise.all([eh(),Q2(),Bl(),zl(),th()]);a(O),c(H),d(K);const M=A.filter(Z=>Z.stage==="won").map(Z=>Z.leadId),Y=fe.filter(Z=>Z.status==="converted"&&M.includes(Z.id));if(f(Y),w)try{const Z=await ya(w);if(Z){W(ie=>{var we;return{...ie,leadId:Z.leadId||"",location:((we=Z.customer)==null?void 0:we.address)||"",notes:Z.description||""}});const Q=new Date,ge=new Date;ge.setDate(Q.getDate()+7),W(ie=>({...ie,startDate:Q.toISOString().slice(0,16),endDate:ge.toISOString().slice(0,16)}))}}catch(Z){console.error("Error fetching deal data:",Z)}}catch(O){console.error("Error fetching data:",O),J("Error fetching data","error")}finally{p(!1)}},R=async O=>{var H,K,fe,A,$;try{const M=await ya(O);if(M){const Y=new Date,Z=new Date;Z.setDate(Y.getDate()+7);const Q=Y.toISOString().slice(0,16),ge=Z.toISOString().slice(0,16);S(O),(H=M.customer)!=null&&H.name&&k(M.customer.name),T(!0);try{const ie=await od(M.leadId);if(ie&&ie.length>0){const we=[];ie.forEach(ce=>{if(ce.selectedEquipment&&ce.selectedEquipment.equipmentId){const je=l.find(nt=>nt.id===ce.selectedEquipment.equipmentId);je&&!we.some(nt=>nt.id===je.id)&&we.push(je)}ce.selectedMachines&&ce.selectedMachines.length>0&&ce.selectedMachines.forEach(je=>{if(je.equipmentId){const nt=l.find(Br=>Br.id===je.equipmentId);nt&&!we.some(Br=>Br.id===nt.id)&&we.push(nt)}})}),N(we),we.length>0?W({leadId:M.leadId,equipmentId:we[0].id,operatorId:"",startDate:Q,endDate:ge,location:((K=M.customer)==null?void 0:K.address)||"",notes:M.description||""}):W({leadId:M.leadId,equipmentId:"",operatorId:"",startDate:Q,endDate:ge,location:((fe=M.customer)==null?void 0:fe.address)||"",notes:M.description||""})}else W({leadId:M.leadId,equipmentId:"",operatorId:"",startDate:Q,endDate:ge,location:((A=M.customer)==null?void 0:A.address)||"",notes:M.description||""})}catch(ie){console.error("Error fetching quotations:",ie),W({leadId:M.leadId,equipmentId:"",operatorId:"",startDate:Q,endDate:ge,location:(($=M.customer)==null?void 0:$.address)||"",notes:M.description||""})}finally{T(!1)}y(!0)}else J("Deal not found","error")}catch(M){console.error("Error fetching deal:",M),J("Error fetching deal","error")}},B=async()=>{try{if(!z.leadId||!z.equipmentId||!z.operatorId||!z.startDate||!z.endDate||!z.location){J("Please fill in all required fields","error");return}let O="";const H=h.find(K=>K.id===z.leadId);if(H)O=H.customerName;else if(j)O=j;else{J("Customer information is missing","error");return}await G2({title:"Scheduled Job",leadId:z.leadId,customerId:(H==null?void 0:H.customerId)||"",customerName:O,equipmentIds:[z.equipmentId],operatorIds:[z.operatorId],scheduledStartDate:z.startDate,scheduledEndDate:z.endDate,location:z.location,status:"scheduled",notes:z.notes,dealId:w||void 0,createdBy:(e==null?void 0:e.id)||""}),await P(),y(!1),q(),S(null),k(null),J("Job scheduled successfully","success")}catch(O){console.error("Error creating job:",O),J("Error creating job","error")}},q=()=>{W({leadId:"",equipmentId:"",operatorId:"",startDate:"",endDate:"",location:"",notes:""}),N([])},J=(O,H="success")=>{_({show:!0,title:O,variant:H}),setTimeout(()=>_({show:!1,title:""}),3e3)},ne=(O,H,K,fe)=>i.filter($=>{const M=new Date($.scheduledStartDate),Y=new Date($.scheduledEndDate),Z=new Date(K),Q=new Date(fe);return($.equipmentIds.includes(O)||$.operatorIds.includes(H))&&$.status!=="completed"&&$.status!=="cancelled"&&(Z>=M&&Z<Y||Q>M&&Q<=Y||Z<=M&&Q>=Y)}),ae=()=>{if(!z.startDate||!z.endDate)return u;const O=new Date(z.startDate),H=new Date(z.endDate);return u.filter(K=>i.filter(A=>{const $=new Date(A.scheduledStartDate),M=new Date(A.scheduledEndDate);return A.operatorIds.includes(K.id)&&A.status!=="completed"&&A.status!=="cancelled"&&(O>=$&&O<M||H>$&&H<=M||O<=$&&H>=M)}).length===0)},G=()=>{const O=q8(r,{weekStartsOn:1}),H=J8(r,{weekStartsOn:1}),K=X8({start:O,end:H});return o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-4",children:[o.jsxs("div",{className:"sticky left-0 bg-white z-10",children:[o.jsx("div",{className:"h-12"}),c1.map((fe,A)=>o.jsx("div",{className:"h-20 border-b border-gray-100 flex items-center justify-end pr-2 text-sm text-gray-900",children:br(fe,"h:mm a")},A))]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"grid grid-cols-7 min-w-[900px]",children:[K.map((fe,A)=>o.jsx("div",{className:"h-12 flex items-center justify-center border-b border-gray-200 font-medium",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-gray-900",children:br(fe,"EEE")}),o.jsx("div",{className:"text-xs text-gray-700",children:br(fe,"MMM d")})]})},A)),c1.map((fe,A)=>o.jsx(re.Fragment,{children:K.map(($,M)=>{const Y=new Date($.setHours(fe.getHours(),fe.getMinutes())),Z=i.filter(Q=>{const ge=new Date(Q.scheduledStartDate),ie=new Date(Q.scheduledEndDate);return(!I||Q.operatorIds.includes(I))&&Y8(Y,ge)&&eH(Y,{start:ge,end:ie})});return o.jsx("div",{className:`border-b border-r border-gray-100 relative ${A===0?"border-t":""} ${M===0?"border-l":""}`,style:{minHeight:`${Math.max(80,Z.length*44+8)}px`},onClick:()=>{y(!0),W(Q=>({...Q,startDate:Y.toISOString().slice(0,16),endDate:TD(Y,2).toISOString().slice(0,16)}))},children:Z.map((Q,ge)=>o.jsxs("div",{className:"absolute inset-x-0 mx-1 bg-primary-100 border border-primary-200 rounded-md p-2 cursor-pointer hover:bg-primary-200 transition-colors",style:{top:`${4+ge*44}px`,minHeight:"40px",zIndex:10+ge,right:ge>0?`${ge*8}px`:"4px"},onClick:ie=>{ie.stopPropagation(),v(Q)},children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-sm truncate",children:Q.customerName}),o.jsx(Ul,{status:Q.status,className:"ml-2"})]}),o.jsxs("div",{className:"text-xs text-black mt-1",children:[br(new Date(Q.scheduledStartDate),"h:mm a")," - ",br(new Date(Q.scheduledEndDate),"h:mm a")]})]},Q.id))},`${A}-${M}`)})},A))]})})]})})};return!e||e.role!=="operations_manager"&&e.role!=="admin"?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"You don't have permission to access this page."}):m?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-900",children:"Loading job scheduling data..."})]}):o.jsxs("div",{className:"space-y-6 font-sans",children:[o.jsxs("div",{className:"flex flex-wrap items-center mb-2 justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(U,{variant:"outline",size:"sm",onClick:()=>s(O=>r1(O,-7)),children:o.jsx(aI,{className:"h-4 w-4"})}),o.jsx("h2",{className:"text-lg font-semibold font-sans",children:br(r,"MMMM yyyy")}),o.jsx(U,{variant:"outline",size:"sm",onClick:()=>s(O=>r1(O,7)),children:o.jsx(oI,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end min-w-0",children:[o.jsx(Te,{options:[{value:"week",label:"Week View"},{value:"month",label:"Month View"}],value:t,onChange:O=>n(O),className:"w-24 min-w-0"}),o.jsx(Te,{label:"Operator",options:[{value:"",label:"All Operators"},...u.map(O=>({value:O.id,label:O.name}))],value:I,onChange:E,className:"w-32 min-w-0"}),o.jsx(U,{size:"lg",className:"ml-2 font-bold px-6 py-2",onClick:()=>{h.length===0?_({show:!0,title:"No Won Deals Available",variant:"warning",description:"You need to have at least one won deal before scheduling a job."}):y(!0)},leftIcon:o.jsx(Lr,{size:20}),children:"New Job"})]})]}),o.jsx(le,{children:o.jsxs(pe,{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Job Schedule"})}),m?o.jsx("div",{className:"text-center py-4",children:"Loading schedule..."}):h.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2 font-sans",children:"No Won Deals Yet"}),o.jsx("p",{className:"text-gray-700 font-sans",children:'Jobs can only be scheduled for deals that have been marked as "won". Return to the Deals page and move a deal to the "won" stage first.'})]}):G()]})}),o.jsxs(Ct,{isOpen:g,onClose:()=>{y(!1),q()},title:w?`Schedule Job for Won Deal: ${j||""}`:"Schedule Job for Won Deal",size:"lg",children:[o.jsxs("div",{className:"space-y-6",children:[w&&o.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 rounded-md mb-4",children:[o.jsx("h4",{className:"font-medium mb-2 text-green-800",children:"Creating Job from Won Deal"}),o.jsxs("p",{className:"text-green-700",children:[o.jsx("span",{className:"font-medium",children:"Customer:"})," ",j||"Unknown customer"]}),o.jsx("p",{className:"text-green-700 text-sm mt-2",children:"Please select equipment, operators, and schedule dates for this job."})]}),o.jsx(Te,{label:"Select Customer (Won Deals)",options:[{value:"",label:"-- Select a customer with a won deal --"},...Array.isArray(h)?h.map(O=>({value:O.id,label:`${O.customerName} - Won Deal`})):[]],value:z.leadId,onChange:O=>{W(H=>({...H,leadId:O})),O?(async()=>{T(!0);try{const K=await od(O);if(K&&K.length>0){const fe=[];K.forEach(A=>{if(A.selectedEquipment&&A.selectedEquipment.equipmentId){const $=l.find(M=>M.id===A.selectedEquipment.equipmentId);$&&!fe.some(M=>M.id===$.id)&&fe.push($)}A.selectedMachines&&A.selectedMachines.length>0&&A.selectedMachines.forEach($=>{if($.equipmentId){const M=l.find(Y=>Y.id===$.equipmentId);M&&!fe.some(Y=>Y.id===M.id)&&fe.push(M)}})}),N(fe),fe.length>0&&W(A=>({...A,equipmentId:fe[0].id}))}}catch(K){console.error("Error loading equipment for lead:",K)}finally{T(!1)}})():(N([]),W(H=>({...H,equipmentId:""})))},required:!0,className:"text-black"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Te,{label:"Equipment",options:C.length>0&&w?[{value:"",label:"-- Select deal-specific equipment --"},...Array.isArray(C)?C.map(O=>({value:O.id,label:`${O.name} (From Deal)`})):[]]:[{value:"",label:"-- Select equipment --"},...Array.isArray(l)?l.map(O=>({value:O.id,label:O.name})):[]],value:z.equipmentId,onChange:O=>W(H=>({...H,equipmentId:O})),required:!0,className:"text-black"}),D?o.jsx("p",{className:"mt-1 text-xs text-blue-600",children:"Loading equipment from quotations..."}):C.length>0?o.jsxs("p",{className:"mt-1 text-xs text-green-600",children:[C.length," equipment item",C.length!==1?"s":""," from deal quotation",C.length!==1?"s":""]}):z.leadId?o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"No specific equipment found in deal quotations"}):null]}),o.jsx(Te,{label:"Operator",options:[{value:"",label:"-- Select operator --"},...ae().map(O=>({value:O.id,label:O.name}))],value:z.operatorId,onChange:O=>W(H=>({...H,operatorId:O})),required:!0,className:"text-black"}),z.startDate&&z.endDate&&o.jsx("p",{className:"mt-1 text-xs text-gray-600",children:(()=>{const O=ae(),H=u.length,K=H-O.length;return K===0?`All ${H} operators are available`:O.length===0?"No operators available for this time slot":`${O.length} of ${H} operators available (${K} busy)`})()})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(De,{type:"datetime-local",label:"Start Date & Time",value:z.startDate,onChange:O=>W(H=>({...H,startDate:O.target.value})),required:!0,className:"text-black"}),o.jsx(De,{type:"datetime-local",label:"End Date & Time",value:z.endDate,onChange:O=>W(H=>({...H,endDate:O.target.value})),required:!0,className:"text-black"})]}),o.jsx(De,{label:"Location",value:z.location,onChange:O=>W(H=>({...H,location:O.target.value})),required:!0,className:"text-black"}),o.jsx(Qn,{label:"Notes",value:z.notes,onChange:O=>W(H=>({...H,notes:O.target.value})),rows:4,className:"text-black"}),z.equipmentId&&z.operatorId&&z.startDate&&z.endDate&&o.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Availability Check"}),(()=>{const O=ne(z.equipmentId,z.operatorId,z.startDate,z.endDate);return O.length>0?o.jsxs("div",{className:"text-error-600",children:[o.jsx("p",{children:"Conflicts found:"}),o.jsx("ul",{className:"list-disc list-inside text-sm",children:O.map(H=>o.jsxs("li",{children:[H.customerName," - ",br(new Date(H.scheduledStartDate),"MMM d, h:mm a")]},H.id))})]}):o.jsx("p",{className:"text-success-600",children:"Equipment and operator are available for the selected time slot."})})()]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx(U,{variant:"outline",onClick:()=>{y(!1),q()},children:"Cancel"}),o.jsx(U,{onClick:B,variant:"accent",children:"Schedule Job"})]})]}),o.jsx(Ct,{isOpen:!!b,onClose:()=>v(null),title:"Job Details",size:"lg",children:b&&o.jsx(nH,{selectedJob:b})}),F.show&&o.jsx(ft,{title:F.title,description:F.description,variant:F.variant,isVisible:F.show,duration:3e3,onClose:()=>_({show:!1,title:""})})]})}function nH({selectedJob:e}){const[t,n]=re.useState(""),[r,s]=re.useState("");return re.useEffect(()=>{async function i(){try{const a=await jb.getJobEquipment(e.id);if(!a||a.length===0){n("No equipment assigned");return}const l=[];for(const c of a){const u=await Y2(c.id);u&&u.name&&l.push(u.name)}n(l.length>0?l.join(", "):"No equipment assigned")}catch(a){console.error("Error fetching equipment names:",a),n("Error loading equipment")}}i()},[e.id]),re.useEffect(()=>{async function i(){try{const a=await jb.getJobOperators(e.id);if(!a||a.length===0){s("No operator assigned");return}const l=[];for(const c of a){const d=(await Bl()).find(h=>h.id===c.id);d&&d.name&&l.push(d.name)}s(l.length>0?l.join(", "):"No operator assigned")}catch(a){console.error("Error fetching operator names:",a),s("Error loading operators")}}i()},[e.id]),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-black",children:"Customer"}),o.jsx("input",{type:"text",className:"mt-1 text-black bg-gray-100 border border-gray-300 rounded px-2 py-1 w-full",value:e.customerName,disabled:!0,readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-black",children:"Status"}),o.jsx("input",{type:"text",className:"mt-1 text-black bg-gray-100 border border-gray-300 rounded px-2 py-1 w-full",value:e.status,disabled:!0,readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-black",children:"Equipment"}),o.jsx("input",{type:"text",className:"mt-1 text-black bg-gray-100 border border-gray-300 rounded px-2 py-1 w-full",value:t,disabled:!0,readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-black",children:"Operator"}),o.jsx("input",{type:"text",className:"mt-1 text-black bg-gray-100 border border-gray-300 rounded px-2 py-1 w-full",value:r,disabled:!0,readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-black",children:"Start Date"}),o.jsx("input",{type:"text",className:"mt-1 text-black bg-gray-100 border border-gray-300 rounded px-2 py-1 w-full",value:br(new Date(e.scheduledStartDate),"MMM d, yyyy h:mm a"),disabled:!0,readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-black",children:"End Date"}),o.jsx("input",{type:"text",className:"mt-1 text-black bg-gray-100 border border-gray-300 rounded px-2 py-1 w-full",value:br(new Date(e.scheduledEndDate),"MMM d, yyyy h:mm a"),disabled:!0,readOnly:!0})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("h4",{className:"text-sm font-medium text-black",children:"Location"}),o.jsx("input",{type:"text",className:"mt-1 text-black bg-gray-100 border border-gray-300 rounded px-2 py-1 w-full",value:e.location,disabled:!0,readOnly:!0})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("h4",{className:"text-sm font-medium text-black",children:"Notes"}),o.jsx("input",{type:"text",className:"mt-1 text-black bg-gray-100 border border-gray-300 rounded px-2 py-1 w-full",value:e.notes||"No notes",disabled:!0,readOnly:!0})]})]})})}const rH=[{id:"road_access",label:"Road Access",description:"Accessibility for crane transport"},{id:"height_limits",label:"Height Limits",description:"Overhead restrictions"},{id:"crane_setup",label:"Crane Setup Area",description:"Space available for crane positioning"},{id:"power_lines",label:"Power Lines",description:"Proximity to electrical infrastructure"},{id:"surface_type",label:"Surface Type",description:"Ground conditions and stability"},{id:"other",label:"Other",description:"Additional site-specific constraints"}];function sH(){const{user:e}=Ge(),[t,n]=x.useState(""),[r,s]=x.useState(""),[i,a]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState([]),[h,f]=x.useState([]),[m,p]=x.useState(""),[g,y]=x.useState(!1),[b,v]=x.useState(null),[w,S]=x.useState([]),[j,k]=x.useState(!0),[C,N]=x.useState({show:!1,title:""}),D=x.useRef(null);x.useEffect(()=>{(async()=>{try{const R=await L2();S(R),k(!1)}catch(R){console.error("Error fetching site assessments:",R),I("Error loading site assessments","error"),k(!1)}})()},[]);const T=P=>{const q=Array.from(P.target.files||[]).filter(J=>{const ne=["image/jpeg","image/png","image/webp","video/mp4","video/quicktime"].includes(J.type),ae=J.size<=10*1024*1024;return!ne||!ae?(I("Invalid file",`${J.name} is not supported. Please upload images (JPEG, PNG) or videos (MP4) under 10MB.`,"error"),!1):!0}).map(J=>({id:Math.random().toString(36).substring(2,9),file:J,preview:URL.createObjectURL(J),annotations:[]}));d(J=>[...J,...q])},L=P=>{P.preventDefault();const R=Array.from(P.dataTransfer.files),B=D.current;if(B){const q=new DataTransfer;R.forEach(ne=>q.items.add(ne)),B.files=q.files;const J=new Event("change",{bubbles:!0});B.dispatchEvent(J)}},V=P=>{P.preventDefault()},F=P=>{d(R=>{const B=R.filter(q=>q.id!==P);return R.forEach(q=>{q.id===P&&URL.revokeObjectURL(q.preview)}),B})},_=P=>{f(R=>R.find(q=>q.id===P.id)?R.filter(q=>q.id!==P.id):[...R,{...P}])},z=(P,R)=>{f(B=>B.map(q=>q.id===P?{...q,notes:R}:q))},W=async()=>{if(!m.match(/^\+?[\d\s-]{10,}$/)){I("Invalid phone number","Please enter a valid phone number","error");return}try{await new Promise(P=>setTimeout(P,1e3)),I("Assessment link sent",`A remote assessment link has been sent to ${m}`,"success"),p("")}catch{I("Error sending link","Please try again later","error")}},I=(P,R,B="success")=>{N({show:!0,title:P,description:R,variant:B}),setTimeout(()=>N({show:!1,title:""}),3e3)},E=async()=>{if(!e){I("Error","You need to be logged in to submit a site assessment","error");return}if(!t){I("Missing title","Please provide a title for the site assessment","warning");return}if(!i){I("Missing location","Please provide the site location","warning");return}if(u.length===0){I("Missing files","Please upload at least one site photo or video","warning");return}try{const P=u.filter(ae=>ae.file.type.startsWith("image/")).map(ae=>`mock-url-${ae.id}`),R=u.filter(ae=>ae.file.type.startsWith("video/")).map(ae=>`mock-url-${ae.id}`),B=h.map(ae=>ae.id),q=h.filter(ae=>ae.notes).map(ae=>`${ae.label}: ${ae.notes}`).join(`
`),J={title:t,description:r,customerId:l||"unknown",location:i,constraints:B,notes:q,images:P,videos:R,createdBy:e.id},ne=await F2(J);S(ae=>[...ae,ne]),n(""),s(""),c(""),a(""),d([]),f([]),p(""),I("Site assessment submitted successfully",void 0,"success")}catch(P){console.error("Error submitting site assessment:",P),I("Error submitting assessment","Please try again later","error")}};return re.useEffect(()=>()=>{u.forEach(P=>{URL.revokeObjectURL(P.preview)})},[]),!e||e.role!=="sales_agent"&&e.role!=="operator"&&e.role!=="admin"?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"You don't have permission to access this page."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Upload Media"})}),o.jsxs(pe,{children:[o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",onDrop:L,onDragOver:V,children:[o.jsx("input",{ref:D,type:"file",className:"hidden",multiple:!0,accept:"image/jpeg,image/png,image/webp,video/mp4,video/quicktime",onChange:T}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(qN,{className:"h-12 w-12 text-gray-400"})}),o.jsxs("div",{children:[o.jsx(U,{variant:"outline",onClick:()=>{var P;return(P=D.current)==null?void 0:P.click()},children:"Choose Files"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"or drag and drop files here"})]}),o.jsx("p",{className:"text-xs text-gray-400",children:"Supported formats: JPEG, PNG, MP4 (max 10MB)"})]})]}),u.length>0&&o.jsx("div",{className:"mt-6 grid grid-cols-2 sm:grid-cols-3 gap-4",children:u.map(P=>o.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200",children:[P.file.type.startsWith("image/")?o.jsx("img",{src:P.preview,alt:"Preview",className:"w-full h-32 object-cover"}):o.jsx("video",{src:P.preview,className:"w-full h-32 object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[P.file.type.startsWith("image/")&&o.jsx(U,{variant:"ghost",size:"sm",className:"text-white hover:text-white hover:bg-black/20",onClick:()=>{v(P),y(!0)},children:o.jsx(nv,{size:16})}),o.jsx(U,{variant:"ghost",size:"sm",className:"text-white hover:text-white hover:bg-black/20",onClick:()=>F(P.id),children:o.jsx(ur,{size:16})})]}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs p-1 truncate",children:P.file.name})]},P.id))})]})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Site Constraints"})}),o.jsx(pe,{children:o.jsx("div",{className:"space-y-4",children:rH.map(P=>{var R;return o.jsx("div",{className:`p-4 rounded-lg border transition-colors ${h.some(B=>B.id===P.id)?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("button",{className:`flex-shrink-0 w-5 h-5 rounded-full border-2 transition-colors ${h.some(B=>B.id===P.id)?"border-primary-500 bg-primary-500":"border-gray-300"}`,onClick:()=>_(P),children:h.some(B=>B.id===P.id)&&o.jsx(sI,{className:"text-white h-4 w-4"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"font-medium text-gray-900",children:P.label}),P.description&&o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:P.description}),h.some(B=>B.id===P.id)&&o.jsx(Qn,{className:"mt-3",placeholder:"Add notes about this constraint...",value:((R=h.find(B=>B.id===P.id))==null?void 0:R.notes)||"",onChange:B=>z(P.id,B.target.value),rows:2})]})]})},P.id)})})})]})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Remote Site Assessment"})}),o.jsx(pe,{children:o.jsxs("div",{className:"max-w-md",children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsx(De,{type:"tel",placeholder:"Enter phone number",value:m,onChange:P=>p(P.target.value)}),o.jsx(U,{onClick:W,leftIcon:o.jsx(fa,{size:16}),children:"Send Link"})]}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Send a link to conduct remote site assessment via video call"})]})})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Site Details"})}),o.jsx(pe,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),o.jsx(De,{value:t,onChange:P=>n(P.target.value),placeholder:"Site assessment title",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer ID"}),o.jsx(De,{value:l,onChange:P=>c(P.target.value),placeholder:"Enter customer ID if available"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),o.jsx(De,{value:i,onChange:P=>a(P.target.value),placeholder:"Enter site address/location",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx(Qn,{value:r,onChange:P=>s(P.target.value),placeholder:"Additional details about the site",rows:3})]})]})})]}),o.jsx("div",{className:"flex justify-end mt-6",children:o.jsxs(U,{onClick:E,className:"flex items-center gap-2",children:[o.jsx(fa,{size:16}),"Submit Assessment"]})}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Assessment Summary"})}),o.jsx(pe,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Uploaded Media (",u.length,")"]}),u.length>0?o.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(P=>o.jsxs("div",{className:"text-sm text-gray-600 bg-gray-100 rounded-full px-3 py-1 flex items-center gap-2",children:[P.file.type.startsWith("image/")?o.jsx(rI,{size:14}):o.jsx(nv,{size:14}),o.jsx("span",{className:"truncate max-w-[200px]",children:P.file.name})]},P.id))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No media uploaded yet"})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Tagged Constraints (",h.length,")"]}),h.length>0?o.jsx("div",{className:"space-y-3",children:h.map(P=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-900",children:[o.jsx(HN,{size:14}),P.label]}),P.notes&&o.jsx("p",{className:"mt-1 text-sm text-gray-600",children:P.notes})]},P.id))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No constraints tagged yet"})]})]})})]}),o.jsx(Mx,{children:g&&b&&o.jsx(es.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:o.jsxs(es.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-lg shadow-modal max-w-4xl w-full max-h-[90vh] overflow-hidden",children:["              ",o.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Image Annotation"}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{y(!1),v(null)},children:o.jsx(Ni,{size:20})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"relative",children:o.jsx("img",{src:b.preview,alt:"Annotation",className:"max-w-full h-auto"})}),o.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[o.jsx(U,{variant:"outline",onClick:()=>{y(!1),v(null)},children:"Cancel"}),o.jsx(U,{onClick:()=>{y(!1),v(null),I("Annotations saved",void 0,"success")},children:"Save Annotations"})]})]})]})})}),C.show&&o.jsx(ft,{title:C.title,description:C.description,variant:C.variant,isVisible:C.show,onClose:()=>N({show:!1,title:""})})]})}const iH=[{id:"ppe",label:"PPE Used Correctly",checked:!0},{id:"site_clearance",label:"Site Clearance Verified",checked:!0},{id:"emergency_contacts",label:"Emergency Contact Shared",checked:!0},{id:"equipment_check",label:"Equipment Pre-Check Complete",checked:!0},{id:"hazards_identified",label:"Hazards Identified & Marked",checked:!0},{id:"communication",label:"Communication Protocol Established",checked:!0}];function aH(){const{id:e}=PN(),{user:t}=Ge(),[n,r]=x.useState(null),[s,i]=x.useState(!0),[a,l]=x.useState(iH),[c,u]=x.useState(""),[d,h]=x.useState(!1),[f,m]=x.useState(""),[p,g]=x.useState(""),[y,b]=x.useState(null),[v,w]=x.useState({show:!1,title:""});x.useEffect(()=>{e&&S()},[e]);const S=async()=>{try{const T={id:e,title:`Crane Rental - ${e}`,leadId:"lead_123",customerId:"cust_123",customerName:"ABC Construction Ltd.",equipmentIds:["eq_001"],operatorIds:["op_001"],status:"completed",scheduledStartDate:new Date().toISOString(),scheduledEndDate:new Date(Date.now()+288e5).toISOString(),location:"Mumbai Construction Site",createdBy:"user_123",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r(T),b({rating:4.5,comments:"Great service, very professional team. Equipment arrived on time.",submittedAt:new Date().toISOString()})}catch(T){console.error("Error fetching job details:",T),D("Error fetching job details","error")}finally{i(!1)}},j=T=>{l(L=>L.map(V=>V.id===T?{...V,checked:!V.checked}:V))},k=async()=>{try{await new Promise(T=>setTimeout(T,1e3)),D("Feedback request sent successfully","success")}catch{D("Error sending feedback request","error")}},C=async()=>{if(!f||!p){D("Please fill in all discount request fields","error");return}try{await new Promise(T=>setTimeout(T,1e3)),D("Discount request submitted for approval","success")}catch{D("Error submitting discount request","error")}},N=()=>{D("Summary downloaded successfully","success")},D=(T,L="success")=>{w({show:!0,title:T,variant:L}),setTimeout(()=>w({show:!1,title:""}),3e3)};return!t||t.role!=="admin"&&t.role!=="operations_manager"&&t.role!=="sales_agent"&&t.role!=="support"?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"You don't have permission to access this page."}):s?o.jsx("div",{className:"p-6 text-center",children:"Loading job summary..."}):!n&&!e?o.jsx("div",{className:"p-6 text-center text-gray-500",children:"Select a job to view its summary and feedback"}):n?o.jsxs("div",{className:"space-y-6 p-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Job Summary & Feedback"}),o.jsxs("p",{className:"text-gray-500 mt-1",children:["Job #",e]})]}),o.jsx(U,{variant:"outline",leftIcon:o.jsx(Ud,{size:16}),onClick:N,children:"Download Summary"})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Job Details"})}),o.jsx(pe,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Customer"}),o.jsx("p",{className:"mt-1 text-lg",children:n.customerName})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Location"}),o.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[o.jsx(Wd,{className:"h-5 w-5 text-gray-400"}),o.jsx("span",{children:n.location})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Equipment"}),o.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[o.jsx(Ht,{className:"h-5 w-5 text-gray-400"}),o.jsx("span",{children:"Tower Crane TC-80"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Operator"}),o.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[o.jsx(pi,{className:"h-5 w-5 text-gray-400"}),o.jsx("span",{children:"Mike Operator"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Duration"}),o.jsxs("div",{className:"mt-1 space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gn,{className:"h-5 w-5 text-gray-400"}),o.jsx("span",{children:new Date(n.scheduledStartDate).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yn,{className:"h-5 w-5 text-gray-400"}),o.jsxs("span",{children:[new Date(n.scheduledStartDate).toLocaleTimeString()," - ",new Date(n.scheduledEndDate).toLocaleTimeString()]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Status"}),o.jsx("div",{className:"mt-1",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-success-100 text-success-800",children:"Completed"})})]})]})]})})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Safety Observations"})}),o.jsx(pe,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(T=>o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("button",{className:`flex-shrink-0 w-5 h-5 mt-0.5 rounded-full border-2 transition-colors ${T.checked?"border-success-500 bg-success-500":"border-gray-300"}`,onClick:()=>j(T.id),children:T.checked&&o.jsx(ys,{className:"text-white h-4 w-4"})}),o.jsx("span",{className:"text-gray-700",children:T.label})]},T.id))}),o.jsx(Qn,{label:"Safety Notes",value:c,onChange:T=>u(T.target.value),placeholder:"Enter any additional safety observations...",rows:4})]})})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(ve,{children:"Customer Feedback"}),o.jsx(U,{variant:"outline",leftIcon:o.jsx(fa,{size:16}),onClick:k,children:"Request Feedback"})]})}),o.jsx(pe,{children:y?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex",children:[1,2,3,4,5].map(T=>o.jsx("svg",{className:`h-5 w-5 ${T<=y.rating?"text-warning-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},T))}),o.jsx("span",{className:"text-lg font-medium",children:y.rating})]}),o.jsx("p",{className:"text-gray-600",children:y.comments}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Submitted on ",new Date(y.submittedAt).toLocaleDateString()]})]}):o.jsx("p",{className:"text-gray-500 text-center py-4",children:"No feedback received yet"})})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Discount Request"})}),o.jsx(pe,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"jobFeedback-requestDiscount",checked:d,onChange:T=>h(T.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsx("label",{htmlFor:"requestDiscount",className:"text-sm text-gray-700",children:"Request discount approval"})]}),d&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(Qn,{label:"Reason for Discount",value:f,onChange:T=>m(T.target.value),placeholder:"Explain why a discount is being requested...",rows:3}),o.jsx("div",{className:"w-48",children:o.jsx(De,{type:"number",label:"Discount Percentage",value:p,onChange:T=>g(T.target.value),min:"0",max:"100",placeholder:"Enter %"})}),o.jsx("div",{className:"flex justify-end",children:o.jsx(U,{onClick:C,children:"Submit for Approval"})})]})]})})]}),v.show&&o.jsx(ft,{title:v.title,variant:v.variant,isVisible:v.show,onClose:()=>w({show:!1,title:""})})]}):o.jsx("div",{className:"p-6 text-center text-gray-500",children:"Job not found"})}const oH=async()=>{try{return await Ln.get("/equipment")}catch(e){return console.error("Failed to fetch equipment:",e),[]}},lH=async e=>{try{return await Ln.post("/equipment",e)}catch(t){throw console.error("Failed to create equipment:",t),new Error(t.message||"Failed to create equipment")}},cH=async(e,t)=>{try{return await Ln.put(`/equipment/${e}`,t)}catch(n){return console.error(`Failed to update equipment ${e}:`,n),null}},uH=async e=>{try{return await Ln.delete(`/equipment/${e}`),!0}catch(t){return console.error(`Failed to delete equipment ${e}:`,t),!1}},Wf=e=>{var t,n,r,s;return{...e,name:e.name||"",category:e.category||"mobile_crane",manufacturingDate:e.manufacturingDate||"",registrationDate:e.registrationDate||"",maxLiftingCapacity:e.maxLiftingCapacity||0,unladenWeight:e.unladenWeight||0,baseRates:{micro:((t=e.baseRates)==null?void 0:t.micro)||0,small:((n=e.baseRates)==null?void 0:n.small)||0,monthly:((r=e.baseRates)==null?void 0:r.monthly)||0,yearly:((s=e.baseRates)==null?void 0:s.yearly)||0},runningCostPerKm:e.runningCostPerKm||0,description:e.description||"",status:e.status||"available",createdAt:e.createdAt||new Date().toISOString(),updatedAt:e.updatedAt||new Date().toISOString(),runningCost:e.runningCost||0,_source:e._source,_mockFlag:e._mockFlag}},Hf=[{value:"available",label:"Available"},{value:"in_use",label:"In Use"},{value:"maintenance",label:"Maintenance"}],qf=[{value:"mobile_crane",label:"Mobile Crane"},{value:"tower_crane",label:"Tower Crane"},{value:"crawler_crane",label:"Crawler Crane"},{value:"pick_and_carry_crane",label:"Pick & Carry Crane"}],dH=[{value:"micro",label:"Micro"},{value:"small",label:"Small"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}];function hH(){const{user:e}=Ge(),[t,n]=x.useState([]),[r,s]=x.useState([]),[i,a]=x.useState(""),[l,c]=x.useState("all"),[u,d]=x.useState("all"),[h,f]=x.useState(!0),[m,p]=x.useState(!1),[g,y]=x.useState(!1),[b,v]=x.useState(null),[w,S]=x.useState({show:!1,title:""}),[j,k]=x.useState({name:"",category:"mobile_crane",manufacturingDate:"",registrationDate:"",maxLiftingCapacity:"",unladenWeight:"",baseRates:{micro:"",small:"",monthly:"",yearly:""},runningCostPerKm:"",description:"",status:"available"});x.useEffect(()=>{C()},[]),x.useEffect(()=>{N()},[t,i,l,u]);const C=async()=>{try{let _=await oH();_=_.map(Wf),n(_),console.log("Successfully connected to equipment API"),f(!1)}catch(_){console.error("Error fetching equipment:",_),F("Error fetching equipment","error"),f(!1)}},N=()=>{let _=[...t];i&&(_=_.filter(z=>z.name.toLowerCase().includes(i.toLowerCase()))),l!=="all"&&(_=_.filter(z=>z.status===l)),u!=="all"&&(_=_.filter(z=>z.category===u)),s(_)},D=()=>{if(!j.name||!j.manufacturingDate||!j.registrationDate||!j.maxLiftingCapacity||!j.unladenWeight||!j.runningCostPerKm||!j.baseRates.micro||!j.baseRates.small||!j.baseRates.monthly||!j.baseRates.yearly)return F("Please fill in all required fields","error"),!1;const _=/^\d{4}-\d{2}$/;return!_.test(j.manufacturingDate)||!_.test(j.registrationDate)?(F("Please enter valid dates in YYYY-MM format","error"),!1):isNaN(Number(j.maxLiftingCapacity))||isNaN(Number(j.unladenWeight))||isNaN(Number(j.runningCostPerKm))||isNaN(Number(j.baseRates.micro))||isNaN(Number(j.baseRates.small))||isNaN(Number(j.baseRates.monthly))||isNaN(Number(j.baseRates.yearly))?(F("Please enter valid numbers for numeric fields","error"),!1):!0},T=async _=>{if(_.preventDefault(),!!D())try{const z={...j,equipmentId:(b==null?void 0:b.equipmentId)||`EQ${String(Math.floor(1e3+Math.random()*9e3)).padStart(4,"0")}`,maxLiftingCapacity:Number(j.maxLiftingCapacity),unladenWeight:Number(j.unladenWeight),baseRates:{micro:Number(j.baseRates.micro),small:Number(j.baseRates.small),monthly:Number(j.baseRates.monthly),yearly:Number(j.baseRates.yearly)},runningCost:Number(j.runningCostPerKm),runningCostPerKm:Number(j.runningCostPerKm)};if(console.log("Form submission data:",z),b){console.log(`Updating equipment ${b.id}`,z);let W=await cH(b.id,z);W?(console.log("Update successful:",W),W=Wf(W),n(I=>I.map(E=>E.id===b.id?W:E)),F("Equipment updated successfully","success")):F("Failed to update equipment","error")}else{console.log("Creating new equipment",z);let W=await lH(z);W=Wf(W),console.log("Creation successful:",W),n(I=>[...I,W]),F("Equipment added successfully","success")}setTimeout(()=>{C()},500),p(!1),V()}catch(z){console.error("Error saving equipment:",z),F("Error saving equipment","error")}},L=async()=>{if(b)try{await uH(b.id),n(_=>_.filter(z=>z.id!==b.id)),y(!1),v(null),F("Equipment deleted successfully","success")}catch{F("Error deleting equipment","error")}},V=()=>{k({name:"",category:"mobile_crane",manufacturingDate:"",registrationDate:"",maxLiftingCapacity:"",unladenWeight:"",baseRates:{micro:"",small:"",monthly:"",yearly:""},runningCostPerKm:"",description:"",status:"available"}),v(null)},F=(_,z="success")=>{S({show:!0,title:_,variant:z}),setTimeout(()=>S({show:!1,title:""}),3e3)};return!e||e.role!=="operations_manager"&&e.role!=="admin"?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"You don't have permission to access this page."}):o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(fr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx(me,{placeholder:"Search equipment...",value:i,onChange:_=>a(_.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx(Te,{value:u,onChange:_=>d(_),options:[{value:"all",label:"All Categories"},...qf],className:"w-full sm:w-48"}),o.jsx(Te,{value:l,onChange:_=>c(_),options:[{value:"all",label:"All Status"},...Hf],className:"w-full sm:w-48"})]})]}),o.jsx(U,{onClick:()=>{V(),p(!0)},leftIcon:o.jsx(Lr,{className:"w-4 h-4"}),variant:"accent",className:"w-full sm:w-auto flex-shrink-0",children:"Add Equipment"})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Equipment Inventory"})}),o.jsx(pe,{children:h?o.jsx("div",{className:"text-center py-4",children:"Loading equipment..."}):r.length===0?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"No equipment found. Add new equipment to get started."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Equipment Details"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category & Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Specifications"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sm:px-6",children:"Rates"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(_=>{var z,W;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:_.name}),o.jsx("div",{className:"text-sm text-gray-500",children:_.equipmentId}),_.description&&o.jsx("div",{className:"text-sm text-gray-500 mt-1",children:_.description})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(fl,{variant:"secondary",className:"w-full justify-center",children:(z=qf.find(I=>I.value===_.category))==null?void 0:z.label}),o.jsx(fl,{variant:_.status==="available"?"success":_.status==="in_use"?"warning":"error",className:"w-full justify-center",children:(W=Hf.find(I=>I.value===_.status))==null?void 0:W.label})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"text-sm space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gn,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsxs("span",{className:"text-gray-900",children:["Mfg: ",_.manufacturingDate||"N/A"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(TI,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-900",children:_.maxLiftingCapacity?`${_.maxLiftingCapacity} tons max lift`:"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ht,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-900",children:_.unladenWeight?`${_.unladenWeight} tons unladen`:"N/A"})]}),_.registrationDate&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gn,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsxs("span",{className:"text-gray-900",children:["Reg: ",_.registrationDate]})]})]})}),o.jsx("td",{className:"px-6 py-4 min-w-[300px]",children:o.jsxs("div",{className:"text-sm",children:["                          ",o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"font-medium text-gray-900 mb-3",children:"Base Rates"}),o.jsx("div",{className:"space-y-2.5",children:dH.map(I=>o.jsxs("div",{className:"grid grid-cols-[100px,1fr] items-baseline",children:[o.jsx("span",{className:"text-gray-600",children:I.label}),o.jsxs("div",{className:"flex items-baseline gap-1.5",children:[o.jsx("span",{className:"text-gray-400 text-sm",children:""}),o.jsx("span",{className:"text-gray-900 font-medium",children:_.baseRates&&_.baseRates[I.value]!==void 0?Ue(_.baseRates[I.value]):"N/A"}),o.jsx("span",{className:"text-gray-500 text-sm",children:I.value==="monthly"||I.value==="yearly"?o.jsxs("div",{children:["per",o.jsx("br",{}),"month"]}):"per hour"})]})]},I.value))})]}),"                            ",o.jsxs("div",{className:"mt-3 flex items-center gap-2 text-gray-600",children:[o.jsx(Ht,{className:"h-4 w-4"}),o.jsx("span",{children:"Running:"}),o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsx("span",{className:"text-gray-400",children:""}),o.jsx("span",{className:"text-gray-900",children:_.runningCostPerKm!==void 0?Ue(_.runningCostPerKm):"N/A"}),o.jsx("span",{className:"text-gray-500",children:"/km"})]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{v(_),k({name:_.name||"",category:_.category||"mobile_crane",manufacturingDate:_.manufacturingDate||"",registrationDate:_.registrationDate||"",maxLiftingCapacity:_.maxLiftingCapacity!==void 0?String(_.maxLiftingCapacity):"",unladenWeight:_.unladenWeight!==void 0?String(_.unladenWeight):"",baseRates:{micro:_.baseRates&&_.baseRates.micro!==void 0?String(_.baseRates.micro):"",small:_.baseRates&&_.baseRates.small!==void 0?String(_.baseRates.small):"",monthly:_.baseRates&&_.baseRates.monthly!==void 0?String(_.baseRates.monthly):"",yearly:_.baseRates&&_.baseRates.yearly!==void 0?String(_.baseRates.yearly):""},runningCostPerKm:_.runningCostPerKm!==void 0?String(_.runningCostPerKm):"",description:_.description||"",status:_.status||"available"}),p(!0)},children:o.jsx(Ta,{className:"h-4 w-4"})}),o.jsx(U,{variant:"ghost",size:"sm",className:"text-error-600 hover:text-error-700 hover:bg-error-50",onClick:()=>{v(_),y(!0)},children:o.jsx(ur,{className:"h-4 w-4"})})]})})]},_.id)})})]})})})]}),o.jsx(Ct,{title:b?"Edit Equipment":"Add Equipment",isOpen:m,onClose:()=>{p(!1),V()},size:"lg",children:o.jsxs("form",{onSubmit:T,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[o.jsx(me,{label:"Name",value:j.name,onChange:_=>k({...j,name:_.target.value}),required:!0}),o.jsx(me,{label:"Max Lifting Capacity (tons)",type:"number",value:j.maxLiftingCapacity,onChange:_=>k({...j,maxLiftingCapacity:_.target.value}),required:!0}),o.jsx(Te,{label:"Category",value:j.category,onChange:_=>k({...j,category:_}),options:qf,className:"w-full"}),o.jsx(me,{label:"Unladen Weight (tons)",type:"number",value:j.unladenWeight,onChange:_=>k({...j,unladenWeight:_.target.value}),required:!0}),o.jsx(me,{label:"Manufacturing Date (YYYY-MM)",value:j.manufacturingDate,onChange:_=>k({...j,manufacturingDate:_.target.value}),placeholder:"YYYY-MM",required:!0}),o.jsx(me,{label:"Running Cost (/km)",type:"number",value:j.runningCostPerKm,onChange:_=>k({...j,runningCostPerKm:_.target.value}),required:!0}),o.jsx(me,{label:"Registration Date (YYYY-MM)",value:j.registrationDate,onChange:_=>k({...j,registrationDate:_.target.value}),placeholder:"YYYY-MM",required:!0}),o.jsx(Te,{label:"Status",value:j.status,onChange:_=>k({...j,status:_}),options:Hf,className:"w-full"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-base font-medium text-gray-900",children:"Base Rates"}),o.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[o.jsx(me,{label:"Micro Rate ( per hour)",type:"number",value:j.baseRates.micro,onChange:_=>k({...j,baseRates:{...j.baseRates,micro:_.target.value}}),required:!0}),o.jsx(me,{label:"Small Rate ( per hour)",type:"number",value:j.baseRates.small,onChange:_=>k({...j,baseRates:{...j.baseRates,small:_.target.value}}),required:!0}),o.jsx(me,{label:"Monthly Rate ( per month)",type:"number",value:j.baseRates.monthly,onChange:_=>k({...j,baseRates:{...j.baseRates,monthly:_.target.value}}),required:!0}),o.jsx(me,{label:"Yearly Rate ( per month)",type:"number",value:j.baseRates.yearly,onChange:_=>k({...j,baseRates:{...j.baseRates,yearly:_.target.value}}),required:!0})]})]}),o.jsx(Qn,{label:"Description",value:j.description,onChange:_=>k({...j,description:_.target.value}),rows:3}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>{p(!1),V()},children:"Cancel"}),o.jsx(U,{type:"submit",variant:"accent",children:b?"Update Equipment":"Add Equipment"})]})]})}),o.jsx(Ct,{title:"Delete Equipment",isOpen:g,onClose:()=>{y(!1),v(null)},children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700",children:"Are you sure you want to delete this equipment? This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(U,{variant:"outline",onClick:()=>{y(!1),v(null)},children:"Cancel"}),o.jsx(U,{variant:"destructive",onClick:L,children:"Delete Equipment"})]})]})}),o.jsx(ft,{title:w.title,variant:w.variant,isVisible:w.show,onClose:()=>S({show:!1,title:""})})]})}const Gf=[{value:"lifting",label:"Lifting Service"},{value:"transport",label:"Transport Service"},{value:"attachment",label:"Attachment Rental"},{value:"operator",label:"Operator Assistance"},{value:"consultation",label:"Technical Consultation"}],fH=[{value:"hour",label:"Per Hour"},{value:"day",label:"Per Day"},{value:"shift",label:"Per Shift"}];function mH(){const{user:e}=Ge(),[t,n]=x.useState([]),[r,s]=x.useState([]),[i,a]=x.useState(""),[l,c]=x.useState("all"),[u,d]=x.useState("all"),[h,f]=x.useState(!1),[m,p]=x.useState(!1),[g,y]=x.useState(null),[b,v]=x.useState(!0),[w,S]=x.useState({show:!1,title:""}),j=(F,_="success",z)=>{S({show:!0,title:F,variant:_,description:z}),setTimeout(()=>S({show:!1,title:""}),3e3)},[k,C]=x.useState({name:"",type:"",baseRate:"",unit:"hour",description:"",isActive:!0});x.useEffect(()=>{(async()=>{try{v(!0);const _=await $2();n(_),v(!1)}catch(_){console.error("Error fetching services:",_),j("Error fetching services","error"),v(!1)}})()},[]),x.useEffect(()=>{N()},[t,i,l,u]);const N=()=>{let F=[...t];i&&(F=F.filter(_=>_.name.toLowerCase().includes(i.toLowerCase())||_.description.toLowerCase().includes(i.toLowerCase()))),l!=="all"&&(F=F.filter(_=>_.type===l)),u!=="all"&&(F=F.filter(_=>u==="active"?_.isActive:!_.isActive)),s(F)},D=async F=>{if(F.preventDefault(),!k.name||!k.type||!k.baseRate||!k.unit){j("Please fill in all required fields","error");return}try{const _={name:k.name,type:k.type,baseRate:parseFloat(k.baseRate),unit:k.unit,description:k.description,isActive:k.isActive};if(g){const z=await B2(g.id,_);n(W=>W.map(I=>I.id===g.id?z:I)),j("Service updated successfully","success")}else{const z=await z2(_);n(W=>[...W,z]),j("Service added successfully","success")}f(!1),L()}catch{j("Error saving service","error")}},T=async()=>{if(g)try{await V2(g.id),n(F=>F.filter(_=>_.id!==g.id)),p(!1),y(null),j("Service deleted successfully","success")}catch(F){console.error("Error deleting service:",F),j("Error deleting service","error")}},L=()=>{C({name:"",type:"",baseRate:"",unit:"hour",description:"",isActive:!0}),y(null)},V=async F=>{try{const _=await U2(F.id);n(z=>z.map(W=>W.id===F.id?_:W)),j(`Service ${F.isActive?"deactivated":"activated"}`,"success")}catch(_){console.error("Error toggling service status:",_),j("Error updating service status","error")}};return!e||e.role!=="operations_manager"&&e.role!=="admin"?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"You don't have permission to access this page."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(fr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx(me,{placeholder:"Search services...",value:i,onChange:F=>a(F.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(Te,{options:[{value:"all",label:"All Types"},...Gf],value:l,onChange:c,className:"w-40"}),o.jsx(Te,{options:[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],value:u,onChange:F=>d(F),className:"w-40"})]})]}),o.jsx(U,{onClick:()=>{L(),f(!0)},leftIcon:o.jsx(Lr,{size:16}),children:"Add Service"})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Services Catalog"})}),"        ",o.jsx(pe,{children:b?o.jsx("div",{className:"text-center py-4",children:"Loading services..."}):r.length===0?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"No services found. Add new services to get started."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(F=>{var _;return o.jsx(le,{variant:"bordered",className:"h-full",children:o.jsxs(pe,{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-lg",children:F.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(HN,{className:"h-4 w-4 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-500",children:(_=Gf.find(z=>z.value===F.type))==null?void 0:_.label})]})]}),o.jsx(U,{variant:F.isActive?"default":"ghost",size:"sm",onClick:()=>V(F),children:F.isActive?o.jsx(ys,{className:"h-4 w-4"}):o.jsx(Ol,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:F.description}),o.jsxs("div",{className:"mt-3 flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1 text-primary-600",children:[o.jsx(ir,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:Ue(F.baseRate)})]}),o.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[o.jsx(Yn,{className:"h-4 w-4"}),o.jsxs("span",{children:["Per ",F.unit]})]})]})]}),o.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{y(F),C({name:F.name,type:F.type,baseRate:F.baseRate.toString(),unit:F.unit,description:F.description||"",isActive:F.isActive}),f(!0)},children:o.jsx(Ta,{className:"h-4 w-4"})}),o.jsx(U,{variant:"destructive",size:"sm",onClick:()=>{y(F),p(!0)},children:o.jsx(ur,{className:"h-4 w-4"})})]})]})},F.id)})})})]}),o.jsx(Ct,{isOpen:h,onClose:()=>{f(!1),L()},title:g?"Edit Service":"Add New Service",size:"lg",children:o.jsxs("form",{onSubmit:D,className:"space-y-6",children:[o.jsx(me,{label:"Service Name",value:k.name,onChange:F=>C(_=>({..._,name:F.target.value})),required:!0}),o.jsx(Te,{label:"Service Type",options:Gf,value:k.type,onChange:F=>C(_=>({..._,type:F})),required:!0}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(me,{label:"Base Rate",type:"number",min:"0",step:"0.01",value:k.baseRate,onChange:F=>C(_=>({..._,baseRate:F.target.value})),required:!0}),o.jsx(Te,{label:"Rate Unit",options:fH,value:k.unit,onChange:F=>C(_=>({..._,unit:F})),required:!0})]}),o.jsx(Qn,{label:"Description",value:k.description,onChange:F=>C(_=>({..._,description:F.target.value})),rows:3}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"servicesMgmt-isActive",checked:k.isActive,onChange:F=>C(_=>({..._,isActive:F.target.checked})),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700",children:"Service is active and available for booking"})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>{f(!1),L()},children:"Cancel"}),o.jsx(U,{type:"submit",children:g?"Update Service":"Add Service"})]})]})}),o.jsx(Ct,{isOpen:m,onClose:()=>{p(!1),y(null)},title:"Delete Service",size:"sm",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-600",children:"Are you sure you want to delete this service? This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(U,{variant:"outline",onClick:()=>{p(!1),y(null)},children:"Cancel"}),o.jsx(U,{variant:"destructive",onClick:T,children:"Delete"})]})]})}),w.show&&o.jsx(ft,{title:w.title,variant:w.variant,isVisible:w.show,onClose:()=>S({show:!1,title:""})})]})}const pH=async()=>await Ln.get("/users"),gH=async e=>await Ln.post("/users",e),u1=async(e,t)=>await Ln.put(`/users/${e}`,t),xH=async e=>{await Ln.delete(`/users/${e}`)},Yf=[{value:"admin",label:"Administrator"},{value:"sales_agent",label:"Sales Agent"},{value:"operations_manager",label:"Operations Manager"},{value:"operator",label:"Operator"},{value:"support",label:"Support"}],yH=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],co=10,Qf=e=>{const t=e.split("").reduce((a,l)=>a+l.charCodeAt(0),0),n=["2563EB","10B981","F59E0B","8B5CF6","EC4899","6B7280"],r=t%n.length,s=n[r];return`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=${s}&color=fff&size=128`};function vH(){const{user:e}=Ge(),[t,n]=x.useState([]),[r,s]=x.useState([]),[i,a]=x.useState(1),[l,c]=x.useState(""),[u,d]=x.useState("all"),[h,f]=x.useState("all"),[m,p]=x.useState(!0),[g,y]=x.useState(!1),[b,v]=x.useState(!1),[w,S]=x.useState(null),[j,k]=x.useState({show:!1,title:""}),[C,N]=x.useState({name:"",email:"",password:"",role:"operator",status:"active"});x.useEffect(()=>{(async()=>{try{if(p(!0),!e){T("Authentication Required","You need to log in to view users","warning"),p(!1);return}try{const P=(await pH()).map(R=>({id:R.id,name:R.name,email:R.email,role:R.role,status:R.status==="active"?"active":"inactive"}));n(P),s(P)}catch(E){console.error("Error fetching users:",E),E.message&&E.message.includes("Authentication required")?T("Authentication Error","You need to log in to view users","error"):T("Error loading users",E.message||"Please try again later","error");const P=[{id:"1",name:"Admin User",email:"admin@example.com",role:"admin",status:"active"},{id:"2",name:"Sales Agent",email:"sales@example.com",role:"sales_agent",status:"active"}];n(P),s(P)}}finally{p(!1)}})()},[]),x.useEffect(()=>{D()},[t,l,u,h]);const D=()=>{let I=[...t];if(l){const E=l.toLowerCase();I=I.filter(P=>P&&typeof P.name=="string"&&typeof P.email=="string"&&(P.name.toLowerCase().includes(E)||P.email.toLowerCase().includes(E)))}u!=="all"&&(I=I.filter(E=>E.role===u)),h!=="all"&&(I=I.filter(E=>E.status===h)),s(I),a(1)},T=(I,E,P="success")=>{k({show:!0,title:I,description:E,variant:P}),setTimeout(()=>k({show:!1,title:""}),3e3)},L=async I=>{const E=I.status==="active"?"inactive":"active";try{await u1(I.id,{}),n(P=>P.map(R=>R.id===I.id?{...R,status:E}:R)),T(`User ${I.status==="active"?"deactivated":"activated"}`,"success")}catch(P){console.error("Error toggling user status:",P),T("Error updating user status","error")}},V=async I=>{if(I.preventDefault(),!C.name||!C.email||!C.role){T("Please fill in all required fields","error");return}if(!w&&!C.password){T("Password is required for new users","error");return}try{if(w){const E={...w,name:C.name,email:C.email,role:C.role,status:C.status};await u1(w.id,{name:C.name,email:C.email,role:C.role,isActive:C.status==="active"}),n(P=>P.map(R=>R.id===w.id?E:R)),T("User updated successfully","success")}else try{const E=await gH({email:C.email,name:C.name,role:C.role,isActive:C.status==="active"}),P={id:E.id,name:E.name,email:E.email,role:E.role,status:E.isActive?"active":"inactive",avatar:Qf(C.name)};n(R=>[...R,P]),T("User added successfully","success")}catch(E){T(`Error creating user account: ${E.message||"Unknown error"}`,"error");return}y(!1),_()}catch(E){T(`Error saving user: ${E.message||"Unknown error"}`,"error")}},F=async()=>{if(w)try{await xH(w.id),n(I=>I.filter(E=>E.id!==w.id)),v(!1),S(null),T("User deleted successfully","success")}catch(I){console.error("Error deleting user:",I),T("Error deleting user","error")}},_=()=>{N({name:"",email:"",password:"",role:"operator",status:"active"}),S(null)},z=Math.ceil(r.length/co),W=r.slice((i-1)*co,i*co);return!e||e.role!=="admin"?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"You don't have permission to access this page."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(fr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx(me,{placeholder:"Search users...",value:l,onChange:I=>c(I.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx(Te,{options:[{value:"all",label:"All Roles"},...Yf],value:u,onChange:I=>d(I),className:"w-full sm:w-40"}),o.jsx(Te,{options:[{value:"all",label:"All Status"},...yH],value:h,onChange:I=>f(I),className:"w-full sm:w-40"})]})]}),o.jsx(U,{onClick:()=>{_(),y(!0)},leftIcon:o.jsx(EI,{size:16}),variant:"accent",className:"w-full sm:w-auto flex-shrink-0",children:"Add User"})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"User Management"})}),o.jsx(pe,{children:m?o.jsx("div",{className:"text-center py-4",children:"Loading users..."}):W.length===0?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"No users found matching your filters."}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:W.map(I=>{var E;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:["                          ",o.jsxs("div",{className:"flex items-center",children:[o.jsx("img",{src:I.avatar||Qf(I.name),alt:I.name,className:"h-10 w-10 rounded-full object-cover",onError:P=>{const R=P.target;R.onerror=null,R.src=Qf(I.name)}}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"font-medium text-gray-900",children:I.name}),o.jsx("div",{className:"text-sm text-gray-500",children:I.email})]})]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:(E=Yf.find(P=>P.value===I.role))==null?void 0:E.label})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.status==="active"?"bg-success-100 text-success-800":"bg-gray-100 text-gray-800"}`,children:I.status==="active"?"Active":"Inactive"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>L(I),children:I.status==="active"?o.jsx(Ol,{size:16}):o.jsx(ys,{size:16})}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{S(I),N({name:I.name,email:I.email,password:"",role:I.role,status:I.status}),y(!0)},children:o.jsx(Ta,{size:16})}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{S(I),v(!0)},children:o.jsx(ur,{size:16})})]})})]},I.id)})})]})}),z>1&&o.jsxs("div",{className:"flex justify-between items-center mt-4",children:[o.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(i-1)*co+1," to"," ",Math.min(i*co,r.length)," of"," ",r.length," users"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:"outline",size:"sm",onClick:()=>a(I=>Math.max(1,I-1)),disabled:i===1,children:"Previous"}),o.jsx(U,{variant:"outline",size:"sm",onClick:()=>a(I=>Math.min(z,I+1)),disabled:i===z,children:"Next"})]})]})]})})]}),"      ",o.jsx(Ct,{isOpen:g,onClose:()=>{y(!1),_()},title:w?"Edit User":"Add New User",size:"lg",children:o.jsxs("form",{onSubmit:V,className:"space-y-6",children:[o.jsx(hd,{}),o.jsx(me,{label:"Full Name",value:C.name,onChange:I=>N(E=>({...E,name:I.target.value})),required:!0}),"          ",o.jsx(me,{label:"Email Address",type:"email",value:C.email,onChange:I=>N(E=>({...E,email:I.target.value})),required:!0}),o.jsx(me,{label:"Password",type:"password",value:C.password||"",onChange:I=>N(E=>({...E,password:I.target.value})),required:!w,placeholder:w?"Leave blank to keep current password":""}),o.jsx(Te,{label:"Role",options:Yf,value:C.role,onChange:I=>N(E=>({...E,role:I})),required:!0}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"userMgmt-isActive",checked:C.status==="active",onChange:I=>N(E=>({...E,status:I.target.checked?"active":"inactive"})),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700",children:"User is active"})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>{y(!1),_()},children:"Cancel"}),o.jsx(U,{type:"submit",variant:"accent",children:w?"Update User":"Add User"})]})]})}),"      ",o.jsx(Ct,{isOpen:b,onClose:()=>{v(!1),S(null)},title:"Delete User",size:"sm",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-error-50 text-error-700 rounded-lg",children:[o.jsx(ji,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("p",{className:"text-sm",children:"Are you sure you want to delete this user? This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(U,{variant:"outline",onClick:()=>{v(!1),S(null)},children:"Cancel"}),o.jsx(U,{variant:"destructive",onClick:F,children:"Delete User"})]})]})}),j.show&&o.jsx(ft,{title:j.title,variant:j.variant,isVisible:j.show,onClose:()=>k({show:!1,title:""})})]})}function Mi({children:e,title:t,defaultExpanded:n=!1,icon:r,className:s="",onToggle:i}){const[a,l]=x.useState(n),c=()=>{const u=!a;l(u),i==null||i(u)};return o.jsxs(le,{className:`shadow-sm hover:shadow-md transition-all duration-200 ${s}`,children:[o.jsx(ye,{className:"cursor-pointer hover:bg-gray-50 transition-colors duration-200 p-3 sm:p-4 md:p-5",onClick:c,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[r&&o.jsx("div",{className:"text-gray-500 flex-shrink-0",children:r}),o.jsx(ve,{className:"text-base sm:text-lg font-medium",children:t})]}),o.jsx("div",{className:`transform transition-transform duration-200 flex-shrink-0 ${a?"rotate-180":""}`,children:o.jsx(iI,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})})]})}),o.jsx("div",{className:`transition-all duration-300 overflow-hidden ${a?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,style:{transform:"translateZ(0)"},children:o.jsx(pe,{className:"p-3 sm:p-4 pt-0 sm:pt-0",children:e})})]})}const d1={orderTypeLimits:{micro:{minDays:1,maxDays:10},small:{minDays:11,maxDays:25},monthly:{minDays:26,maxDays:365},yearly:{minDays:366,maxDays:3650}}},hh=()=>{const e={"Content-Type":"application/json"},t=localStorage.getItem("authToken");return t&&(e.Authorization=`Bearer ${t}`),e},bH=async()=>{try{const e=await fetch("/api/config/quotation",{method:"GET",headers:hh()});if(!e.ok)throw new Error(`Failed to fetch quotation config: ${e.status}`);return(await e.json()).data||d1}catch(e){return console.error("Error fetching quotation config:",e),d1}},wH=async e=>{try{const t=await fetch("/api/config/quotation",{method:"PUT",headers:hh(),body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to update quotation config")}return(await t.json()).data}catch(t){throw console.error("Error updating quotation config:",t),t}},ID=async e=>{try{const t=await fetch(`/api/config/${e}`,{method:"GET",headers:hh()});if(!t.ok)throw new Error(`Failed to fetch ${e} config: ${t.status}`);return(await t.json()).data||{}}catch(t){return console.error(`Error fetching ${e} config:`,t),{}}},MD=async(e,t)=>{try{const n=await fetch(`/api/config/${e}`,{method:"PUT",headers:hh(),body:JSON.stringify(t)});if(!n.ok){const s=await n.json();throw new Error(s.message||`Failed to update ${e} config`)}return(await n.json()).data}catch(n){throw console.error(`Error updating ${e} config:`,n),n}},jH=async()=>ID("resourceRates"),SH=async e=>MD("resourceRates",e),NH=async()=>ID("additionalParams"),CH=async e=>MD("additionalParams",e);function kH(){const[e,t]=x.useState(!0),[n,r]=x.useState(!1),[s,i]=x.useState({micro:{minDays:1,maxDays:10},small:{minDays:11,maxDays:25},monthly:{minDays:26,maxDays:365},yearly:{minDays:366,maxDays:3650}}),[a,l]=x.useState({show:!1,title:""});x.useEffect(()=>{c()},[]);const c=async()=>{try{t(!0);const f=await bH();i(f.orderTypeLimits)}catch{u("Error loading configuration","error")}finally{t(!1)}},u=(f,m="success")=>{l({show:!0,title:f,variant:m}),setTimeout(()=>l({show:!1,title:""}),3e3)},d=async()=>{try{r(!0);const f=["micro","small","monthly","yearly"];let m=!0,p=0;for(const g of f){const y=s[g];if(y.minDays<=p){u(`${g.charAt(0).toUpperCase()+g.slice(1)} minimum days must be greater than previous maximum`,"error"),m=!1;break}if(y.maxDays<=y.minDays){u(`${g.charAt(0).toUpperCase()+g.slice(1)} maximum days must be greater than minimum days`,"error"),m=!1;break}p=y.maxDays}if(!m)return;await wH({orderTypeLimits:s}),u("Configuration saved successfully")}catch{u("Error saving configuration","error")}finally{r(!1)}},h=(f,m,p)=>{const g=parseInt(p)||0;i(y=>({...y,[f]:{...y[f],[m]:g}}))};return e?o.jsx("div",{className:"flex items-center justify-center h-48",children:o.jsx(st,{className:"w-6 h-6 animate-spin text-primary-600"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:["micro","small","monthly","yearly"].map(f=>o.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white shadow-sm space-y-4",children:[o.jsxs("h3",{className:"text-lg font-semibold capitalize text-gray-900",children:[f," Order"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(De,{type:"number",label:"Minimum Days",value:s[f].minDays,onChange:m=>h(f,"minDays",m.target.value),min:"1"})}),o.jsx("div",{children:o.jsx(De,{type:"number",label:"Maximum Days",value:s[f].maxDays,onChange:m=>h(f,"maxDays",m.target.value),min:s[f].minDays+1})})]})]},f))}),o.jsx("div",{className:"flex justify-end",children:o.jsx(U,{onClick:d,disabled:n,leftIcon:n?o.jsx(st,{className:"animate-spin"}):o.jsx(Si,{}),children:n?"Saving...":"Save Changes"})}),a.show&&o.jsx(ft,{title:a.title,variant:a.variant,isVisible:a.show,onClose:()=>l({show:!1,title:""})})]})}function DH(){const[e,t]=x.useState(!0),[n,r]=x.useState(!1),[s,i]=x.useState({foodRatePerMonth:2500,accommodationRatePerMonth:4e3}),[a,l]=x.useState({show:!1,title:""});x.useEffect(()=>{c()},[]);const c=async()=>{try{t(!0);const h=await jH();i({foodRatePerMonth:h.foodRatePerMonth,accommodationRatePerMonth:h.accommodationRatePerMonth})}catch{u("Error loading configuration","error")}finally{t(!1)}},u=(h,f="success")=>{l({show:!0,title:h,variant:f}),setTimeout(()=>l({show:!1,title:""}),3e3)},d=async()=>{try{if(r(!0),s.foodRatePerMonth<=0||s.accommodationRatePerMonth<=0){u("Rates must be greater than 0","error");return}await SH(s),u("Rates updated successfully")}catch{u("Error saving rates","error")}finally{r(!1)}};return e?o.jsx("div",{className:"flex items-center justify-center h-48",children:o.jsx(st,{className:"w-6 h-6 animate-spin text-primary-600"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-sm transition-shadow duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(tn,{className:"h-5 w-5 text-primary-500"}),o.jsx("h3",{className:"font-medium text-gray-900",children:"Food Allowance"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Rate"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("span",{className:"text-gray-500 sm:text-sm",children:""})}),o.jsx(De,{type:"number",value:s.foodRatePerMonth,onChange:h=>i(f=>({...f,foodRatePerMonth:Number(h.target.value)})),className:"pl-7",min:"0"})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-500",children:"Daily Rate:"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["",(s.foodRatePerMonth/26).toFixed(2),"/day"]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-sm transition-shadow duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(tn,{className:"h-5 w-5 text-primary-500"}),o.jsx("h3",{className:"font-medium text-gray-900",children:"Accommodation Allowance"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Rate"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("span",{className:"text-gray-500 sm:text-sm",children:""})}),o.jsx(De,{type:"number",value:s.accommodationRatePerMonth,onChange:h=>i(f=>({...f,accommodationRatePerMonth:Number(h.target.value)})),className:"pl-7",min:"0"})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-500",children:"Daily Rate:"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["",(s.accommodationRatePerMonth/26).toFixed(2),"/day"]})]})]})]})]}),o.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:o.jsx(U,{onClick:d,disabled:n,leftIcon:n?o.jsx(st,{className:"animate-spin"}):o.jsx(Si,{}),className:"w-full sm:w-auto",children:n?"Saving Changes...":"Save Changes"})}),a.show&&o.jsx(ft,{title:a.title,variant:a.variant,isVisible:a.show,onClose:()=>l({show:!1,title:""})})]})}function EH(){const[e,t]=x.useState(!0),[n,r]=x.useState(!1),[s,i]=x.useState({usageFactors:{normal:1,medium:1.2,heavy:1.5},riskFactors:{low:0,medium:8e3,high:15e3},shiftFactors:{single:1,double:1.8},dayNightFactors:{day:1,night:1.3}}),[a,l]=x.useState({show:!1,title:""});x.useEffect(()=>{c()},[]);const c=async()=>{try{t(!0);const f=await NH(),m={...s,...f,usageFactors:{...s.usageFactors,...(f==null?void 0:f.usageFactors)||{}}};i(m)}catch{u("Error loading configuration, using defaults","warning")}finally{t(!1)}},u=(f,m="success")=>{l({show:!0,title:f,variant:m}),setTimeout(()=>l({show:!1,title:""}),3e3)},d=async()=>{try{r(!0),await CH(s),u("Parameters updated successfully")}catch{u("Error saving parameters","error")}finally{r(!1)}};if(e)return o.jsx("div",{className:"flex items-center justify-center h-48",children:o.jsx(st,{className:"w-6 h-6 animate-spin text-primary-600"})});const h=({value:f,onChange:m,label:p,isPercentage:g=!1})=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:p}),o.jsxs("div",{className:"relative mt-1",children:[!g&&o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("span",{className:"text-gray-500 sm:text-sm",children:""})}),o.jsx(De,{type:"number",value:f,onChange:y=>m(Number(y.target.value)),className:g?"pr-8":"pl-7",min:"0"}),g&&o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:o.jsx(jI,{className:"h-4 w-4 text-gray-400"})})]})]});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(le,{children:[o.jsx(ye,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dx,{className:"h-5 w-5 text-primary-500"}),o.jsx(ve,{children:"Usage Rates"})]})}),"          ",o.jsxs(pe,{className:"space-y-4",children:[o.jsx(h,{label:"Normal Usage Factor",value:s.usageFactors.normal,onChange:f=>i(m=>({...m,usageFactors:{...m.usageFactors,normal:f}})),isPercentage:!0}),o.jsx(h,{label:"Medium Usage Factor",value:s.usageFactors.medium,onChange:f=>i(m=>({...m,usageFactors:{...m.usageFactors,medium:f}})),isPercentage:!0}),o.jsx(h,{label:"Heavy Usage Factor",value:s.usageFactors.heavy,onChange:f=>i(m=>({...m,usageFactors:{...m.usageFactors,heavy:f}})),isPercentage:!0})]})]}),o.jsxs(le,{children:[o.jsx(ye,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ox,{className:"h-5 w-5 text-primary-500"}),o.jsx(ve,{children:"Risk Factors"})]})}),o.jsxs(pe,{className:"space-y-4",children:[o.jsx(h,{label:"Low Risk",value:s.riskFactors.low,onChange:f=>i(m=>({...m,riskFactors:{...m.riskFactors,low:f}})),isPercentage:!0}),o.jsx(h,{label:"Medium Risk",value:s.riskFactors.medium,onChange:f=>i(m=>({...m,riskFactors:{...m.riskFactors,medium:f}})),isPercentage:!0}),o.jsx(h,{label:"High Risk",value:s.riskFactors.high,onChange:f=>i(m=>({...m,riskFactors:{...m.riskFactors,high:f}})),isPercentage:!0})]})]}),"        ",o.jsxs(le,{children:[o.jsx(ye,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yn,{className:"h-5 w-5 text-primary-500"}),o.jsx(ve,{children:"Shift Factors"})]})}),o.jsxs(pe,{className:"space-y-4",children:[o.jsx(h,{label:"Single Shift",value:s.shiftFactors.single,onChange:f=>i(m=>({...m,shiftFactors:{...m.shiftFactors,single:f}})),isPercentage:!0}),o.jsx(h,{label:"Double Shift",value:s.shiftFactors.double,onChange:f=>i(m=>({...m,shiftFactors:{...m.shiftFactors,double:f}})),isPercentage:!0})]})]}),"        ",o.jsxs(le,{children:[o.jsx(ye,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(yI,{className:"h-5 w-5 text-primary-500"}),o.jsx(ve,{children:"Day/Night Factors"})]})}),o.jsxs(pe,{className:"space-y-4",children:[o.jsx(h,{label:"Day Factor",value:s.dayNightFactors.day,onChange:f=>i(m=>({...m,dayNightFactors:{...m.dayNightFactors,day:f}})),isPercentage:!0}),o.jsx(h,{label:"Night Factor",value:s.dayNightFactors.night,onChange:f=>i(m=>({...m,dayNightFactors:{...m.dayNightFactors,night:f}})),isPercentage:!0})]})]})]}),o.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:o.jsx(U,{onClick:d,disabled:n,leftIcon:n?o.jsx(st,{className:"animate-spin"}):o.jsx(Si,{}),className:"w-full sm:w-auto",children:n?"Saving Changes...":"Save Changes"})}),a.show&&o.jsx(ft,{title:a.title,variant:a.variant,isVisible:a.show,onClose:()=>l({show:!1,title:""})})]})}const h1={id:"sample-quotation",leadId:"sample-lead",customerId:"sample-customer",customerName:"Sample Company Ltd.",customerContact:{name:"John Smith",email:"john.smith@samplecompany.com",phone:"+91 98765 43210",company:"Sample Company Ltd.",address:"123 Business Park, Tech City, State - 400001",designation:"Procurement Manager"},orderType:"monthly",numberOfDays:30,workingHours:8,selectedEquipment:{id:"sample-equipment",equipmentId:"crane-001",name:"50T Mobile Crane",baseRates:{micro:5e3,small:4500,monthly:4e3,yearly:3500}},foodResources:2,accomResources:2,siteDistance:50,usage:"normal",riskFactor:"low",extraCharge:5e3,incidentalCharges:["10000"],otherFactorsCharge:2e3,billing:"gst",includeGst:!0,shift:"single",dayNight:"day",mobDemob:15e3,mobRelaxation:5e3,runningCostPerKm:100,totalRent:15e4,version:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",status:"draft",machineType:"mobile",dealType:"rental",sundayWorking:"no",otherFactors:[]};function TH({onSave:e}){var w,S;const[t,n]=x.useState([]),[r,s]=x.useState(""),[i,a]=x.useState(null),[l,c]=x.useState(!0),[u,d]=x.useState(!1),[h,f]=x.useState({show:!1,title:""}),[m,p]=x.useState("");x.useEffect(()=>{async function j(){if(i&&h1)try{const k=Ox(h1,i);p(k)}catch{p('<div style="color:red">Error generating preview</div>')}else p("")}j()},[i]),x.useEffect(()=>{g()},[]),x.useEffect(()=>{if(r){const j=t.find(k=>k.id===r);a(j||null)}else a(null)},[r,t]);const g=async()=>{try{c(!0);const j=await S2();n(j);const k=j.find(C=>C.isDefault);k&&s(k.id)}catch(j){console.error("Error loading templates and config:",j),y("Error loading configuration","error")}finally{c(!1)}},y=(j,k="success")=>{f({show:!0,title:j,variant:k}),setTimeout(()=>f({show:!1,title:""}),3e3)},b=async()=>{try{d(!0);const j=t.find(k=>k.isDefault);if(j&&j.id!==r&&await Tp(j.id,{isDefault:!1}),r){const k=t.find(C=>C.id===r);k&&await Tp(k.id,{isDefault:!0})}await g(),y("Default template configuration saved successfully"),e==null||e()}catch(j){console.error("Error saving default template config:",j),y("Error saving configuration","error")}finally{d(!1)}},v=[{value:"",label:"No default template selected"},...t.map(j=>({value:j.id,label:j.name}))];return l?o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx(st,{className:"w-6 h-6 animate-spin text-primary-600"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{children:[o.jsx(ye,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wt,{className:"h-5 w-5 text-primary-500"}),o.jsx(ve,{children:"Default Quotation Template"})]})}),o.jsxs(pe,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Default Template"}),o.jsx(Te,{options:v,value:r,onChange:s,className:"w-full max-w-md"}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This template will be used as the default when creating new quotations."})]}),r&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Wt,{className:"h-5 w-5 text-blue-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Selected Template"}),o.jsx("p",{className:"text-sm text-blue-700 mt-1",children:(w=t.find(j=>j.id===r))==null?void 0:w.name}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:(S=t.find(j=>j.id===r))==null?void 0:S.description})]})]})}),t.length===0&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(st,{className:"h-5 w-5 text-yellow-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-yellow-900",children:"No Templates Available"}),o.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Create quotation templates first to set a default template."})]})]})})]}),o.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:o.jsx(U,{onClick:b,disabled:u||t.length===0,leftIcon:u?o.jsx(st,{className:"animate-spin"}):o.jsx(Si,{}),className:"w-full sm:w-auto",children:u?"Saving Configuration...":"Save Configuration"})})]})]}),i&&o.jsxs(le,{children:[o.jsx(ye,{children:o.jsx(ve,{children:"Template Preview"})}),o.jsx(pe,{children:o.jsx("div",{className:"bg-white border rounded-lg p-6 shadow-sm max-h-[800px] overflow-y-auto",children:o.jsx("div",{dangerouslySetInnerHTML:{__html:m}})})})]}),h.show&&o.jsx(ft,{title:h.title,variant:h.variant,isVisible:h.show,onClose:()=>f({show:!1,title:""})})]})}const PH=()=>{const[e,t]=x.useState({host:"localhost",port:5432,database:"asp_crm",user:"postgres",password:"",ssl:!1}),[n,r]=x.useState(!0),[s,i]=x.useState(!1),[a,l]=x.useState(!1),[c,u]=x.useState("untested"),[d,h]=x.useState({show:!1,title:""}),f=(b,v="success")=>{h({show:!0,title:b,variant:v}),setTimeout(()=>h({show:!1,title:""}),v==="success"?5e3:3e3)};x.useEffect(()=>{m()},[]);const m=async()=>{r(!0);try{const b=await fetch("/api/dbconfig",{method:"GET",headers:iu()});if(!b.ok)throw new Error("Failed to fetch database configuration");const v=await b.json();v.success&&v.data&&t({host:v.data.host||"localhost",port:v.data.port||5432,database:v.data.database||"asp_crm",user:v.data.user||"postgres",password:"",ssl:v.data.ssl||!1})}catch(b){console.error("Failed to fetch database config:",b),f("Failed to load database configuration","error")}finally{r(!1)}},p=b=>{const{name:v,value:w,type:S,checked:j}=b.target;t(k=>({...k,[v]:S==="checkbox"?j:S==="number"?parseInt(w)||0:w}))},g=async()=>{l(!0);try{const b=await fetch("/api/dbconfig",{method:"PUT",headers:iu(),body:JSON.stringify(e)}),v=await b.json();if(b.ok&&v.success)f("Database configuration saved successfully. Please restart the server for changes to take effect.","success"),u("untested");else throw new Error(v.message||"Unknown error")}catch(b){console.error("Failed to save database config:",b),f(`Failed to save database configuration: ${b instanceof Error?b.message:"Unknown error"}`,"error")}finally{l(!1)}},y=async()=>{var b,v;i(!0),u("untested");try{const w=await fetch("/api/dbconfig/test",{method:"POST",headers:iu(),body:JSON.stringify(e)}),S=await w.json();w.ok&&S.success?(u("success"),f(`Connection successful! PostgreSQL ${((v=(b=S.data)==null?void 0:b.version)==null?void 0:v.split(" ")[1])||"server"} is running.`,"success")):(u("failed"),f(`Connection failed: ${S.message||"Unknown error"}`,"error"))}catch(w){console.error("Connection test error:",w),u("failed"),f("Connection test failed. See console for details.","error")}finally{i(!1)}};return n?o.jsx("div",{className:"p-4 text-center",children:"Loading database configuration..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:"Database Connection Settings"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Configure the PostgreSQL database connection parameters. Changes will take effect after server restart."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Host"}),o.jsx(De,{name:"host",value:e.host,onChange:p,placeholder:"localhost",leftIcon:o.jsx(kI,{className:"h-4 w-4"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Port"}),o.jsx(De,{name:"port",type:"number",value:e.port,onChange:p,placeholder:"5432"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Database Name"}),o.jsx(De,{name:"database",value:e.database,onChange:p,placeholder:"asp_crm",leftIcon:o.jsx(cx,{className:"h-4 w-4"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),o.jsx(De,{name:"user",value:e.user,onChange:p,placeholder:"postgres"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),o.jsx(De,{name:"password",type:"password",value:e.password||"",onChange:p,placeholder:"Leave blank to keep existing password"})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-8",children:[o.jsx("input",{type:"checkbox",id:"dbConfig-ssl",name:"ssl",checked:e.ssl,onChange:p,className:"h-4 w-4 text-blue-600 rounded"}),o.jsx("label",{htmlFor:"dbConfig-ssl",className:"text-sm text-gray-700",children:"Enable SSL/TLS"})]})]}),o.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[o.jsx(U,{variant:"outline",onClick:y,disabled:s,leftIcon:s?o.jsx(st,{className:"h-4 w-4 animate-spin"}):void 0,rightIcon:c==="success"?o.jsx(FN,{className:"h-4 w-4 text-green-500"}):void 0,children:s?"Testing...":"Test Connection"}),o.jsx(U,{onClick:g,disabled:a,leftIcon:a?o.jsx(st,{className:"h-4 w-4 animate-spin"}):o.jsx(Si,{className:"h-4 w-4"}),children:a?"Saving...":"Save Configuration"})]}),d.show&&o.jsx(ft,{title:d.title,variant:d.variant,onClose:()=>h({show:!1,title:""})})]})};function _H(){const{user:e}=Ge();return!e||e.role!=="admin"&&e.role!=="operations_manager"?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"You don't have permission to access this page."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Configuration"}),o.jsx(mi,{className:"h-6 w-6 text-gray-400"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(Mi,{icon:o.jsx(Wt,{className:"h-5 w-5"}),title:"Default Quotation Template",defaultExpanded:!0,children:o.jsx(TH,{})}),o.jsx(Mi,{icon:o.jsx(Gn,{className:"h-5 w-5"}),title:"Quotation Order Type Settings",defaultExpanded:!1,children:o.jsx(kH,{})}),o.jsx(Mi,{icon:o.jsx(Wt,{className:"h-5 w-5"}),title:"Quotation Form",defaultExpanded:!1,children:o.jsx("div",{className:"text-sm text-gray-500 p-4",children:"Configure quotation form settings and defaults here."})}),o.jsx(Mi,{icon:o.jsx(tn,{className:"h-5 w-5"}),title:"Resource Rates",defaultExpanded:!1,children:o.jsx(DH,{})}),o.jsx(Mi,{icon:o.jsx(dx,{className:"h-5 w-5"}),title:"Additional Parameters",defaultExpanded:!1,children:o.jsx(EH,{})}),o.jsx(Mi,{icon:o.jsx(cx,{className:"h-5 w-5"}),title:"Database Connection",defaultExpanded:!1,children:o.jsx(PH,{})})]})]})}function AH(){const{user:e}=Ge(),[t,n]=x.useState([]),[r,s]=x.useState(""),[i,a]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[h,f]=x.useState(!0),[m,p]=x.useState({show:!1,title:""}),[g,y]=x.useState({name:"",companyName:"",contactName:"",email:"",phone:"",address:"",type:"other",designation:"",notes:""});x.useEffect(()=>{b()},[]);const b=async()=>{try{const C=await ND();C&&Array.isArray(C)?n(C):j("Error fetching customers: Invalid data format","error")}catch{j("Error fetching customers","error")}finally{f(!1)}},v=async C=>{if(C.preventDefault(),!g.name||!g.companyName||!g.contactName||!g.email||!g.phone||!g.address||!g.type){j("Please fill in all required fields","error");return}try{if(u){const N=await p8(u.id,g);N&&n(D=>D.map(T=>T.id===u.id?N:T)),j("Customer updated successfully","success")}else{const N=await CD(g);n(D=>[...D,N]),j("Customer added successfully","success")}a(!1),S()}catch{j("Error saving customer","error")}},w=async()=>{if(u)try{await g8(u.id),n(C=>C.filter(N=>N.id!==u.id)),c(!1),d(null),j("Customer deleted successfully","success")}catch{j("Error deleting customer","error")}},S=()=>{y({name:"",companyName:"",contactName:"",email:"",phone:"",address:"",type:"other",designation:"",notes:""}),d(null)},j=(C,N="success")=>{p({show:!0,title:C,variant:N}),setTimeout(()=>p({show:!1,title:""}),3e3)},k=t.filter(C=>C&&typeof C.name=="string"&&typeof C.email=="string"&&(C.name.toLowerCase().includes(r.toLowerCase())||C.email.toLowerCase().includes(r.toLowerCase())||C.companyName&&typeof C.companyName=="string"&&C.companyName.toLowerCase().includes(r.toLowerCase())));return!e||e.role!=="admin"&&e.role!=="sales_agent"?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"You don't have permission to access this page."}):o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6",children:[o.jsxs("div",{className:"flex-1 max-w-md relative",children:[o.jsx(fr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx(me,{placeholder:"Search customers...",value:r,onChange:C=>s(C.target.value),className:"pl-10 w-full"})]}),o.jsx(U,{onClick:()=>{S(),a(!0)},leftIcon:o.jsx(Lr,{size:16}),variant:"accent",className:"w-full sm:w-auto flex-shrink-0",children:"Add Customer"})]}),o.jsx(le,{children:o.jsx(pe,{children:h?o.jsx("div",{className:"text-center py-8",children:"Loading customers..."}):k.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:"No customers found. Add new customers to get started."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Designation"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(C=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.contactName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.companyName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.designation||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.type}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.email}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.phone}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.address}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{d(C),y({name:C.name,companyName:C.companyName,contactName:C.contactName,email:C.email,phone:C.phone,address:C.address,type:C.type,designation:C.designation||"",notes:C.notes||""}),a(!0)},title:"Edit Customer",children:o.jsx(Ta,{className:"h-4 w-4"})}),o.jsx(U,{variant:"ghost",size:"sm",className:"text-error-600 hover:text-error-700 hover:bg-error-50",onClick:()=>{d(C),c(!0)},title:"Delete Customer",children:o.jsx(ur,{className:"h-4 w-4"})})]})})]},C.id))})]})})})}),o.jsx(Ct,{isOpen:i,onClose:()=>{a(!1),S()},title:u?"Edit Customer":"Add New Customer",size:"lg",children:o.jsxs("form",{onSubmit:v,className:"space-y-6",children:[o.jsx(me,{label:"Customer Name",value:g.name,onChange:C=>y(N=>({...N,name:C.target.value})),required:!0}),o.jsx(me,{label:"Company Name",value:g.companyName,onChange:C=>y(N=>({...N,companyName:C.target.value})),required:!0}),o.jsx(me,{label:"Contact Name",value:g.contactName,onChange:C=>y(N=>({...N,contactName:C.target.value})),required:!0}),o.jsx(me,{label:"Designation",value:g.designation,onChange:C=>y(N=>({...N,designation:C.target.value}))}),o.jsx(me,{label:"Type",value:g.type,onChange:C=>y(N=>({...N,type:C.target.value})),required:!0}),o.jsx(me,{label:"Email",type:"email",value:g.email,onChange:C=>y(N=>({...N,email:C.target.value})),required:!0}),o.jsx(me,{label:"Phone",value:g.phone,onChange:C=>y(N=>({...N,phone:C.target.value})),required:!0}),o.jsx(me,{label:"Address",value:g.address,onChange:C=>y(N=>({...N,address:C.target.value})),required:!0}),o.jsx(me,{label:"Notes",value:g.notes,onChange:C=>y(N=>({...N,notes:C.target.value}))}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>{a(!1),S()},children:"Cancel"}),o.jsx(U,{type:"submit",variant:"accent",children:u?"Update Customer":"Add Customer"})]})]})}),o.jsx(Ct,{isOpen:l,onClose:()=>{c(!1),d(null)},title:"Delete Customer",size:"sm",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-600",children:"Are you sure you want to delete this customer? This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(U,{variant:"outline",onClick:()=>{c(!1),d(null)},children:"Cancel"}),o.jsx(U,{variant:"destructive",onClick:w,children:"Delete"})]})]})}),m.show&&o.jsx(ft,{title:m.title,variant:m.variant,isVisible:m.show,onClose:()=>p({show:!1,title:""})})]})}function $t(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var IH=typeof Symbol=="function"&&Symbol.observable||"@@observable",f1=IH,m1=()=>Math.random().toString(36).substring(7).split("").join("."),MH={INIT:`@@redux/INIT${m1()}`,REPLACE:`@@redux/REPLACE${m1()}`},p1=MH;function OH(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function OD(e,t,n){if(typeof e!="function")throw new Error($t(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($t(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($t(1));return n(OD)(e,t)}let r=e,s=t,i=new Map,a=i,l=0,c=!1;function u(){a===i&&(a=new Map,i.forEach((y,b)=>{a.set(b,y)}))}function d(){if(c)throw new Error($t(3));return s}function h(y){if(typeof y!="function")throw new Error($t(4));if(c)throw new Error($t(5));let b=!0;u();const v=l++;return a.set(v,y),function(){if(b){if(c)throw new Error($t(6));b=!1,u(),a.delete(v),i=null}}}function f(y){if(!OH(y))throw new Error($t(7));if(typeof y.type>"u")throw new Error($t(8));if(typeof y.type!="string")throw new Error($t(17));if(c)throw new Error($t(9));try{c=!0,s=r(s,y)}finally{c=!1}return(i=a).forEach(v=>{v()}),y}function m(y){if(typeof y!="function")throw new Error($t(10));r=y,f({type:p1.REPLACE})}function p(){const y=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error($t(11));function v(){const S=b;S.next&&S.next(d())}return v(),{unsubscribe:y(v)}},[f1](){return this}}}return f({type:p1.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[f1]:p}}function g1(e,t){return function(...n){return t(e.apply(this,n))}}function x1(e,t){if(typeof e=="function")return g1(e,t);if(typeof e!="object"||e===null)throw new Error($t(16));const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=g1(s,t))}return n}function RD(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function RH(...e){return t=>(n,r)=>{const s=t(n,r);let i=()=>{throw new Error($t(15))};const a={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(a));return i=RD(...l)(s.dispatch),{...s,dispatch:i}}}var LH={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=x;function FH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $H=typeof Object.is=="function"?Object.is:FH,zH=Gl.useSyncExternalStore,BH=Gl.useRef,VH=Gl.useEffect,UH=Gl.useMemo,WH=Gl.useDebugValue;LH.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=BH(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=UH(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&a.hasValue){var p=a.value;if(s(p,m))return h=p}return h=m}if(p=h,$H(d,m))return p;var g=r(m);return s!==void 0&&s(p,g)?(d=m,p):(d=m,h=g)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,s]);var l=zH(e,i[0],i[1]);return VH(function(){a.hasValue=!0,a.value=l},[l]),WH(l),l};var HH=x.version.startsWith("19"),qH=Symbol.for(HH?"react.transitional.element":"react.element"),GH=Symbol.for("react.portal"),YH=Symbol.for("react.fragment"),QH=Symbol.for("react.strict_mode"),KH=Symbol.for("react.profiler"),XH=Symbol.for("react.consumer"),JH=Symbol.for("react.context"),LD=Symbol.for("react.forward_ref"),ZH=Symbol.for("react.suspense"),e7=Symbol.for("react.suspense_list"),ly=Symbol.for("react.memo"),t7=Symbol.for("react.lazy"),n7=LD,r7=ly;function s7(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case qH:switch(e=e.type,e){case YH:case KH:case QH:case ZH:case e7:return e;default:switch(e=e&&e.$$typeof,e){case JH:case LD:case t7:case ly:return e;case XH:return e;default:return t}}case GH:return t}}}function i7(e){return s7(e)===ly}function a7(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:a}){let l=!1,c,u,d,h,f;function m(v,w){return c=v,u=w,d=e(c,u),h=t(r,u),f=n(d,h,u),l=!0,f}function p(){return d=e(c,u),t.dependsOnOwnProps&&(h=t(r,u)),f=n(d,h,u),f}function g(){return e.dependsOnOwnProps&&(d=e(c,u)),t.dependsOnOwnProps&&(h=t(r,u)),f=n(d,h,u),f}function y(){const v=e(c,u),w=!a(v,d);return d=v,w&&(f=n(d,h,u)),f}function b(v,w){const S=!i(w,u),j=!s(v,c,w,u);return c=v,u=w,S&&j?p():S?g():j?y():f}return function(w,S){return l?b(w,S):m(w,S)}}function o7(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...s}){const i=t(e,s),a=n(e,s),l=r(e,s);return a7(i,a,l,e,s)}function l7(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...i)=>t(s(...i)))}return n}function Qp(e){return function(n){const r=e(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function y1(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function FD(e,t){return function(r,{displayName:s}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=y1(e);let u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=y1(u),u=i(l,c)),u},i}}function cy(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function c7(e){return e&&typeof e=="object"?Qp(t=>l7(e,t)):e?typeof e=="function"?FD(e):cy(e,"mapDispatchToProps"):Qp(t=>({dispatch:t}))}function u7(e){return e?typeof e=="function"?FD(e):cy(e,"mapStateToProps"):Qp(()=>({}))}function d7(e,t,n){return{...n,...e,...t}}function h7(e){return function(n,{displayName:r,areMergedPropsEqual:s}){let i=!1,a;return function(c,u,d){const h=e(c,u,d);return i?s(h,a)||(a=h):(i=!0,a=h),a}}}function f7(e){return e?typeof e=="function"?h7(e):cy(e,"mergeProps"):()=>d7}function m7(e){e()}function p7(){let e=null,t=null;return{clear(){e=null,t=null},notify(){m7(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var v1={notify(){},get:()=>[]};function $D(e,t){let n,r=v1,s=0,i=!1;function a(g){d();const y=r.subscribe(g);let b=!1;return()=>{b||(b=!0,y(),h())}}function l(){r.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){s++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=p7())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=v1)}function f(){i||(i=!0,d())}function m(){i&&(i=!1,h())}const p={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return p}var g7=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x7=g7(),y7=()=>typeof navigator<"u"&&navigator.product==="ReactNative",v7=y7(),b7=()=>x7||v7?x.useLayoutEffect:x.useEffect,gd=b7();function b1(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Kf(e,t){if(b1(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!b1(e[n[s]],t[n[s]]))return!1;return!0}var w7={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},j7={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},S7={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},N7={[n7]:S7,[r7]:zD};function w1(e){return i7(e)?zD:N7[e.$$typeof]||w7}var C7=Object.defineProperty,k7=Object.getOwnPropertyNames,j1=Object.getOwnPropertySymbols,D7=Object.getOwnPropertyDescriptor,E7=Object.getPrototypeOf,S1=Object.prototype;function Kp(e,t){if(typeof t!="string"){if(S1){const i=E7(t);i&&i!==S1&&Kp(e,i)}let n=k7(t);j1&&(n=n.concat(j1(t)));const r=w1(e),s=w1(t);for(let i=0;i<n.length;++i){const a=n[i];if(!j7[a]&&!(s&&s[a])&&!(r&&r[a])){const l=D7(t,a);try{C7(e,a,l)}catch{}}}}return e}var Xf=Symbol.for("react-redux-context"),Jf=typeof globalThis<"u"?globalThis:{};function T7(){if(!x.createContext)return{};const e=Jf[Xf]??(Jf[Xf]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var BD=T7(),P7=[null,null];function _7(e,t,n){gd(()=>e(...t),n)}function A7(e,t,n,r,s,i){e.current=r,n.current=!1,s.current&&(s.current=null,i())}function I7(e,t,n,r,s,i,a,l,c,u,d){if(!e)return()=>{};let h=!1,f=null;const m=()=>{if(h||!l.current)return;const g=t.getState();let y,b;try{y=r(g,s.current)}catch(v){b=v,f=v}b||(f=null),y===i.current?a.current||u():(i.current=y,c.current=y,a.current=!0,d())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function M7(e,t){return e===t}function O7(e,t,n,{pure:r,areStatesEqual:s=M7,areOwnPropsEqual:i=Kf,areStatePropsEqual:a=Kf,areMergedPropsEqual:l=Kf,forwardRef:c=!1,context:u=BD}={}){const d=u,h=u7(e),f=c7(t),m=f7(n),p=!!e;return y=>{const b=y.displayName||y.name||"Component",v=`Connect(${b})`,w={shouldHandleStateChanges:p,displayName:v,wrappedComponentName:b,WrappedComponent:y,initMapStateToProps:h,initMapDispatchToProps:f,initMergeProps:m,areStatesEqual:s,areStatePropsEqual:a,areOwnPropsEqual:i,areMergedPropsEqual:l};function S(C){const[N,D,T]=x.useMemo(()=>{const{reactReduxForwardedRef:$,...M}=C;return[C.context,$,M]},[C]),L=x.useMemo(()=>{let $=d;return N!=null&&N.Consumer,$},[N,d]),V=x.useContext(L),F=!!C.store&&!!C.store.getState&&!!C.store.dispatch,_=!!V&&!!V.store,z=F?C.store:V.store,W=_?V.getServerState:z.getState,I=x.useMemo(()=>o7(z.dispatch,w),[z]),[E,P]=x.useMemo(()=>{if(!p)return P7;const $=$D(z,F?void 0:V.subscription),M=$.notifyNestedSubs.bind($);return[$,M]},[z,F,V]),R=x.useMemo(()=>F?V:{...V,subscription:E},[F,V,E]),B=x.useRef(void 0),q=x.useRef(T),J=x.useRef(void 0),ne=x.useRef(!1),ae=x.useRef(!1),G=x.useRef(void 0);gd(()=>(ae.current=!0,()=>{ae.current=!1}),[]);const O=x.useMemo(()=>()=>J.current&&T===q.current?J.current:I(z.getState(),T),[z,T]),H=x.useMemo(()=>M=>E?I7(p,z,E,I,q,B,ne,ae,J,P,M):()=>{},[E]);_7(A7,[q,B,ne,T,J,P]);let K;try{K=x.useSyncExternalStore(H,O,W?()=>I(W(),T):O)}catch($){throw G.current&&($.message+=`
The error may be correlated with this previous error:
${G.current.stack}

`),$}gd(()=>{G.current=void 0,J.current=void 0,B.current=K});const fe=x.useMemo(()=>x.createElement(y,{...K,ref:D}),[D,y,K]);return x.useMemo(()=>p?x.createElement(L.Provider,{value:R},fe):fe,[L,fe,R])}const k=x.memo(S);if(k.WrappedComponent=y,k.displayName=S.displayName=v,c){const N=x.forwardRef(function(T,L){return x.createElement(k,{...T,reactReduxForwardedRef:L})});return N.displayName=v,N.WrappedComponent=y,Kp(N,y)}return Kp(k,y)}}var VD=O7;function R7(e){const{children:t,context:n,serverState:r,store:s}=e,i=x.useMemo(()=>{const c=$D(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),a=x.useMemo(()=>s.getState(),[s]);gd(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=n||BD;return x.createElement(l.Provider,{value:i},t)}var L7=R7,F7="Invariant failed";function $7(e,t){throw new Error(F7)}var Un=function(t){var n=t.top,r=t.right,s=t.bottom,i=t.left,a=r-i,l=s-n,c={top:n,right:r,bottom:s,left:i,width:a,height:l,x:i,y:n,center:{x:(r+i)/2,y:(s+n)/2}};return c},uy=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},N1=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},z7=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Zf={top:0,right:0,bottom:0,left:0},dy=function(t){var n=t.borderBox,r=t.margin,s=r===void 0?Zf:r,i=t.border,a=i===void 0?Zf:i,l=t.padding,c=l===void 0?Zf:l,u=Un(uy(n,s)),d=Un(N1(n,a)),h=Un(N1(d,c));return{marginBox:u,borderBox:Un(n),paddingBox:d,contentBox:h,margin:s,border:a,padding:c}},vn=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&$7(),s},B7=function(){return{x:window.pageXOffset,y:window.pageYOffset}},xd=function(t,n){var r=t.borderBox,s=t.border,i=t.margin,a=t.padding,l=z7(r,n);return dy({borderBox:l,border:s,margin:i,padding:a})},yd=function(t,n){return n===void 0&&(n=B7()),xd(t,n)},UD=function(t,n){var r={top:vn(n.marginTop),right:vn(n.marginRight),bottom:vn(n.marginBottom),left:vn(n.marginLeft)},s={top:vn(n.paddingTop),right:vn(n.paddingRight),bottom:vn(n.paddingBottom),left:vn(n.paddingLeft)},i={top:vn(n.borderTopWidth),right:vn(n.borderRightWidth),bottom:vn(n.borderBottomWidth),left:vn(n.borderLeftWidth)};return dy({borderBox:t,margin:r,padding:s,border:i})},WD=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return UD(n,r)},jl=function(t){var n=[],r=null,s=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vd.apply(null,arguments)}function HD(e,t){}HD.bind(null,"warn");HD.bind(null,"error");function ws(){}function V7(e,t){return{...e,...t}}function En(e,t,n){const r=t.map(s=>{const i=V7(n,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){r.forEach(i=>{i()})}}const U7="Invariant failed";class bd extends Error{}bd.prototype.toString=function(){return this.message};function te(e,t){throw new bd(U7)}class W7 extends re.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=ws,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof bd&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=En(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof bd){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const H7=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,wd=e=>e+1,q7=e=>`
  You have lifted an item in position ${wd(e.source.index)}
`,qD=(e,t)=>{const n=e.droppableId===t.droppableId,r=wd(e.index),s=wd(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},GD=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,G7=e=>{const t=e.destination;if(t)return qD(e.source,t);const n=e.combine;return n?GD(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},C1=e=>`
  The item has returned to its starting position
  of ${wd(e.index)}
`,Y7=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${C1(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${qD(e.source,t)}
    `:n?`
      You have dropped the item.
      ${GD(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${C1(e.source)}
  `},fu={dragHandleUsageInstructions:H7,onDragStart:q7,onDragUpdate:G7,onDragEnd:Y7};function Q7(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function YD(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Q7(e[n],t[n]))return!1;return!0}function Pe(e,t){const n=x.useState(()=>({inputs:t,result:e()}))[0],r=x.useRef(!0),s=x.useRef(n),a=r.current||!!(t&&s.current.inputs&&YD(t,s.current.inputs))?s.current:{inputs:t,result:e()};return x.useEffect(()=>{r.current=!1,s.current=a},[a]),a.result}function xe(e,t){return Pe(()=>e,t)}const wt={x:0,y:0},St=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ln=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),js=(e,t)=>e.x===t.x&&e.y===t.y,Fa=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),yi=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Sl=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),k1=(e,t)=>Math.min(...t.map(n=>Sl(e,n))),QD=e=>t=>({x:e(t.x),y:e(t.y)});var K7=(e,t)=>{const n=Un({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Yl=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),D1=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],X7={top:0,right:0,bottom:0,left:0},J7=(e,t)=>t?Yl(e,t.scroll.diff.displacement):e,Z7=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,eq=(e,t)=>t&&t.shouldClipSubject?K7(t.pageMarginBox,e):Un(e);var wa=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=J7(e.marginBox,r),i=Z7(s,n,t),a=eq(i,r);return{page:e,withPlaceholder:t,active:a}},hy=(e,t)=>{e.frame||te();const n=e.frame,r=ln(t,n.scroll.initial),s=Fa(r),i={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},a=wa({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:a}};function bt(e,t=YD){let n=null;function r(...s){if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;const i=e.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return r.clear=function(){n=null},r}const KD=bt(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),XD=bt(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),fh=bt(e=>Object.values(e)),tq=bt(e=>Object.values(e));var $a=bt((e,t)=>tq(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function fy(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function mh(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var ph=bt((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),nq=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!fy(s))return null;function a(m){const p={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...s,at:p}}const l=s.displaced.all,c=l.length?l[0]:null;if(e)return c?a(c):null;const u=ph(t,r);if(!c){if(!u.length)return null;const m=u[u.length-1];return a(m.descriptor.id)}const d=u.findIndex(m=>m.descriptor.id===c);d===-1&&te();const h=d-1;if(h<0)return null;const f=u[h];return a(f.descriptor.id)},za=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const JD={point:wt,value:0},Nl={invisible:{},visible:{},all:[]},rq={displaced:Nl,displacedBy:JD,at:null};var Pn=(e,t)=>n=>e<=n&&n<=t,ZD=e=>{const t=Pn(e.top,e.bottom),n=Pn(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right);if(i&&a)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&a||u&&i}},sq=e=>{const t=Pn(e.top,e.bottom),n=Pn(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const my={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},eE={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var iq=e=>t=>{const n=Pn(t.top,t.bottom),r=Pn(t.left,t.right);return s=>e===my?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const aq=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:wt;return Yl(e,n)},oq=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,lq=(e,t,n)=>n(t)(e),py=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const i=r?aq(e,t):e;return oq(i,t,s)&&lq(i,n,s)},cq=e=>py({...e,isVisibleThroughFrameFn:ZD}),tE=e=>py({...e,isVisibleThroughFrameFn:sq}),uq=e=>py({...e,isVisibleThroughFrameFn:iq(e.destination.axis)}),dq=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const i=s[e];return i?i.shouldAnimate:!0};function hq(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Un(uy(n,r))}function Cl({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:i}){return e.reduce(function(l,c){const u=hq(c,n),d=c.descriptor.id;if(l.all.push(d),!cq({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const f=dq(d,i,s),m={draggableId:d,shouldAnimate:f};return l.visible[d]=m,l},{all:[],visible:{},invisible:{}})}function fq(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function E1({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=fq(e,{inHomeList:t});return{displaced:Nl,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function jd({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:i,index:a,forceShouldAnimate:l}){const c=za(e,n);if(a==null)return E1({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const u=t.find(p=>p.descriptor.index===a);if(!u)return E1({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const d=ph(e,t),h=t.indexOf(u),f=d.slice(h);return{displaced:Cl({afterDragging:f,destination:n,displacedBy:s,last:i,viewport:r.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function Es(e,t){return!!t.effected[e]}var mq=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const i=r.draggableId,l=n[i].descriptor.index;return Es(i,s)?e?l:l-1:e?l+1:l},pq=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,i=e?s+1:s-1,a=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=t?l:l+1;return i<a||i>c?null:i},gq=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:i,previousImpact:a,viewport:l,afterCritical:c})=>{const u=a.at;if(u||te(),u.type==="REORDER"){const h=pq({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:i});return h==null?null:jd({draggable:n,insideDestination:i,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:h})}const d=mq({isMovingForward:e,destination:s,displaced:a.displaced,draggables:r,combine:u.combine,afterCritical:c});return d==null?null:jd({draggable:n,insideDestination:i,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:d})},xq=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return Es(n,t)?s?wt:Fa(r.point):s?r.point:wt},yq=({afterCritical:e,impact:t,draggables:n})=>{const r=mh(t);r||te();const s=r.draggableId,i=n[s].page.borderBox.center,a=xq({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return St(i,a)};const nE=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,vq=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,gy=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,T1=({axis:e,moveRelativeTo:t,isMoving:n})=>yi(e.line,t.marginBox[e.end]+nE(e,n),gy(e,t.marginBox,n)),P1=({axis:e,moveRelativeTo:t,isMoving:n})=>yi(e.line,t.marginBox[e.start]-vq(e,n),gy(e,t.marginBox,n)),bq=({axis:e,moveInto:t,isMoving:n})=>yi(e.line,t.contentBox[e.start]+nE(e,n),gy(e,t.contentBox,n));var wq=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const i=$a(r.descriptor.id,n),a=t.page,l=r.axis;if(!i.length)return bq({axis:l,moveInto:r.page,isMoving:a});const{displaced:c,displacedBy:u}=e,d=c.all[0];if(d){const f=n[d];if(Es(d,s))return P1({axis:l,moveRelativeTo:f.page,isMoving:a});const m=xd(f.page,u.point);return P1({axis:l,moveRelativeTo:m,isMoving:a})}const h=i[i.length-1];if(h.descriptor.id===t.descriptor.id)return a.borderBox.center;if(Es(h.descriptor.id,s)){const f=xd(h.page,Fa(s.displacedBy.point));return T1({axis:l,moveRelativeTo:f,isMoving:a})}return T1({axis:l,moveRelativeTo:h.page,isMoving:a})},Xp=(e,t)=>{const n=e.frame;return n?St(t,n.scroll.diff.displacement):t};const jq=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const i=t.page.borderBox.center,a=e.at;return!n||!a?i:a.type==="REORDER"?wq({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):yq({impact:e,draggables:r,afterCritical:s})};var gh=e=>{const t=jq(e),n=e.droppable;return n?Xp(n,t):t},rE=(e,t)=>{const n=ln(t,e.scroll.initial),r=Fa(n);return{frame:Un({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function _1(e,t){return e.map(n=>t[n])}function Sq(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var Nq=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const i=rE(t,St(t.scroll.current,s)),a=n.frame?hy(n,St(n.frame.scroll.current,s)):n,l=e.displaced,c=Cl({afterDragging:_1(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),u=Cl({afterDragging:_1(l.all,r),destination:a,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach(p=>{const g=Sq(p,f);if(g){h[p]=g;return}d[p]=!0}),{...e,displaced:{all:l.all,invisible:d,visible:h}}},Cq=(e,t)=>St(e.scroll.diff.displacement,t),xy=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=Cq(n,e),s=ln(r,t.page.borderBox.center);return St(t.client.borderBox.center,s)},sE=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const a=ln(n,e.page.borderBox.center),c={target:Yl(e.page.borderBox,a),destination:t,withDroppableDisplacement:s,viewport:r};return i?uq(c):tE(c)},kq=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:i,previousPageBorderBoxCenter:a,previousClientSelection:l,afterCritical:c})=>{if(!n.isEnabled)return null;const u=$a(n.descriptor.id,r),d=za(t,n),h=nq({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:s})||gq({isMovingForward:e,isInHomeList:d,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:s,viewport:i,afterCritical:c});if(!h)return null;const f=gh({impact:h,draggable:t,droppable:n,draggables:r,afterCritical:c});if(sE({draggable:t,destination:n,newPageBorderBoxCenter:f,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:xy({pageBorderBoxCenter:f,draggable:t,viewport:i}),impact:h,scrollJumpRequest:null};const p=ln(f,a),g=Nq({impact:h,viewport:i,destination:n,draggables:r,maxScrollChange:p});return{clientSelection:l,impact:g,scrollJumpRequest:p}};const Lt=e=>{const t=e.subject.active;return t||te(),t};var Dq=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const i=n.subject.active;if(!i)return null;const a=n.axis,l=Pn(i[a.start],i[a.end]),c=fh(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>ZD(s.frame)(Lt(d))).filter(d=>{const h=Lt(d);return e?i[a.crossAxisEnd]<h[a.crossAxisEnd]:h[a.crossAxisStart]<i[a.crossAxisStart]}).filter(d=>{const h=Lt(d),f=Pn(h[a.start],h[a.end]);return l(h[a.start])||l(h[a.end])||f(i[a.start])||f(i[a.end])}).sort((d,h)=>{const f=Lt(d)[a.crossAxisStart],m=Lt(h)[a.crossAxisStart];return e?f-m:m-f}).filter((d,h,f)=>Lt(d)[a.crossAxisStart]===Lt(f[0])[a.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(d=>Pn(Lt(d)[a.start],Lt(d)[a.end])(t[a.line]));return u.length===1?u[0]:u.length>1?u.sort((d,h)=>Lt(d)[a.start]-Lt(h)[a.start])[0]:c.sort((d,h)=>{const f=k1(t,D1(Lt(d))),m=k1(t,D1(Lt(h)));return f!==m?f-m:Lt(d)[a.start]-Lt(h)[a.start]})[0]};const A1=(e,t)=>{const n=e.page.borderBox.center;return Es(e.descriptor.id,t)?ln(n,t.displacedBy.point):n},Eq=(e,t)=>{const n=e.page.borderBox;return Es(e.descriptor.id,t)?Yl(n,Fa(t.displacedBy.point)):n};var Tq=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(a=>tE({target:Eq(a,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((a,l)=>{const c=Sl(e,Xp(n,A1(a,s))),u=Sl(e,Xp(n,A1(l,s)));return c<u?-1:u<c?1:a.descriptor.index-l.descriptor.index})[0]||null,Ql=bt(function(t,n){const r=n[t.line];return{value:r,point:yi(t.line,r)}});const Pq=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return yi(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],c=$a(e.descriptor.id,n).reduce((u,d)=>u+d.client.marginBox[r.size],0)+t[r.line]-s;return c<=0?null:yi(r.line,c)},iE=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),aE=(e,t,n)=>{const r=e.frame;za(t,e)&&te(),e.subject.withPlaceholder&&te();const s=Ql(e.axis,t.displaceBy).point,i=Pq(e,s,n),a={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const d=wa({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:d}}const l=i?St(r.scroll.max,i):r.scroll.max,c=iE(r,l),u=wa({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},_q=e=>{const t=e.subject.withPlaceholder;t||te();const n=e.frame;if(!n){const a=wa({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:a}}const r=t.oldFrameMaxScroll;r||te();const s=iE(n,r),i=wa({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:i,frame:s}};var Aq=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:i,viewport:a,afterCritical:l})=>{if(!t){if(n.length)return null;const h={displaced:Nl,displacedBy:JD,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},f=gh({impact:h,draggable:r,droppable:i,draggables:s,afterCritical:l}),m=za(r,i)?i:aE(i,r,s);return sE({draggable:r,destination:m,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const c=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],u=(()=>{const h=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?h:h+1})(),d=Ql(i.axis,r.displaceBy);return jd({draggable:r,insideDestination:n,destination:i,viewport:a,displacedBy:d,last:Nl,index:u})},Iq=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:i,viewport:a,afterCritical:l})=>{const c=Dq({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:i,viewport:a});if(!c)return null;const u=$a(c.descriptor.id,s),d=Tq({pageBorderBoxCenter:t,viewport:a,destination:c,insideDestination:u,afterCritical:l}),h=Aq({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:s,moveRelativeTo:d,insideDestination:u,viewport:a,afterCritical:l});if(!h)return null;const f=gh({impact:h,draggable:n,droppable:c,draggables:s,afterCritical:l});return{clientSelection:xy({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null}},un=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const Mq=(e,t)=>{const n=un(e);return n?t[n]:null};var Oq=({state:e,type:t})=>{const n=Mq(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],i=n||s,a=i.axis.direction,l=a==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||a==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:h,droppables:f}=e.dimensions;return l?kq({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:i,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Iq({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:i,draggables:h,droppables:f,viewport:e.viewport,afterCritical:e.afterCritical})};function Qs(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function oE(e){const t=Pn(e.top,e.bottom),n=Pn(e.left,e.right);return function(s){return t(s.y)&&n(s.x)}}function Rq(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Lq({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(i=>{const a=i.axis,l=yi(i.axis.line,e.center[a.line],i.page.borderBox.center[a.crossAxisLine]);return{id:i.descriptor.id,distance:Sl(r,l)}}).sort((i,a)=>a.distance-i.distance);return s[0]?s[0].id:null}function Fq({pageBorderBox:e,draggable:t,droppables:n}){const r=fh(n).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!Rq(e,i))return!1;if(oE(i)(e.center))return!0;const a=s.axis,l=i.center[a.crossAxisLine],c=e[a.crossAxisStart],u=e[a.crossAxisEnd],d=Pn(i[a.crossAxisStart],i[a.crossAxisEnd]),h=d(c),f=d(u);return!h&&!f?!0:h?c<l:u>l});return r.length?r.length===1?r[0].descriptor.id:Lq({pageBorderBox:e,draggable:t,candidates:r}):null}const lE=(e,t)=>Un(Yl(e,t));var $q=(e,t)=>{const n=e.frame;return n?lE(t,n.scroll.diff.value):t};function cE({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function zq({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Bq=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:i,afterCritical:a})=>{const l=n.axis,c=Ql(n.axis,t.displaceBy),u=c.value,d=e[l.start],h=e[l.end],m=ph(t,r).find(g=>{const y=g.descriptor.id,b=g.page.borderBox.center[l.line],v=Es(y,a),w=cE({displaced:s,id:y});return v?w?h<=b:d<b-u:w?h<=b+u:d<b})||null,p=zq({draggable:t,closest:m,inHomeList:za(t,n)});return jd({draggable:t,insideDestination:r,destination:n,viewport:i,last:s,displacedBy:c,index:p})};const Vq=4;var Uq=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const a=r.axis,l=Ql(r.axis,e.displaceBy),c=l.value,u=t[a.start],d=t[a.end],f=ph(e,s).find(p=>{const g=p.descriptor.id,y=p.page.borderBox,v=y[a.size]/Vq,w=Es(g,i),S=cE({displaced:n.displaced,id:g});return w?S?d>y[a.start]+v&&d<y[a.end]-v:u>y[a.start]-c+v&&u<y[a.end]-c-v:S?d>y[a.start]+c+v&&d<y[a.end]+c-v:u>y[a.start]+v&&u<y[a.end]-v});return f?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:r.descriptor.id}}}:null},uE=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:i,afterCritical:a})=>{const l=lE(t.page.borderBox,e),c=Fq({pageBorderBox:l,draggable:t,droppables:r});if(!c)return rq;const u=r[c],d=$a(u.descriptor.id,n),h=$q(u,l);return Uq({pageBorderBoxWithDroppableScroll:h,draggable:t,previousImpact:s,destination:u,insideDestination:d,afterCritical:a})||Bq({pageBorderBoxWithDroppableScroll:h,draggable:t,destination:u,insideDestination:d,last:s.displaced,viewport:i,afterCritical:a})},yy=(e,t)=>({...e,[t.descriptor.id]:t});const Wq=({previousImpact:e,impact:t,droppables:n})=>{const r=un(e),s=un(t);if(!r||r===s)return n;const i=n[r];if(!i.subject.withPlaceholder)return n;const a=_q(i);return yy(n,a)};var Hq=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const i=Wq({previousImpact:r,impact:s,droppables:n}),a=un(s);if(!a)return i;const l=n[a];if(za(e,l)||l.subject.withPlaceholder)return i;const c=aE(l,e,t);return yy(i,c)},Vo=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:i})=>{const a=r||e.viewport,l=n||e.dimensions,c=t||e.current.client.selection,u=ln(c,e.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:St(e.initial.client.borderBoxCenter,u)},h={selection:St(d.selection,a.scroll.current),borderBoxCenter:St(d.borderBoxCenter,a.scroll.current),offset:St(d.offset,a.scroll.diff.value)},f={client:d,page:h};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:a,current:f};const m=l.draggables[e.critical.draggable.id],p=s||uE({pageOffset:h.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),g=Hq({draggable:m,impact:p,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:f,dimensions:{draggables:l.draggables,droppables:g},impact:p,viewport:a,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function qq(e,t){return e.map(n=>t[n])}var dE=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const i=e.displaced,a=qq(i.all,n),l=Cl({afterDragging:a,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:i});return{...e,displaced:l}},hE=({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:i})=>{const a=gh({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i});return xy({pageBorderBoxCenter:a,draggable:t,viewport:s})},fE=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&te();const r=e.impact,s=n||e.viewport,i=t||e.dimensions,{draggables:a,droppables:l}=i,c=a[e.critical.draggable.id],u=un(r);u||te();const d=l[u],h=dE({impact:r,viewport:s,destination:d,draggables:a}),f=hE({impact:h,draggable:c,droppable:d,draggables:a,viewport:s,afterCritical:e.afterCritical});return Vo({impact:h,clientSelection:f,state:e,dimensions:i,viewport:s})},Gq=e=>({index:e.index,droppableId:e.droppableId}),mE=({draggable:e,home:t,draggables:n,viewport:r})=>{const s=Ql(t.axis,e.displaceBy),i=$a(t.descriptor.id,n),a=i.indexOf(e);a===-1&&te();const l=i.slice(a+1),c=l.reduce((f,m)=>(f[m.descriptor.id]=!0,f),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:Cl({afterDragging:l,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:Gq(e.descriptor)}},afterCritical:u}},Yq=(e,t)=>({draggables:e.draggables,droppables:yy(e.droppables,t)}),Qq=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=xd(e.client,t),s=yd(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},Kq=e=>{const t=e.frame;return t||te(),t},Xq=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const i=s.descriptor.droppableId,a=t[i],c=Kq(a).scroll.diff.value,u=St(r,c);return Qq({draggable:s,offset:u,initialWindowScroll:n.scroll.initial})})},Jq=({state:e,published:t})=>{const n=t.modified.map(b=>{const v=e.dimensions.droppables[b.droppableId];return hy(v,b.scroll)}),r={...e.dimensions.droppables,...KD(n)},s=XD(Xq({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),i={...e.dimensions.draggables,...s};t.removals.forEach(b=>{delete i[b]});const a={droppables:r,draggables:i},l=un(e.impact),c=l?a.droppables[l]:null,u=a.draggables[e.critical.draggable.id],d=a.droppables[e.critical.droppable.id],{impact:h,afterCritical:f}=mE({draggable:u,home:d,draggables:i,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:h,p=uE({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:m,viewport:e.viewport,afterCritical:f}),g={...e,phase:"DRAGGING",impact:p,onLiftImpact:h,dimensions:a,afterCritical:f,forceShouldAnimate:!1};return e.phase==="COLLECTING"?g:{...g,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Jp=e=>e.movementMode==="SNAP",em=(e,t,n)=>{const r=Yq(e.dimensions,t);return!Jp(e)||n?Vo({state:e,dimensions:r}):fE({state:e,dimensions:r})};function tm(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const I1={phase:"IDLE",completed:null,shouldFlush:!1};var Zq=(e=I1,t)=>{if(t.type==="FLUSH")return{...I1,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&te();const{critical:n,clientSelection:r,viewport:s,dimensions:i,movementMode:a}=t.payload,l=i.draggables[n.draggable.id],c=i.droppables[n.droppable.id],u={selection:r,borderBoxCenter:l.client.borderBox.center,offset:wt},d={client:u,page:{selection:St(u.selection,s.scroll.initial),borderBoxCenter:St(u.selection,s.scroll.initial),offset:St(u.selection,s.scroll.diff.value)}},h=fh(i.droppables).every(g=>!g.isFixedOnPage),{impact:f,afterCritical:m}=mE({draggable:l,home:c,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:i,initial:d,current:d,isWindowScrollAllowed:h,impact:f,afterCritical:m,onLiftImpact:f,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&te(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||te(),Jq({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Qs(e)||te();const{client:n}=t.payload;return js(n,e.current.client.selection)?e:Vo({state:e,clientSelection:n,impact:Jp(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return tm(e);Qs(e)||te();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const i=hy(s,r);return em(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Qs(e)||te();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||te(),s.isEnabled===r&&te();const i={...s,isEnabled:r};return em(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Qs(e)||te();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||te(),s.isCombineEnabled===r&&te();const i={...s,isCombineEnabled:r};return em(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Qs(e)||te(),e.isWindowScrollAllowed||te();const n=t.payload.newScroll;if(js(e.viewport.scroll.current,n))return tm(e);const r=rE(e.viewport,n);return Jp(e)?fE({state:e,viewport:r}):Vo({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Qs(e))return e;const n=t.payload.maxScroll;if(js(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&te();const n=Oq({state:e,type:t.type});return n?Vo({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&te(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||te(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Ie(e,t){return e instanceof Object&&"type"in e&&e.type===t}const e9=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),t9=e=>({type:"LIFT",payload:e}),n9=e=>({type:"INITIAL_PUBLISH",payload:e}),r9=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),s9=()=>({type:"COLLECTION_STARTING",payload:null}),i9=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),a9=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),o9=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),pE=e=>({type:"MOVE",payload:e}),l9=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),c9=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),u9=()=>({type:"MOVE_UP",payload:null}),d9=()=>({type:"MOVE_DOWN",payload:null}),h9=()=>({type:"MOVE_RIGHT",payload:null}),f9=()=>({type:"MOVE_LEFT",payload:null}),vy=()=>({type:"FLUSH",payload:null}),m9=e=>({type:"DROP_ANIMATE",payload:e}),by=e=>({type:"DROP_COMPLETE",payload:e}),gE=e=>({type:"DROP",payload:e}),p9=e=>({type:"DROP_PENDING",payload:e}),xE=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var g9=e=>({getState:t,dispatch:n})=>r=>s=>{if(!Ie(s,"LIFT")){r(s);return}const{id:i,clientSelection:a,movementMode:l}=s.payload,c=t();c.phase==="DROP_ANIMATING"&&n(by({completed:c.completed})),t().phase!=="IDLE"&&te(),n(vy()),n(e9({draggableId:i,movementMode:l}));const d={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:h,dimensions:f,viewport:m}=e.startPublishing(d);n(n9({critical:h,dimensions:f,clientSelection:a,movementMode:l,viewport:m}))},x9=e=>()=>t=>n=>{Ie(n,"INITIAL_PUBLISH")&&e.dragging(),Ie(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Ie(n,"FLUSH")||Ie(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const wy={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},kl={opacity:{drop:0,combining:.7},scale:{drop:.75}},yE={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},zs=`${yE.outOfTheWay}s ${wy.outOfTheWay}`,Uo={fluid:`opacity ${zs}`,snap:`transform ${zs}, opacity ${zs}`,drop:e=>{const t=`${e}s ${wy.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${zs}`,placeholder:`height ${zs}, width ${zs}, margin ${zs}`},M1=e=>js(e,wt)?void 0:`translate(${e.x}px, ${e.y}px)`,Zp={moveTo:M1,drop:(e,t)=>{const n=M1(e);if(n)return t?`${n} scale(${kl.scale.drop})`:n}},{minDropTime:eg,maxDropTime:vE}=yE,y9=vE-eg,O1=1500,v9=.6;var b9=({current:e,destination:t,reason:n})=>{const r=Sl(e,t);if(r<=0)return eg;if(r>=O1)return vE;const s=r/O1,i=eg+y9*s,a=n==="CANCEL"?i*v9:i;return Number(a.toFixed(2))},w9=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:i,droppables:a}=n,l=un(e),c=l?a[l]:null,u=a[t.descriptor.droppableId],d=hE({impact:e,draggable:t,draggables:i,afterCritical:s,droppable:c||u,viewport:r});return ln(d,t.client.borderBox.center)},j9=({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:i})=>!n.at||t!=="DROP"?{impact:dE({draggables:e,impact:i,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Nl},didDropInsideDroppable:!0};const S9=({getState:e,dispatch:t})=>n=>r=>{if(!Ie(r,"DROP")){n(r);return}const s=e(),i=r.payload.reason;if(s.phase==="COLLECTING"){t(p9({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&te(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||te();const l=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],{impact:d,didDropInsideDroppable:h}=j9({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),f=h?fy(d):null,m=h?mh(d):null,p={index:l.draggable.index,droppableId:l.droppable.id},g={draggableId:u.descriptor.id,type:u.descriptor.type,source:p,reason:i,mode:s.movementMode,destination:f,combine:m},y=w9({impact:d,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),b={critical:s.critical,afterCritical:s.afterCritical,result:g,impact:d};if(!(!js(s.current.client.offset,y)||!!g.combine)){t(by({completed:b}));return}const w=b9({current:s.current.client.offset,destination:y,reason:i});t(m9({newHomeClientOffset:y,dropDuration:w,completed:b}))};var bE=()=>({x:window.pageXOffset,y:window.pageYOffset});function N9(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function C9({onWindowScroll:e}){function t(){e(bE())}const n=jl(t),r=N9(n);let s=ws;function i(){return s!==ws}function a(){i()&&te(),s=En(window,[r])}function l(){i()||te(),n.cancel(),s(),s=ws}return{start:a,stop:l,isActive:i}}const k9=e=>Ie(e,"DROP_COMPLETE")||Ie(e,"DROP_ANIMATE")||Ie(e,"FLUSH"),D9=e=>{const t=C9({onWindowScroll:n=>{e.dispatch(l9({newScroll:n}))}});return n=>r=>{!t.isActive()&&Ie(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&k9(r)&&t.stop(),n(r)}};var E9=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=i=>{t||n||(t=!0,e(i),clearTimeout(r))};return s.wasCalled=()=>t,s},T9=()=>{const e=[],t=s=>{const i=e.findIndex(l=>l.timerId===s);i===-1&&te();const[a]=e.splice(i,1);a.callback()};return{add:s=>{const i=setTimeout(()=>t(i)),a={timerId:i,callback:s};e.push(a)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const P9=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,_9=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,A9=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},uo=(e,t)=>{t()},zc=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function nm(e,t,n,r){if(!e){n(r(t));return}const s=E9(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}var I9=(e,t)=>{const n=T9();let r=null;const s=(h,f)=>{r&&te(),uo("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:h,mode:f})})},i=(h,f)=>{r&&te(),uo("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(zc(h,f))})},a=(h,f)=>{r&&te();const m=zc(h,f);r={mode:f,lastCritical:h,lastLocation:m.source,lastCombine:null},n.add(()=>{uo("onDragStart",()=>nm(e().onDragStart,m,t,fu.onDragStart))})},l=(h,f)=>{const m=fy(f),p=mh(f);r||te();const g=!A9(h,r.lastCritical);g&&(r.lastCritical=h);const y=!P9(r.lastLocation,m);y&&(r.lastLocation=m);const b=!_9(r.lastCombine,p);if(b&&(r.lastCombine=p),!g&&!y&&!b)return;const v={...zc(h,r.mode),combine:p,destination:m};n.add(()=>{uo("onDragUpdate",()=>nm(e().onDragUpdate,v,t,fu.onDragUpdate))})},c=()=>{r||te(),n.flush()},u=h=>{r||te(),r=null,uo("onDragEnd",()=>nm(e().onDragEnd,h,t,fu.onDragEnd))};return{beforeCapture:s,beforeStart:i,start:a,update:l,flush:c,drop:u,abort:()=>{if(!r)return;const h={...zc(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(h)}}},M9=(e,t)=>{const n=I9(e,t);return r=>s=>i=>{if(Ie(i,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(Ie(i,"INITIAL_PUBLISH")){const l=i.payload.critical;n.beforeStart(l,i.payload.movementMode),s(i),n.start(l,i.payload.movementMode);return}if(Ie(i,"DROP_COMPLETE")){const l=i.payload.completed.result;n.flush(),s(i),n.drop(l);return}if(s(i),Ie(i,"FLUSH")){n.abort();return}const a=r.getState();a.phase==="DRAGGING"&&n.update(a.critical,a.impact)}};const O9=e=>t=>n=>{if(!Ie(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&te(),e.dispatch(by({completed:r.completed}))},R9=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return s=>i=>{if((Ie(i,"FLUSH")||Ie(i,"DROP_COMPLETE")||Ie(i,"DROP_ANIMATION_FINISHED"))&&r(),s(i),!Ie(i,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(xE())}};n=requestAnimationFrame(()=>{n=null,t=En(window,[a])})}};var L9=e=>()=>t=>n=>{(Ie(n,"DROP_COMPLETE")||Ie(n,"FLUSH")||Ie(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},F9=e=>{let t=!1;return()=>n=>r=>{if(Ie(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Ie(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Ie(r,"DROP_COMPLETE")){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const $9=e=>Ie(e,"DROP_COMPLETE")||Ie(e,"DROP_ANIMATE")||Ie(e,"FLUSH");var z9=e=>t=>n=>r=>{if($9(r)){e.stop(),n(r);return}if(Ie(r,"INITIAL_PUBLISH")){n(r);const s=t.getState();s.phase!=="DRAGGING"&&te(),e.start(s);return}n(r),e.scroll(t.getState())};const B9=e=>t=>n=>{if(t(n),!Ie(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(gE({reason:r.reason})))},V9=RD;var U9=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:i})=>OD(Zq,V9(RH(x9(n),L9(e),g9(e),S9,O9,R9,B9,z9(i),D9,F9(t),M9(r,s))));const rm=()=>({additions:{},removals:{},modified:{}});function W9({registry:e,callbacks:t}){let n=rm(),r=null;const s=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:d}=n,h=Object.keys(c).map(p=>e.draggable.getById(p).getDimension(wt)).sort((p,g)=>p.descriptor.index-g.descriptor.index),f=Object.keys(d).map(p=>{const y=e.droppable.getById(p).callbacks.getScrollWhileDragging();return{droppableId:p,scroll:y}}),m={additions:h,removals:Object.keys(u),modified:f};n=rm(),t.publish(m)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=rm())}}}var wE=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=ln({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},jE=()=>{const e=document.documentElement;return e||te(),e},SE=()=>{const e=jE();return wE({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},H9=()=>{const e=bE(),t=SE(),n=e.y,r=e.x,s=jE(),i=s.clientWidth,a=s.clientHeight,l=r+i,c=n+a;return{frame:Un({top:n,left:r,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:wt,displacement:wt}}}},q9=({critical:e,scrollOptions:t,registry:n})=>{const r=H9(),s=r.scroll.current,i=e.droppable,a=n.droppable.getAllByType(i.type).map(d=>d.callbacks.getDimensionAndWatchScroll(s,t)),l=n.draggable.getAllByType(e.draggable.type).map(d=>d.getDimension(s));return{dimensions:{draggables:XD(l),droppables:KD(a)},critical:e,viewport:r}};function R1(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var G9=(e,t)=>{let n=null;const r=W9({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(f,m)=>{e.droppable.exists(f)||te(),n&&t.updateDroppableIsEnabled({id:f,isEnabled:m})},i=(f,m)=>{n&&(e.droppable.exists(f)||te(),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:m}))},a=(f,m)=>{n&&(e.droppable.exists(f)||te(),t.updateDroppableScroll({id:f,newScroll:m}))},l=(f,m)=>{n&&e.droppable.getById(f).callbacks.scroll(m)},c=()=>{if(!n)return;r.stop();const f=n.critical.droppable;e.droppable.getAllByType(f.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=f=>{n||te();const m=n.critical.draggable;f.type==="ADDITION"&&R1(e,m,f.value)&&r.add(f.value),f.type==="REMOVAL"&&R1(e,m,f.value)&&r.remove(f.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:a,startPublishing:f=>{n&&te();const m=e.draggable.getById(f.draggableId),p=e.droppable.getById(m.descriptor.droppableId),g={draggable:m.descriptor,droppable:p.descriptor},y=e.subscribe(u);return n={critical:g,unsubscribe:y},q9({critical:g,registry:e,scrollOptions:f.scrollOptions})},stopPublishing:c}},NE=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Y9=e=>{window.scrollBy(e.x,e.y)};const Q9=bt(e=>fh(e).filter(t=>!(!t.isEnabled||!t.frame))),K9=(e,t)=>Q9(t).find(r=>(r.frame||te(),oE(r.frame.pageMarginBox)(e)))||null;var X9=({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return K9(e,n)};const Dl={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var J9=(e,t,n=()=>Dl)=>{const r=n(),s=e[t.size]*r.startFromPercentage,i=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},CE=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},jy=1,Z9=(e,t,n=()=>Dl)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return jy;const i=1-CE({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=r.maxPixelScroll*r.ease(i);return Math.ceil(a)},eG=(e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,a=t,l=i,u=Date.now()-a;if(u>=i)return e;if(u<s)return jy;const d=CE({startOfRange:s,endOfRange:l,current:u}),h=e*r.ease(d);return Math.ceil(h)},L1=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const i=Z9(e,t,s);return i===0?0:r?Math.max(eG(i,n,s),jy):i},F1=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=J9(e,r,i);return t[r.end]<t[r.start]?L1({distanceToEdge:t[r.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*L1({distanceToEdge:t[r.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},tG=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const nG=QD(e=>e===0?0:e);var kE=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=F1({container:t,distanceToEdges:a,dragStartTime:e,axis:my,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),c=F1({container:t,distanceToEdges:a,dragStartTime:e,axis:eE,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),u=nG({x:c,y:l});if(js(u,wt))return null;const d=tG({container:t,subject:n,proposedScroll:u});return d?js(d,wt)?null:d:null};const rG=QD(e=>e===0?0:e>0?1:-1),Sy=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const s=St(t,r),i={x:e(s.x,n.x),y:e(s.y,n.y)};return js(i,wt)?null:i}})(),DE=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=rG(n),i=Sy({max:r,current:t,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},Ny=(e,t)=>DE({current:e.scroll.current,max:e.scroll.max,change:t}),sG=(e,t)=>{if(!Ny(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Sy({current:r,max:n,change:t})},Cy=(e,t)=>{const n=e.frame;return n?DE({current:n.scroll.current,max:n.scroll.max,change:t}):!1},iG=(e,t)=>{const n=e.frame;return!n||!Cy(e,t)?null:Sy({current:n.scroll.current,max:n.scroll.max,change:t})};var aG=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=kE({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return a&&Ny(e,a)?a:null},oG=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=e.frame;if(!a)return null;const l=kE({dragStartTime:r,container:a.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return l&&Cy(e,l)?l:null},$1=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:i})=>{const a=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const h=e.viewport,f=aG({dragStartTime:t,viewport:h,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});if(f){r(f);return}}const u=X9({center:a,destination:un(e.impact),droppables:e.dimensions.droppables});if(!u)return;const d=oG({dragStartTime:t,droppable:u,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});d&&s(u.descriptor.id,d)},lG=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Dl})=>{const r=jl(e),s=jl(t);let i=null;const a=u=>{i||te();const{shouldUseTimeDampening:d,dragStartTime:h}=i;$1({state:u,scrollWindow:r,scrollDroppable:s,dragStartTime:h,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:u=>{i&&te();const d=Date.now();let h=!1;const f=()=>{h=!0};$1({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:n}),i={dragStartTime:d,shouldUseTimeDampening:h},h&&a(u)},stop:()=>{i&&(r.cancel(),s.cancel(),i=null)},scroll:a}},cG=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,c)=>{const u=St(l.current.client.selection,c);e({client:u})},s=(l,c)=>{if(!Cy(l,c))return c;const u=iG(l,c);if(!u)return t(l.descriptor.id,c),null;const d=ln(c,u);return t(l.descriptor.id,d),ln(c,d)},i=(l,c,u)=>{if(!l||!Ny(c,u))return u;const d=sG(c,u);if(!d)return n(u),null;const h=ln(u,d);return n(h),ln(u,h)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const u=un(l.impact);u||te();const d=s(l.dimensions.droppables[u],c);if(!d)return;const h=l.viewport,f=i(l.isWindowScrollAllowed,h,d);f&&r(l,f)}},uG=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=lG({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),i=cG({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:s.start,stop:s.stop}};const ja="data-rfd",Sa=(()=>{const e=`${ja}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),tg=(()=>{const e=`${ja}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),dG=(()=>{const e=`${ja}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),z1={contextId:`${ja}-scroll-container-context-id`},hG=e=>t=>`[${t}="${e}"]`,ho=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),fG="pointer-events: none;";var mG=e=>{const t=hG(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Sa.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:fG,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Uo.outOfTheWay};
    `;return{selector:t(tg.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),s={selector:t(dG.contextId),styles:{always:"overflow-anchor: none;"}},a=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ho(a,"always"),resting:ho(a,"resting"),dragging:ho(a,"dragging"),dropAnimating:ho(a,"dropAnimating"),userCancel:ho(a,"userCancel")}};const dn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect,sm=()=>{const e=document.querySelector("head");return e||te(),e},B1=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function pG(e,t){const n=Pe(()=>mG(e),[e]),r=x.useRef(null),s=x.useRef(null),i=xe(bt(h=>{const f=s.current;f||te(),f.textContent=h}),[]),a=xe(h=>{const f=r.current;f||te(),f.textContent=h},[]);dn(()=>{!r.current&&!s.current||te();const h=B1(t),f=B1(t);return r.current=h,s.current=f,h.setAttribute(`${ja}-always`,e),f.setAttribute(`${ja}-dynamic`,e),sm().appendChild(h),sm().appendChild(f),a(n.always),i(n.resting),()=>{const m=p=>{const g=p.current;g||te(),sm().removeChild(g),p.current=null};m(r),m(s)}},[t,a,i,n.always,n.resting,e]);const l=xe(()=>i(n.dragging),[i,n.dragging]),c=xe(h=>{if(h==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),u=xe(()=>{s.current&&i(n.resting)},[i,n.resting]);return Pe(()=>({dragging:l,dropping:c,resting:u}),[l,c,u])}function EE(e,t){return Array.from(e.querySelectorAll(t))}var TE=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function xh(e){return e instanceof TE(e).HTMLElement}function gG(e,t){const n=`[${Sa.contextId}="${e}"]`,r=EE(document,n);if(!r.length)return null;const s=r.find(i=>i.getAttribute(Sa.draggableId)===t);return!s||!xh(s)?null:s}function xG(e){const t=x.useRef({}),n=x.useRef(null),r=x.useRef(null),s=x.useRef(!1),i=xe(function(f,m){const p={id:f,focus:m};return t.current[f]=p,function(){const y=t.current;y[f]!==p&&delete y[f]}},[]),a=xe(function(f){const m=gG(e,f);m&&m!==document.activeElement&&m.focus()},[e]),l=xe(function(f,m){n.current===f&&(n.current=m)},[]),c=xe(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&a(f)}))},[a]),u=xe(function(f){n.current=null;const m=document.activeElement;m&&m.getAttribute(Sa.draggableId)===f&&(n.current=f)},[]);return dn(()=>(s.current=!0,function(){s.current=!1;const f=r.current;f&&cancelAnimationFrame(f)}),[]),Pe(()=>({register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,u,c,l])}function yG(){const e={draggables:{},droppables:{}},t=[];function n(h){return t.push(h),function(){const m=t.indexOf(h);m!==-1&&t.splice(m,1)}}function r(h){t.length&&t.forEach(f=>f(h))}function s(h){return e.draggables[h]||null}function i(h){const f=s(h);return f||te(),f}const a={register:h=>{e.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:(h,f)=>{const m=e.draggables[f.descriptor.id];m&&m.uniqueId===h.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:h=>{const f=h.descriptor.id,m=s(f);m&&h.uniqueId===m.uniqueId&&(delete e.draggables[f],e.droppables[h.descriptor.droppableId]&&r({type:"REMOVAL",value:h}))},getById:i,findById:s,exists:h=>!!s(h),getAllByType:h=>Object.values(e.draggables).filter(f=>f.descriptor.type===h)};function l(h){return e.droppables[h]||null}function c(h){const f=l(h);return f||te(),f}const u={register:h=>{e.droppables[h.descriptor.id]=h},unregister:h=>{const f=l(h.descriptor.id);f&&h.uniqueId===f.uniqueId&&delete e.droppables[h.descriptor.id]},getById:c,findById:l,exists:h=>!!l(h),getAllByType:h=>Object.values(e.droppables).filter(f=>f.descriptor.type===h)};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:u,subscribe:n,clean:d}}function vG(){const e=Pe(yG,[]);return x.useEffect(()=>function(){e.clean()},[e]),e}var ky=re.createContext(null),Sd=()=>{const e=document.body;return e||te(),e};const bG={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},wG=e=>`rfd-announcement-${e}`;function jG(e){const t=Pe(()=>wG(e),[e]),n=x.useRef(null);return x.useEffect(function(){const i=document.createElement("div");return n.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),vd(i.style,bG),Sd().appendChild(i),function(){setTimeout(function(){const c=Sd();c.contains(i)&&c.removeChild(i),i===n.current&&(n.current=null)})}},[t]),xe(s=>{const i=n.current;if(i){i.textContent=s;return}},[])}const SG={separator:"::"};function Dy(e,t=SG){const n=re.useId();return Pe(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function NG({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function CG({contextId:e,text:t}){const n=Dy("hidden-text",{separator:"-"}),r=Pe(()=>NG({contextId:e,uniqueId:n}),[n,e]);return x.useEffect(function(){const i=document.createElement("div");return i.id=r,i.textContent=t,i.style.display="none",Sd().appendChild(i),function(){const l=Sd();l.contains(i)&&l.removeChild(i)}},[r,t]),r}var yh=re.createContext(null);function PE(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),t}function kG(){let e=null;function t(){return!!e}function n(a){return a===e}function r(a){e&&te();const l={abandon:a};return e=l,l}function s(){e||te(),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:i}}function El(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const DG=9,EG=13,Ey=27,_E=32,TG=33,PG=34,_G=35,AG=36,IG=37,MG=38,OG=39,RG=40,LG={[EG]:!0,[DG]:!0};var AE=e=>{LG[e.keyCode]&&e.preventDefault()};const vh=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),IE=0,V1=5;function FG(e,t){return Math.abs(t.x-e.x)>=V1||Math.abs(t.y-e.y)>=V1}const U1={type:"IDLE"};function $G({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:i,clientX:a,clientY:l}=s;if(i!==IE)return;const c={x:a,y:l},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&te();const d=u.point;if(!FG(d,c))return;s.preventDefault();const h=u.actions.fluidLift(c);r({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:s=>{const i=n();if(i.type!=="DRAGGING"){e();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===Ey){s.preventDefault(),e();return}AE(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const i=n();if(i.type==="IDLE"&&te(),i.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:vh,fn:e}]}function zG(e){const t=x.useRef(U1),n=x.useRef(ws),r=Pe(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==IE||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const f=e.findClosestDraggableId(h);if(!f)return;const m=e.tryGetLock(f,a,{sourceEvent:h});if(!m)return;h.preventDefault();const p={x:h.clientX,y:h.clientY};n.current(),u(m,p)}}),[e]),s=Pe(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const h=e.findClosestDraggableId(d);if(!h)return;const f=e.findOptionsForDraggable(h);f&&(f.shouldRespectForcePress||e.canGetLock(h)&&d.preventDefault())}}),[e]),i=xe(function(){const h={passive:!1,capture:!0};n.current=En(window,[s,r],h)},[s,r]),a=xe(()=>{t.current.type!=="IDLE"&&(t.current=U1,n.current(),i())},[i]),l=xe(()=>{const d=t.current;a(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[a]),c=xe(function(){const h={capture:!0,passive:!1},f=$G({cancel:l,completed:a,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=En(window,f,h)},[l,a]),u=xe(function(h,f){t.current.type!=="IDLE"&&te(),t.current={type:"PENDING",point:f,actions:h},c()},[c]);dn(function(){return i(),function(){n.current()}},[i])}function BG(){}const VG={[PG]:!0,[TG]:!0,[AG]:!0,[_G]:!0};function UG(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===Ey){s.preventDefault(),n();return}if(s.keyCode===_E){s.preventDefault(),r();return}if(s.keyCode===RG){s.preventDefault(),e.moveDown();return}if(s.keyCode===MG){s.preventDefault(),e.moveUp();return}if(s.keyCode===OG){s.preventDefault(),e.moveRight();return}if(s.keyCode===IG){s.preventDefault(),e.moveLeft();return}if(VG[s.keyCode]){s.preventDefault();return}AE(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:vh,fn:n}]}function WG(e){const t=x.useRef(BG),n=Pe(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==_E)return;const a=e.findClosestDraggableId(i);if(!a)return;const l=e.tryGetLock(a,d,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const u=l.snapLift();t.current();function d(){c||te(),c=!1,t.current(),r()}t.current=En(window,UG(u,d),{capture:!0,passive:!1})}}),[e]),r=xe(function(){const i={passive:!1,capture:!0};t.current=En(window,[n],i)},[n]);dn(function(){return r(),function(){t.current()}},[r])}const im={type:"IDLE"},HG=120,qG=.15;function GG({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Ey&&n.preventDefault(),e()}},{eventName:vh,fn:e}]}function YG({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:i,clientY:a}=r.touches[0],l={x:i,y:a};r.preventDefault(),s.actions.move(l)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&te();const i=r.touches[0];if(!i||!(i.force>=qG))return;const l=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){l&&e();return}if(l){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:vh,fn:e}]}function QG(e){const t=x.useRef(im),n=x.useRef(ws),r=xe(function(){return t.current},[]),s=xe(function(m){t.current=m},[]),i=Pe(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const p=e.findClosestDraggableId(m);if(!p)return;const g=e.tryGetLock(p,l,{sourceEvent:m});if(!g)return;const y=m.touches[0],{clientX:b,clientY:v}=y,w={x:b,y:v};n.current(),h(g,w)}}),[e]),a=xe(function(){const m={capture:!0,passive:!1};n.current=En(window,[i],m)},[i]),l=xe(()=>{const f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),s(im),n.current(),a())},[a,s]),c=xe(()=>{const f=t.current;l(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[l]),u=xe(function(){const m={capture:!0,passive:!1},p={cancel:c,completed:l,getPhase:r},g=En(window,YG(p),m),y=En(window,GG(p),m);n.current=function(){g(),y()}},[c,r,l]),d=xe(function(){const m=r();m.type!=="PENDING"&&te();const p=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:p,hasMoved:!1})},[r,s]),h=xe(function(m,p){r().type!=="IDLE"&&te();const g=setTimeout(d,HG);s({type:"PENDING",point:p,actions:m,longPressTimerId:g}),u()},[u,r,s,d]);dn(function(){return a(),function(){n.current();const p=r();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),s(im))}},[r,a,s]),dn(function(){return En(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const KG=["input","button","textarea","select","option","optgroup","video","audio"];function ME(e,t){if(t==null)return!1;if(KG.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:ME(e,t.parentElement)}function XG(e,t){const n=t.target;return xh(n)?ME(e,n):!1}var JG=e=>Un(e.getBoundingClientRect()).center;function ZG(e){return e instanceof TE(e).Element}const eY=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function OE(e,t){return e==null?null:e[eY](t)?e:OE(e.parentElement,t)}function tY(e,t){return e.closest?e.closest(t):OE(e,t)}function nY(e){return`[${Sa.contextId}="${e}"]`}function rY(e,t){const n=t.target;if(!ZG(n))return null;const r=nY(e),s=tY(n,r);return!s||!xh(s)?null:s}function sY(e,t){const n=rY(e,t);return n?n.getAttribute(Sa.draggableId):null}function iY(e,t){const n=`[${tg.contextId}="${e}"]`,s=EE(document,n).find(i=>i.getAttribute(tg.id)===t);return!s||!xh(s)?null:s}function aY(e){e.preventDefault()}function Bc({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function RE({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!NE(t.getState(),r))}function oY({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:i,sourceEvent:a}){if(!RE({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),u=iY(t,c.descriptor.id);if(!u||a&&!c.options.canDragInteractiveElements&&XG(u,a))return null;const d=e.claim(i||ws);let h="PRE_DRAG";function f(){return c.options.shouldRespectForcePress}function m(){return e.isActive(d)}function p(j,k){Bc({expected:j,phase:h,isLockActive:m,shouldWarn:!0})&&n.dispatch(k())}const g=p.bind(null,"DRAGGING");function y(j){function k(){e.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(k(),te()),n.dispatch(t9(j.liftActionArgs)),h="DRAGGING";function C(N,D={shouldBlockNextClick:!1}){if(j.cleanup(),D.shouldBlockNextClick){const T=En(window,[{eventName:"click",fn:aY,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(T)}k(),n.dispatch(gE({reason:N}))}return{isActive:()=>Bc({expected:"DRAGGING",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:f,drop:N=>C("DROP",N),cancel:N=>C("CANCEL",N),...j.actions}}function b(j){const k=jl(N=>{g(()=>pE({client:N}))});return{...y({liftActionArgs:{id:s,clientSelection:j,movementMode:"FLUID"},cleanup:()=>k.cancel(),actions:{move:k}}),move:k}}function v(){const j={moveUp:()=>g(u9),moveRight:()=>g(h9),moveDown:()=>g(d9),moveLeft:()=>g(f9)};return y({liftActionArgs:{id:s,clientSelection:JG(u),movementMode:"SNAP"},cleanup:ws,actions:j})}function w(){Bc({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>Bc({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:b,snapLift:v,abort:w}}const lY=[zG,WG,QG];function cY({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const i=[...s?lY:[],...r||[]],a=x.useState(()=>kG())[0],l=xe(function(y,b){El(y)&&!El(b)&&a.tryAbandon()},[a]);dn(function(){let y=t.getState();return t.subscribe(()=>{const v=t.getState();l(y,v),y=v})},[a,t,l]),dn(()=>a.tryAbandon,[a.tryAbandon]);const c=xe(g=>RE({lockAPI:a,registry:n,store:t,draggableId:g}),[a,n,t]),u=xe((g,y,b)=>oY({lockAPI:a,registry:n,contextId:e,store:t,draggableId:g,forceSensorStop:y||null,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null}),[e,a,n,t]),d=xe(g=>sY(e,g),[e]),h=xe(g=>{const y=n.draggable.findById(g);return y?y.options:null},[n.draggable]),f=xe(function(){a.isClaimed()&&(a.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(vy()))},[a,t]),m=xe(()=>a.isClaimed(),[a]),p=Pe(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:h,tryReleaseLock:f,isLockClaimed:m}),[c,u,d,h,f,m]);for(let g=0;g<i.length;g++)i[g](p)}const uY=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Ml.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),dY=e=>({...Dl,...e.autoScrollerOptions,durationDampening:{...Dl.durationDampening,...e.autoScrollerOptions}});function fo(e){return e.current||te(),e.current}function hY(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:i}=e,a=x.useRef(null),l=PE(e),c=xe(()=>uY(l.current),[l]),u=xe(()=>dY(l.current),[l]),d=jG(t),h=CG({contextId:t,text:i}),f=pG(t,s),m=xe(T=>{fo(a).dispatch(T)},[]),p=Pe(()=>x1({publishWhileDragging:r9,updateDroppableScroll:i9,updateDroppableIsEnabled:a9,updateDroppableIsCombineEnabled:o9,collectionStarting:s9},m),[m]),g=vG(),y=Pe(()=>G9(g,p),[g,p]),b=Pe(()=>uG({scrollWindow:Y9,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:u,...x1({move:pE},m)}),[y.scrollDroppable,m,u]),v=xG(t),w=Pe(()=>U9({announce:d,autoScroller:b,dimensionMarshal:y,focusMarshal:v,getResponders:c,styleMarshal:f}),[d,b,y,v,c,f]);a.current=w;const S=xe(()=>{const T=fo(a);T.getState().phase!=="IDLE"&&T.dispatch(vy())},[]),j=xe(()=>{const T=fo(a).getState();return T.phase==="DROP_ANIMATING"?!0:T.phase==="IDLE"?!1:T.isDragging},[]),k=Pe(()=>({isDragging:j,tryAbort:S}),[j,S]);n(k);const C=xe(T=>NE(fo(a).getState(),T),[]),N=xe(()=>Qs(fo(a).getState()),[]),D=Pe(()=>({marshal:y,focus:v,contextId:t,canLift:C,isMovementAllowed:N,dragHandleUsageInstructionsId:h,registry:g}),[t,y,h,v,C,N,g]);return cY({contextId:t,store:w,registry:g,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),x.useEffect(()=>S,[S]),re.createElement(yh.Provider,{value:D},re.createElement(L7,{context:ky,store:w},e.children))}function fY(){return re.useId()}function mY(e){const t=fY(),n=e.dragHandleUsageInstructions||fu.dragHandleUsageInstructions;return re.createElement(W7,null,r=>re.createElement(hY,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const W1={dragging:5e3,dropAnimating:4500},pY=(e,t)=>t?Uo.drop(t.duration):e?Uo.snap:Uo.fluid,gY=(e,t)=>{if(e)return t?kl.opacity.drop:kl.opacity.combining},xY=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function yY(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:i}=e,a=!!s,l=xY(e),c=!!i,u=c?Zp.drop(r,a):Zp.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:pY(l,i),transform:u,opacity:gY(a,c),zIndex:c?W1.dropAnimating:W1.dragging,pointerEvents:"none"}}function vY(e){return{transform:Zp.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function bY(e){return e.type==="DRAGGING"?yY(e):vY(e)}function wY(e,t,n=wt){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=UD(s,r),a=yd(i,n),l={client:i,tagName:t.tagName.toLowerCase(),display:r.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:i,page:a}}function jY(e){const t=Dy("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}=e,c=Pe(()=>({canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}),[i,l,a]),u=xe(m=>{const p=s();return p||te(),wY(n,p,m)},[n,s]),d=Pe(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),h=x.useRef(d),f=x.useRef(!0);dn(()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current)),[r.draggable]),dn(()=>{if(f.current){f.current=!1;return}const m=h.current;h.current=d,r.draggable.update(d,m)},[d,r.draggable])}var Ty=re.createContext(null);function Nd(e){const t=x.useContext(e);return t||te(),t}function SY(e){e.preventDefault()}const NY=e=>{const t=x.useRef(null),n=xe((k=null)=>{t.current=k},[]),r=xe(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:a}=Nd(yh),{type:l,droppableId:c}=Nd(Ty),u=Pe(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:d,draggableId:h,isEnabled:f,shouldRespectForcePress:m,canDragInteractiveElements:p,isClone:g,mapped:y,dropAnimationFinished:b}=e;if(!g){const k=Pe(()=>({descriptor:u,registry:a,getDraggableRef:r,canDragInteractiveElements:p,shouldRespectForcePress:m,isEnabled:f}),[u,a,r,p,m,f]);jY(k)}const v=Pe(()=>f?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:SY}:null,[s,i,h,f]),w=xe(k=>{y.type==="DRAGGING"&&y.dropping&&k.propertyName==="transform"&&Ml.flushSync(b)},[b,y]),S=Pe(()=>{const k=bY(y),C=y.type==="DRAGGING"&&y.dropping?w:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":h,style:k,onTransitionEnd:C},dragHandleProps:v}},[s,v,h,y,w,n]),j=Pe(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return re.createElement(re.Fragment,null,d(S,y.snapshot,j))};var LE=(e,t)=>e===t,FE=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const CY=e=>e.combine?e.combine.draggableId:null,kY=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function DY(){const e=bt((s,i)=>({x:s,y:i})),t=bt((s,i,a=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:a,combineWith:l,combineTargetFor:null})),n=bt((s,i,a,l,c=null,u=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:s,dimension:a,forceShouldAnimate:d,snapshot:t(i,l,c,u,null)}}));return(s,i)=>{if(El(s)){if(s.critical.draggable.id!==i.draggableId)return null;const a=s.current.client.offset,l=s.dimensions.draggables[i.draggableId],c=un(s.impact),u=kY(s.impact),d=s.forceShouldAnimate;return n(e(a.x,a.y),s.movementMode,l,i.isClone,c,u,d)}if(s.phase==="DROP_ANIMATING"){const a=s.completed;if(a.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=s.dimensions.draggables[i.draggableId],u=a.result,d=u.mode,h=FE(u),f=CY(u),p={duration:s.dropDuration,curve:wy.drop,moveTo:s.newHomeClientOffset,opacity:f?kl.opacity.drop:null,scale:f?kl.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:p,draggingOver:h,combineWith:f,mode:d,forceShouldAnimate:null,snapshot:t(d,l,h,f,p)}}}return null}}function $E(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const EY={mapped:{type:"SECONDARY",offset:wt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:$E(null)}};function TY(){const e=bt((a,l)=>({x:a,y:l})),t=bt($E),n=bt((a,l=null,c)=>({mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),r=a=>a?n(wt,a,!0):null,s=(a,l,c,u)=>{const d=c.displaced.visible[a],h=!!(u.inVirtualList&&u.effected[a]),f=mh(c),m=f&&f.draggableId===a?l:null;if(!d){if(!h)return r(m);if(c.displaced.invisible[a])return null;const y=Fa(u.displacedBy.point),b=e(y.x,y.y);return n(b,m,!0)}if(h)return r(m);const p=c.displacedBy.point,g=e(p.x,p.y);return n(g,m,d.shouldAnimate)};return(a,l)=>{if(El(a))return a.critical.draggable.id===l.draggableId?null:s(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){const c=a.completed;return c.result.draggableId===l.draggableId?null:s(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const PY=()=>{const e=DY(),t=TY();return(r,s)=>e(r,s)||t(r,s)||EY},_Y={dropAnimationFinished:xE},AY=VD(PY,_Y,null,{context:ky,areStatePropsEqual:LE})(NY);function zE(e){return Nd(Ty).isUsingCloneFor===e.draggableId&&!e.isClone?null:re.createElement(AY,e)}function IY(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return re.createElement(zE,vd({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const BE=e=>t=>e===t,MY=BE("scroll"),OY=BE("auto"),H1=(e,t)=>t(e.overflowX)||t(e.overflowY),RY=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return H1(n,MY)||H1(n,OY)},LY=()=>!1,VE=e=>e==null?null:e===document.body?LY()?e:null:e===document.documentElement?null:RY(e)?e:VE(e.parentElement);var ng=e=>({x:e.scrollLeft,y:e.scrollTop});const UE=e=>e?window.getComputedStyle(e).position==="fixed"?!0:UE(e.parentElement):!1;var FY=e=>{const t=VE(e),n=UE(e);return{closestScrollable:t,isFixedOnPage:n}},$Y=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:i,page:a,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:f,client:m}=l,p=wE({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:f,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:p,diff:{value:wt,displacement:wt}}}})(),u=s==="vertical"?my:eE,d=wa({page:a,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:i,page:a,frame:c,subject:d}};const zY=(e,t)=>{const n=WD(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=s+t.scrollWidth,c=uy({top:r,right:a,bottom:i,left:s},n.border);return dy({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var BY=({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:i,isCombineEnabled:a,shouldClipSubject:l})=>{const c=n.closestScrollable,u=zY(e,c),d=yd(u,r),h=(()=>{if(!c)return null;const m=WD(c),p={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:yd(m,r),scroll:ng(c),scrollSize:p,shouldClipSubject:l}})();return $Y({descriptor:t,isEnabled:!i,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:d,closest:h})};const VY={passive:!1},UY={passive:!0};var q1=e=>e.shouldPublishImmediately?VY:UY;const Vc=e=>e&&e.env.closestScrollable||null;function WY(e){const t=x.useRef(null),n=Nd(yh),r=Dy("droppable"),{registry:s,marshal:i}=n,a=PE(e),l=Pe(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=x.useRef(l),u=Pe(()=>bt((S,j)=>{t.current||te();const k={x:S,y:j};i.updateDroppableScroll(l.id,k)}),[l.id,i]),d=xe(()=>{const S=t.current;return!S||!S.env.closestScrollable?wt:ng(S.env.closestScrollable)},[]),h=xe(()=>{const S=d();u(S.x,S.y)},[d,u]),f=Pe(()=>jl(h),[h]),m=xe(()=>{const S=t.current,j=Vc(S);if(S&&j||te(),S.scrollOptions.shouldPublishImmediately){h();return}f()},[f,h]),p=xe((S,j)=>{t.current&&te();const k=a.current,C=k.getDroppableRef();C||te();const N=FY(C),D={ref:C,descriptor:l,env:N,scrollOptions:j};t.current=D;const T=BY({ref:C,descriptor:l,env:N,windowScroll:S,direction:k.direction,isDropDisabled:k.isDropDisabled,isCombineEnabled:k.isCombineEnabled,shouldClipSubject:!k.ignoreContainerClipping}),L=N.closestScrollable;return L&&(L.setAttribute(z1.contextId,n.contextId),L.addEventListener("scroll",m,q1(D.scrollOptions))),T},[n.contextId,l,m,a]),g=xe(()=>{const S=t.current,j=Vc(S);return S&&j||te(),ng(j)},[]),y=xe(()=>{const S=t.current;S||te();const j=Vc(S);t.current=null,j&&(f.cancel(),j.removeAttribute(z1.contextId),j.removeEventListener("scroll",m,q1(S.scrollOptions)))},[m,f]),b=xe(S=>{const j=t.current;j||te();const k=Vc(j);k||te(),k.scrollTop+=S.y,k.scrollLeft+=S.x},[]),v=Pe(()=>({getDimensionAndWatchScroll:p,getScrollWhileDragging:g,dragStopped:y,scroll:b}),[y,p,g,b]),w=Pe(()=>({uniqueId:r,descriptor:l,callbacks:v}),[v,l,r]);dn(()=>(c.current=w.descriptor,s.droppable.register(w),()=>{t.current&&y(),s.droppable.unregister(w)}),[v,l,y,w,i,s.droppable]),dn(()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),dn(()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function am(){}const G1={width:0,height:0,margin:X7},HY=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?G1:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},qY=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=HY({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Uo.placeholder:null}},GY=e=>{const t=x.useRef(null),n=xe(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:i,contextId:a}=e,[l,c]=x.useState(e.animate==="open");x.useEffect(()=>l?r!=="open"?(n(),c(!1),am):t.current?am:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):am,[r,l,n]);const u=xe(h=>{h.propertyName==="height"&&(s(),r==="close"&&i())},[r,i,s]),d=qY({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return re.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":a,onTransitionEnd:u,ref:e.innerRef})};var YY=re.memo(GY);class QY extends re.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const KY=e=>{const t=x.useContext(yh);t||te();const{contextId:n,isMovementAllowed:r}=t,s=x.useRef(null),i=x.useRef(null),{children:a,droppableId:l,type:c,mode:u,direction:d,ignoreContainerClipping:h,isDropDisabled:f,isCombineEnabled:m,snapshot:p,useClone:g,updateViewportMaxScroll:y,getContainerForClone:b}=e,v=xe(()=>s.current,[]),w=xe((L=null)=>{s.current=L},[]);xe(()=>i.current,[]);const S=xe((L=null)=>{i.current=L},[]),j=xe(()=>{r()&&y({maxScroll:SE()})},[r,y]);WY({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:m,ignoreContainerClipping:h,getDroppableRef:v});const k=Pe(()=>re.createElement(QY,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:L,data:V,animate:F})=>re.createElement(YY,{placeholder:V,onClose:L,innerRef:S,animate:F,contextId:n,onTransitionEnd:j})),[n,j,e.placeholder,e.shouldAnimatePlaceholder,S]),C=Pe(()=>({innerRef:w,placeholder:k,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,k,w]),N=g?g.dragging.draggableId:null,D=Pe(()=>({droppableId:l,type:c,isUsingCloneFor:N}),[l,N,c]);function T(){if(!g)return null;const{dragging:L,render:V}=g,F=re.createElement(zE,{draggableId:L.draggableId,index:L.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(_,z)=>V(_,z,L));return z_.createPortal(F,b())}return re.createElement(Ty.Provider,{value:D},a(C,p),T())};function XY(){return document.body||te(),document.body}const Y1={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:XY},WE=e=>{let t={...e},n;for(n in Y1)e[n]===void 0&&(t={...t,[n]:Y1[n]});return t},om=(e,t)=>e===t.droppable.type,Q1=(e,t)=>t.draggables[e.draggable.id],JY=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=bt(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=bt((i,a,l,c,u,d)=>{const h=u.descriptor.id;if(u.descriptor.droppableId===i){const p=d?{render:d,dragging:n(u.descriptor)}:null,g={isDraggingOver:l,draggingOverWith:l?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:p}}if(!a)return t;if(!c)return e;const m={isDraggingOver:l,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(i,a)=>{const l=WE(a),c=l.droppableId,u=l.type,d=!l.isDropDisabled,h=l.renderClone;if(El(i)){const f=i.critical;if(!om(u,f))return t;const m=Q1(f,i.dimensions),p=un(i.impact)===c;return r(c,d,p,p,m,h)}if(i.phase==="DROP_ANIMATING"){const f=i.completed;if(!om(u,f.critical))return t;const m=Q1(f.critical,i.dimensions);return r(c,d,FE(f.result)===c,un(f.impact)===c,m,h)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const f=i.completed;if(!om(u,f.critical))return t;const m=un(f.impact)===c,p=!!(f.impact.at&&f.impact.at.type==="COMBINE"),g=f.critical.droppable.id===c;return m?p?e:t:g?e:t}return t}},ZY={updateViewportMaxScroll:c9},eQ=VD(JY,ZY,(e,t,n)=>({...WE(n),...e,...t}),{context:ky,areStatePropsEqual:LE})(KY),lm=[{id:"qualification",label:"Qualification",color:"bg-blue-50"},{id:"proposal",label:"Proposal",color:"bg-yellow-50"},{id:"negotiation",label:"Negotiation",color:"bg-purple-50"},{id:"won",label:"Won",color:"bg-green-50"},{id:"lost",label:"Lost",color:"bg-red-50"}];function tQ(){const{user:e}=Ge(),[t,n]=x.useState([]),[r,s]=x.useState(!0),[i,a]=x.useState(!1),[l,c]=x.useState(""),[u,d]=x.useState(null),[h,f]=x.useState({show:!1,title:""}),m=On();x.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0),d(null);const N=await th(),T=(L=>Array.isArray(L)?L:L&&typeof L=="object"&&L.data&&Array.isArray(L.data)||L&&typeof L=="object"&&L.success&&Array.isArray(L.data)?L.data:[])(N);console.log(" Debug deals response:",{originalResponse:N,extractedData:T,isArray:Array.isArray(T),length:Array.isArray(T)?T.length:"not array"}),!T||T.length===0?console.log("No deals returned from API or empty array"):console.log(`Successfully fetched ${T.length} deals`),n(T),h.show&&h.variant==="error"&&f({show:!1,title:""})}catch(N){console.error("Error fetching deals:",N),d(N instanceof Error?N:new Error("Unknown error fetching deals"));let D="Please check your network connection and ensure the server is running.";N instanceof Error&&(D+=` Error details: ${N.message}`),y("Error fetching deals","error",D),n([])}finally{s(!1)}},g=()=>{f({show:!1,title:""}),localStorage.removeItem("jwt-token"),setTimeout(()=>{window.location.reload()},500)},y=(N,D="success",T)=>{f({show:!0,title:N,variant:D,description:T}),setTimeout(()=>f({show:!1,title:""}),5e3)},b=async N=>{var E,P;if(a(!1),console.log("Drag end event:",N),!N.destination){console.log("No destination provided in drag result");return}if(N.source.droppableId===N.destination.droppableId&&N.source.index===N.destination.index){console.log("Card dropped in the same location, no update needed");return}const{draggableId:D,destination:T,source:L}=N,V=T.droppableId,F=L.droppableId;console.log(`Moving deal ${D} from ${F} to ${V}`);const _=`Moving deal to ${((E=lm.find(R=>R.id===V))==null?void 0:E.label)||V}...`;y(_,"warning");const z=[...t];if(!t.find(R=>R.id===D)){console.error(`Deal with ID ${D} not found`),y("Error updating deal","error","Could not find the deal in the current view");return}const I=t.map(R=>R.id===D?{...R,stage:V}:R);n(I);try{console.log(`Calling API to update deal ${D} to stage ${V}`);const R=await K2(D,V);if(R&&typeof R=="object"&&R.id){console.log("Deal updated successfully:",R);const B={...R,customer:R.customer||{name:"Unknown Customer",email:"",phone:"",company:"",address:""}};n(ne=>ne.map(ae=>ae.id===D?B:ae));const q=((P=lm.find(ne=>ne.id===V))==null?void 0:P.label)||V,J=B.title||"Deal";y(`Deal moved to ${q}`,"success",`"${J}" has been successfully moved to the ${q} stage.`),V==="won"&&w(B)}else console.error("Server returned null for updated deal"),n(z),y("Failed to update deal stage","error","Deal not found on the server or could not be updated")}catch(R){console.error("Error updating deal stage:",R),console.error("Error details:",{dealId:D,newStage:V,errorMessage:R instanceof Error?R.message:"Unknown error",errorStack:R instanceof Error?R.stack:void 0}),n(z);const B=R instanceof Error?`Error: ${R.message}`:"An unknown error occurred while updating the deal";y("Error updating deal stage","error",B)}},v=()=>{a(!0),h.show&&f({show:!1,title:""})},w=N=>{var T;const D=((T=N.customer)==null?void 0:T.name)||"Customer";y("Schedule a job for this deal","success",`You've won the deal with ${D}! You'll be redirected to schedule a job.`),setTimeout(()=>{m(`/jobs?dealId=${N.id}&action=schedule&customerName=${encodeURIComponent(D)}`)},1500)},S=Array.isArray(t)?t.filter(N=>{var L;const D=N.title||"",T=((L=N.customer)==null?void 0:L.name)||"";return D.toLowerCase().includes(l.toLowerCase())||T.toLowerCase().includes(l.toLowerCase())}):[],j=N=>S.filter(D=>D.stage===N),k=N=>j(N).reduce((D,T)=>D+T.value,0);if(!e||e.role!=="sales_agent"&&e.role!=="admin")return o.jsx("div",{className:"p-4 text-center text-gray-500",children:"You don't have permission to access this page."});const C=({deal:N,provided:D,snapshot:T})=>{var L,V;return o.jsxs("div",{ref:D.innerRef,...D.draggableProps,...D.dragHandleProps,style:{...D.draggableProps.style,opacity:T.isDragging?.8:1},className:`p-3 bg-white rounded-md shadow border 
        ${T.isDragging?"border-blue-400 ring-2 ring-blue-200":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-medium text-gray-900 text-sm line-clamp-2",children:N.title||`Deal for ${((L=N.customer)==null?void 0:L.name)||"Customer"}`}),o.jsx("div",{className:"flex space-x-1",children:o.jsx(U,{variant:"ghost",size:"sm",className:"h-6 w-6",children:o.jsx(vI,{className:"h-3 w-3"})})})]}),o.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[o.jsx(lx,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"line-clamp-1",children:((V=N.customer)==null?void 0:V.name)||"Unknown Customer"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"font-bold text-base text-primary-800",children:Ue(N.value)}),o.jsxs("div",{className:"text-xs bg-gray-100 px-2 py-1 rounded text-gray-600",children:[N.probability||50,"%"]})]})]})};return o.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-full",children:[h.show&&o.jsx(ft,{title:h.title,description:h.description,variant:h.variant,isVisible:h.show,duration:5e3,onClose:()=>f({show:!1,title:""})}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:"Deals Pipeline"}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[o.jsxs(U,{variant:"outline",size:"sm",onClick:p,disabled:r,className:"flex items-center gap-1",children:[o.jsx(st,{className:`w-4 h-4 ${r?"animate-spin":""}`}),r?"Loading...":"Refresh"]}),o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(fr,{className:"w-4 h-4 text-gray-500"})}),o.jsx(De,{type:"text",placeholder:"Search deals...",value:l,onChange:N=>c(N.target.value),className:"pl-10 w-full"})]})]})]}),u&&!r&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:o.jsxs("div",{className:"flex",children:[o.jsx(ji,{className:"h-5 w-5 text-red-500 mr-3"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"There was an error loading the deals"}),o.jsx("div",{className:"mt-2 text-sm text-red-700",children:o.jsx("p",{children:u.message})}),o.jsxs("div",{className:"mt-4",children:[o.jsx(U,{onClick:p,variant:"outline",size:"sm",className:"mr-2",children:"Retry"}),o.jsx(U,{onClick:g,variant:"destructive",size:"sm",children:"Reset & Reload Page"})]})]})]})}),r?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(st,{className:"h-8 w-8 animate-spin text-primary-600 mb-2"}),o.jsx("p",{className:"text-gray-500",children:"Loading deals..."})]})}):o.jsx(mY,{onDragEnd:b,onDragStart:v,children:o.jsx("div",{className:"overflow-x-auto pb-6",children:o.jsx("div",{className:"flex space-x-4 min-w-[800px] lg:min-w-full",children:lm.map(N=>o.jsxs("div",{className:`rounded-lg ${N.color} p-3 sm:p-4 flex-1 min-w-[240px]`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[o.jsx("h3",{className:"font-medium text-sm sm:text-base text-gray-900",children:N.label}),o.jsx(fl,{variant:"outline",className:"text-xs",children:Ue(k(N.id))})]}),o.jsx(eQ,{droppableId:N.id,children:D=>o.jsxs("div",{ref:D.innerRef,...D.droppableProps,className:"space-y-2 sm:space-y-3 min-h-[300px] sm:min-h-[500px]",children:[j(N.id).map((T,L)=>o.jsx(IY,{draggableId:T.id,index:L,isDragDisabled:i&&T.stage!==N.id,children:(V,F)=>o.jsx(C,{deal:T,provided:V,snapshot:F})},T.id)),D.placeholder,j(N.id).length===0&&!i&&o.jsx("div",{className:"py-4 px-2 text-center text-gray-400 text-xs",children:"No deals in this stage"})]})})]},N.id))})})})]})}const nQ=[{value:"qualification",label:"Qualification"},{value:"proposal",label:"Proposal"},{value:"negotiation",label:"Negotiation"},{value:"won",label:"Won"},{value:"lost",label:"Lost"}];function rQ(){const{id:e}=PN(),t=On(),{user:n}=Ge(),[r,s]=x.useState(null),[i,a]=x.useState(!0),[l,c]=x.useState([]),[u,d]=x.useState([]),[h,f]=x.useState(!1),[m,p]=x.useState({show:!1,title:""});x.useEffect(()=>{e&&g()},[e]),x.useEffect(()=>{r!=null&&r.leadId&&y(r.leadId)},[r]);const g=async()=>{try{a(!0);const w=await ya(e);if(!w){v("Deal not found","error"),t("/deals");return}s(w)}catch(w){console.error("Error fetching deal:",w),v("Error fetching deal details","error")}finally{a(!1)}},y=async w=>{try{f(!0);const S=await od(w);c(S);const j=[];S.forEach(k=>{if(k.selectedMachines&&k.selectedMachines.length>0)k.selectedMachines.forEach(C=>{j.some(N=>N.id===C.id)||j.push(C)});else if(k.selectedEquipment&&k.selectedEquipment.id){const C={id:k.selectedEquipment.id,machineType:k.machineType,equipmentId:k.selectedEquipment.equipmentId,name:k.selectedEquipment.name,baseRates:k.selectedEquipment.baseRates,baseRate:k.selectedEquipment.baseRates[k.orderType],runningCostPerKm:k.runningCostPerKm,quantity:1};j.some(N=>N.id===C.id)||j.push(C)}}),d(j)}catch(S){console.error("Error fetching deal equipment:",S)}finally{f(!1)}},b=async w=>{if(r)try{const S=await K2(r.id,w);S&&(s(S),v(`Deal stage updated to ${w}`,"success"))}catch(S){console.error("Error updating deal stage:",S),v("Error updating deal stage","error")}},v=(w,S="success")=>{p({show:!0,title:w,variant:S}),setTimeout(()=>p({show:!1,title:""}),3e3)};return!n||n.role!=="sales_agent"&&n.role!=="admin"?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"You don't have permission to access this page."}):i?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(st,{className:"h-8 w-8 animate-spin text-primary-600"})}):r?o.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl space-y-4 sm:space-y-6",children:[o.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsxs(U,{variant:"ghost",onClick:()=>t("/deals"),size:"sm",className:"p-1 sm:p-2",children:[o.jsx(RN,{size:16,className:"sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Back to Deals"})]}),o.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:"Deal Details"})]})}),o.jsx("div",{className:"sm:hidden",children:o.jsx(le,{children:o.jsx(pe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"Value"}),o.jsx("div",{className:"text-lg font-bold text-primary-700",children:Ue(r.value)})]}),o.jsx(U,{className:"text-xs",size:"sm",onClick:()=>t(`/quotations/create?dealId=${r.id}`),variant:"accent",children:"Create Quotation"})]})})})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[o.jsxs(le,{children:[o.jsx(ye,{className:"p-4 sm:p-6",children:o.jsx(ve,{children:"Deal Information"})}),o.jsxs(pe,{className:"px-4 pb-4 sm:px-6 sm:pb-6 space-y-4 sm:space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900",children:r.title}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r.description})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Deal Value"}),o.jsx("div",{className:"mt-1 text-base sm:text-lg font-semibold text-gray-900",children:Ue(r.value)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Stage"}),o.jsx("div",{className:"mt-1",children:o.jsx(Te,{value:r.stage,onChange:w=>b(w),options:nQ,className:"w-full sm:w-[200px] text-sm"})})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Created On"}),o.jsx("div",{className:"mt-1 text-sm sm:text-base text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Expected Close Date"}),o.jsx("div",{className:"mt-1 text-sm sm:text-base text-gray-900",children:new Date(r.expectedCloseDate).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Probability"}),o.jsxs("div",{className:"mt-1 text-sm sm:text-base text-gray-900",children:[r.probability,"%"]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Assigned To"}),o.jsx("div",{className:"mt-1 text-sm sm:text-base text-gray-900",children:r.assignedTo})]})]})]})]}),o.jsxs(le,{children:[o.jsx(ye,{className:"p-4 sm:p-6",children:o.jsx(ve,{children:"Notes"})}),o.jsx(pe,{className:"px-4 pb-4 sm:px-6 sm:pb-6",children:o.jsx("p",{className:"text-sm text-gray-600",children:r.notes||"No notes available."})})]})]}),o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs(le,{children:[o.jsx(ye,{className:"p-4 sm:p-6",children:o.jsx(ve,{children:"Customer Information"})}),o.jsxs(pe,{className:"px-4 pb-4 sm:px-6 sm:pb-6 space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm sm:text-base",children:r.customer.name}),o.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:r.customer.designation})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lx,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),o.jsx("div",{className:"text-sm text-gray-600 break-words",children:r.customer.company})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(gI,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsx("div",{className:"text-sm text-gray-600 break-all",children:r.customer.email})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(SI,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),o.jsx("div",{className:"text-sm text-gray-600",children:r.customer.phone})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Wd,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsx("div",{className:"text-sm text-gray-600",children:r.customer.address})]})]})]}),"          ",o.jsxs(le,{className:"mb-4",children:[o.jsx(ye,{className:"p-4 sm:p-6",children:o.jsxs(ve,{className:"flex items-center",children:[o.jsx(wI,{className:"h-5 w-5 mr-2 text-primary-600"}),"Equipment Information"]})}),o.jsx(pe,{className:"px-4 pb-4 sm:px-6 sm:pb-6",children:h?o.jsx("div",{className:"flex justify-center items-center py-4",children:o.jsx(st,{className:"h-5 w-5 animate-spin text-primary-600"})}):u.length>0?o.jsx("div",{className:"space-y-2",children:u.map(w=>o.jsxs("div",{className:"p-3 border rounded-md bg-gray-50",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-sm",children:w.name}),o.jsx("p",{className:"text-xs text-gray-500",children:w.machineType})]}),o.jsx("div",{className:"text-sm text-right",children:o.jsxs("span",{className:"font-medium",children:["Qty: ",w.quantity]})})]}),o.jsxs("div",{className:"mt-2 text-xs text-gray-600 flex justify-between",children:[o.jsxs("div",{children:["Base Rate: ",Ue(w.baseRate)]}),o.jsxs("div",{children:["Cost/Km: ",Ue(w.runningCostPerKm)]})]})]},w.id))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No equipment information available for this deal."})})]}),o.jsxs(le,{className:"hidden sm:block",children:[o.jsx(ye,{className:"p-4 sm:p-6",children:o.jsx(ve,{children:"Actions"})}),o.jsx(pe,{className:"px-4 pb-4 sm:px-6 sm:pb-6 space-y-4",children:o.jsx(U,{className:"w-full",onClick:()=>t(`/quotations/create?dealId=${r.id}`),variant:"accent",children:"Create Quotation"})})]})]})]}),m.show&&o.jsx(ft,{title:m.title,variant:m.variant,isVisible:m.show,onClose:()=>p({show:!1,title:""})})]}):o.jsx("div",{className:"text-center py-8 text-gray-500",children:"Deal not found."})}const HE=x.createContext({dragDropManager:void 0});function bn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var K1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),X1=function(){return Math.random().toString(36).substring(7).split("").join(".")},J1={INIT:"@@redux/INIT"+X1(),REPLACE:"@@redux/REPLACE"+X1()};function sQ(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function qE(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(bn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(bn(1));return n(qE)(e,t)}if(typeof e!="function")throw new Error(bn(2));var s=e,i=t,a=[],l=a,c=!1;function u(){l===a&&(l=a.slice())}function d(){if(c)throw new Error(bn(3));return i}function h(g){if(typeof g!="function")throw new Error(bn(4));if(c)throw new Error(bn(5));var y=!0;return u(),l.push(g),function(){if(y){if(c)throw new Error(bn(6));y=!1,u();var v=l.indexOf(g);l.splice(v,1),a=null}}}function f(g){if(!sQ(g))throw new Error(bn(7));if(typeof g.type>"u")throw new Error(bn(8));if(c)throw new Error(bn(9));try{c=!0,i=s(i,g)}finally{c=!1}for(var y=a=l,b=0;b<y.length;b++){var v=y[b];v()}return g}function m(g){if(typeof g!="function")throw new Error(bn(10));s=g,f({type:J1.REPLACE})}function p(){var g,y=h;return g={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(bn(11));function w(){v.next&&v.next(d())}w();var S=y(w);return{unsubscribe:S}}},g[K1]=function(){return this},g}return f({type:J1.INIT}),r={dispatch:f,subscribe:h,getState:d,replaceReducer:m},r[K1]=p,r}function Se(e,t,...n){if(iQ()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(t.replace(/%s/g,function(){return n[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function iQ(){return typeof process<"u"&&!0}function aQ(e,t,n){return t.split(".").reduce((r,s)=>r&&r[s]?r[s]:n||null,e)}function oQ(e,t){return e.filter(n=>n!==t)}function GE(e){return typeof e=="object"}function lQ(e,t){const n=new Map,r=i=>{n.set(i,n.has(i)?n.get(i)+1:1)};e.forEach(r),t.forEach(r);const s=[];return n.forEach((i,a)=>{i===1&&s.push(a)}),s}function cQ(e,t){return e.filter(n=>t.indexOf(n)>-1)}const Py="dnd-core/INIT_COORDS",bh="dnd-core/BEGIN_DRAG",_y="dnd-core/PUBLISH_DRAG_SOURCE",wh="dnd-core/HOVER",jh="dnd-core/DROP",Sh="dnd-core/END_DRAG";function Z1(e,t){return{type:Py,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const uQ={type:Py,payload:{clientOffset:null,sourceClientOffset:null}};function dQ(e){return function(n=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:i,getSourceClientOffset:a}=r,l=e.getMonitor(),c=e.getRegistry();e.dispatch(Z1(i)),hQ(n,l,c);const u=pQ(n,l);if(u==null){e.dispatch(uQ);return}let d=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");fQ(a),d=a(u)}e.dispatch(Z1(i,d));const f=c.getSource(u).beginDrag(l,u);if(f==null)return;mQ(f),c.pinSource(u);const m=c.getSourceType(u);return{type:bh,payload:{itemType:m,item:f,sourceId:u,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!s}}}}function hQ(e,t,n){Se(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){Se(n.getSource(r),"Expected sourceIds to be registered.")})}function fQ(e){Se(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function mQ(e){Se(GE(e),"Item must be an object.")}function pQ(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function gQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){gQ(e,s,n[s])})}return e}function yQ(e){return function(n={}){const r=e.getMonitor(),s=e.getRegistry();vQ(r),jQ(r).forEach((a,l)=>{const c=bQ(a,l,s,r),u={type:jh,payload:{dropResult:xQ({},n,c)}};e.dispatch(u)})}}function vQ(e){Se(e.isDragging(),"Cannot call drop while not dragging."),Se(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function bQ(e,t,n,r){const s=n.getTarget(e);let i=s?s.drop(r,e):void 0;return wQ(i),typeof i>"u"&&(i=t===0?{}:r.getDropResult()),i}function wQ(e){Se(typeof e>"u"||GE(e),"Drop result must either be an object or undefined.")}function jQ(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function SQ(e){return function(){const n=e.getMonitor(),r=e.getRegistry();NQ(n);const s=n.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(n,s),r.unpinSource()),{type:Sh}}}function NQ(e){Se(e.isDragging(),"Cannot call endDrag while not dragging.")}function rg(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function CQ(e){return function(n,{clientOffset:r}={}){kQ(n);const s=n.slice(0),i=e.getMonitor(),a=e.getRegistry(),l=i.getItemType();return EQ(s,a,l),DQ(s,i,a),TQ(s,i,a),{type:wh,payload:{targetIds:s,clientOffset:r||null}}}}function kQ(e){Se(Array.isArray(e),"Expected targetIds to be an array.")}function DQ(e,t,n){Se(t.isDragging(),"Cannot call hover while not dragging."),Se(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const s=e[r];Se(e.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(s);Se(i,"Expected targetIds to be registered.")}}function EQ(e,t,n){for(let r=e.length-1;r>=0;r--){const s=e[r],i=t.getTargetType(s);rg(i,n)||e.splice(r,1)}}function TQ(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function PQ(e){return function(){if(e.getMonitor().isDragging())return{type:_y}}}function _Q(e){return{beginDrag:dQ(e),publishDragSource:PQ(e),hover:CQ(e),drop:yQ(e),endDrag:SQ(e)}}class AQ{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(i){return(...a)=>{const l=i.apply(t,a);typeof l<"u"&&n(l)}}const s=_Q(this);return Object.keys(s).reduce((i,a)=>{const l=s[a];return i[a]=r(l),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function IQ(e,t){return{x:e.x+t.x,y:e.y+t.y}}function YE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function MQ(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:YE(IQ(t,r),n)}function OQ(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:YE(t,n)}const Wo=[],Ay=[];Wo.__IS_NONE__=!0;Ay.__IS_ALL__=!0;function RQ(e,t){return e===Wo?!1:e===Ay||typeof t>"u"?!0:cQ(t,e).length>0}class LQ{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;Se(typeof t=="function","listener must be a function."),Se(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const i=()=>{const a=this.store.getState(),l=a.stateId;try{l===s||l===s+1&&!RQ(a.dirtyHandlerIds,r)||t()}finally{s=l}};return this.store.subscribe(i)}subscribeToOffsetChange(t){Se(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==n&&(n=s,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return Se(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(Se(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),s=this.getItemType();return rg(r,s)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(Se(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),s=this.getItemType();return r!==s?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const s=this.registry.getTargetType(t),i=this.getItemType();if(i&&!rg(s,i))return!1;const a=this.getTargetIds();if(!a.length)return!1;const l=a.indexOf(t);return r?l===a.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return MQ(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return OQ(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const ej=typeof global<"u"?global:self,QE=ej.MutationObserver||ej.WebKitMutationObserver;function KE(e){return function(){const n=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(n),clearInterval(r),e()}}}function FQ(e){let t=1;const n=new QE(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const $Q=typeof QE=="function"?FQ:KE;class zQ{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=$Q(this.flush),this.requestErrorThrow=KE(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class BQ{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class VQ{create(t){const n=this.freeTasks,r=n.length?n.pop():new BQ(this.onError,s=>n[n.length]=s);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const XE=new zQ,UQ=new VQ(XE.registerPendingError);function WQ(e){XE.enqueueTask(UQ.create(e))}const Iy="dnd-core/ADD_SOURCE",My="dnd-core/ADD_TARGET",Oy="dnd-core/REMOVE_SOURCE",Nh="dnd-core/REMOVE_TARGET";function HQ(e){return{type:Iy,payload:{sourceId:e}}}function qQ(e){return{type:My,payload:{targetId:e}}}function GQ(e){return{type:Oy,payload:{sourceId:e}}}function YQ(e){return{type:Nh,payload:{targetId:e}}}function QQ(e){Se(typeof e.canDrag=="function","Expected canDrag to be a function."),Se(typeof e.beginDrag=="function","Expected beginDrag to be a function."),Se(typeof e.endDrag=="function","Expected endDrag to be a function.")}function KQ(e){Se(typeof e.canDrop=="function","Expected canDrop to be a function."),Se(typeof e.hover=="function","Expected hover to be a function."),Se(typeof e.drop=="function","Expected beginDrag to be a function.")}function sg(e,t){if(t&&Array.isArray(e)){e.forEach(n=>sg(n,!1));return}Se(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Nn;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Nn||(Nn={}));let XQ=0;function JQ(){return XQ++}function ZQ(e){const t=JQ().toString();switch(e){case Nn.SOURCE:return`S${t}`;case Nn.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function tj(e){switch(e[0]){case"S":return Nn.SOURCE;case"T":return Nn.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function nj(e,t){const n=e.entries();let r=!1;do{const{done:s,value:[,i]}=n.next();if(i===t)return!0;r=!!s}while(!r);return!1}class eK{addSource(t,n){sg(t),QQ(n);const r=this.addHandler(Nn.SOURCE,t,n);return this.store.dispatch(HQ(r)),r}addTarget(t,n){sg(t,!0),KQ(n);const r=this.addHandler(Nn.TARGET,t,n);return this.store.dispatch(qQ(r)),r}containsHandler(t){return nj(this.dragSources,t)||nj(this.dropTargets,t)}getSource(t,n=!1){return Se(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return Se(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return Se(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return Se(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return tj(t)===Nn.SOURCE}isTargetId(t){return tj(t)===Nn.TARGET}removeSource(t){Se(this.getSource(t),"Expected an existing source."),this.store.dispatch(GQ(t)),WQ(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){Se(this.getTarget(t),"Expected an existing target."),this.store.dispatch(YQ(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);Se(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){Se(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const s=ZQ(t);return this.types.set(s,n),t===Nn.SOURCE?this.dragSources.set(s,r):t===Nn.TARGET&&this.dropTargets.set(s,r),s}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const tK=(e,t)=>e===t;function nK(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function rK(e,t,n=tK){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function sK(e=Wo,t){switch(t.type){case wh:break;case Iy:case My:case Nh:case Oy:return Wo;case bh:case _y:case Sh:case jh:default:return Ay}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,s=lQ(n,r);if(!(s.length>0||!rK(n,r)))return Wo;const a=r[r.length-1],l=n[n.length-1];return a!==l&&(a&&s.push(a),l&&s.push(l)),s}function iK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){iK(e,s,n[s])})}return e}const rj={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function oK(e=rj,t){const{payload:n}=t;switch(t.type){case Py:case bh:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case wh:return nK(e.clientOffset,n.clientOffset)?e:aK({},e,{clientOffset:n.clientOffset});case Sh:case jh:return rj;default:return e}}function lK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){lK(e,s,n[s])})}return e}const cK={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function uK(e=cK,t){const{payload:n}=t;switch(t.type){case bh:return Oi({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case _y:return Oi({},e,{isSourcePublic:!0});case wh:return Oi({},e,{targetIds:n.targetIds});case Nh:return e.targetIds.indexOf(n.targetId)===-1?e:Oi({},e,{targetIds:oQ(e.targetIds,n.targetId)});case jh:return Oi({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Sh:return Oi({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function dK(e=0,t){switch(t.type){case Iy:case My:return e+1;case Oy:case Nh:return e-1;default:return e}}function hK(e=0){return e+1}function fK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){fK(e,s,n[s])})}return e}function pK(e={},t){return{dirtyHandlerIds:sK(e.dirtyHandlerIds,{type:t.type,payload:mK({},t.payload,{prevTargetIds:aQ(e,"dragOperation.targetIds",[])})}),dragOffset:oK(e.dragOffset,t),refCount:dK(e.refCount,t),dragOperation:uK(e.dragOperation,t),stateId:hK(e.stateId)}}function gK(e,t=void 0,n={},r=!1){const s=xK(r),i=new LQ(s,new eK(s)),a=new AQ(s,i),l=e(a,t,n);return a.receiveBackend(l),a}function xK(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return qE(pK,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function yK(e,t){if(e==null)return{};var n=vK(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vK(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}let sj=0;const mu=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var bK=x.memo(function(t){var{children:n}=t,r=yK(t,["children"]);const[s,i]=wK(r);return x.useEffect(()=>{if(i){const a=JE();return++sj,()=>{--sj===0&&(a[mu]=null)}}},[]),o.jsx(HE.Provider,{value:s,children:n})});function wK(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=jK(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function jK(e,t=JE(),n,r){const s=t;return s[mu]||(s[mu]={dragDropManager:gK(e,t,n,r)}),s[mu]}function JE(){return typeof global<"u"?global:window}var SK=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n};const NK=Cd(SK),vi=typeof window<"u"?x.useLayoutEffect:x.useEffect;function CK(e,t,n){const[r,s]=x.useState(()=>t(e)),i=x.useCallback(()=>{const a=t(e);NK(r,a)||(s(a),n&&n())},[r,e,n]);return vi(i),[r,i]}function kK(e,t,n){const[r,s]=CK(e,t,n);return vi(function(){const a=e.getHandlerId();if(a!=null)return e.subscribeToStateChange(s,{handlerIds:[a]})},[e,s]),r}function ZE(e,t,n){return kK(t,e||(()=>({})),()=>n.reconnect())}function eT(e,t){const n=[];return typeof e!="function"&&n.push(e),x.useMemo(()=>typeof e=="function"?e():e,n)}function DK(e){return x.useMemo(()=>e.hooks.dragSource(),[e])}function EK(e){return x.useMemo(()=>e.hooks.dragPreview(),[e])}let cm=!1,um=!1;class TK{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){Se(!cm,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return cm=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{cm=!1}}isDragging(){if(!this.sourceId)return!1;Se(!um,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return um=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{um=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let dm=!1;class PK{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;Se(!dm,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return dm=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{dm=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function _K(e,t,n){const r=n.getRegistry(),s=r.addTarget(e,t);return[s,()=>r.removeTarget(s)]}function AK(e,t,n){const r=n.getRegistry(),s=r.addSource(e,t);return[s,()=>r.removeSource(s)]}function ig(e,t,n,r){let s;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;const l=Object.prototype.hasOwnProperty.bind(t);for(let c=0;c<i.length;c++){const u=i[c];if(!l(u))return!1;const d=e[u],h=t[u];if(s=void 0,s===!1||s===void 0&&d!==h)return!1}return!0}function ag(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function IK(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function MK(e){return(t=null,n=null)=>{if(!x.isValidElement(t)){const i=t;return e(i,n),i}const r=t;return IK(r),OK(r,n?i=>e(i,n):e)}}function tT(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const s=MK(r);t[n]=()=>s}}),t}function ij(e,t){typeof e=="function"?e(t):e.current=t}function OK(e,t){const n=e.ref;return Se(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?x.cloneElement(e,{ref:r=>{ij(n,r),ij(t,r)}}):x.cloneElement(e,{ref:t})}class RK{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!ig(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!ig(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=tT({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,ag(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,ag(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class LK{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!ig(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=tT({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,ag(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function Ba(){const{dragDropManager:e}=x.useContext(HE);return Se(e!=null,"Expected drag drop context"),e}function FK(e,t){const n=Ba(),r=x.useMemo(()=>new RK(n.getBackend()),[n]);return vi(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),vi(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function $K(){const e=Ba();return x.useMemo(()=>new TK(e),[e])}class zK{beginDrag(){const t=this.spec,n=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(n):r={},r??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const r=this.spec,s=this.monitor,{isDragging:i}=r;return i?i(s):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,r=this.connector,{end:s}=t;s&&s(n.getItem(),n),r.reconnect()}constructor(t,n,r){this.spec=t,this.monitor=n,this.connector=r}}function BK(e,t,n){const r=x.useMemo(()=>new zK(e,t,n),[t,n]);return x.useEffect(()=>{r.spec=e},[e]),r}function VK(e){return x.useMemo(()=>{const t=e.type;return Se(t!=null,"spec.type must be defined"),t},[e])}function UK(e,t,n){const r=Ba(),s=BK(e,t,n),i=VK(e);vi(function(){if(i!=null){const[l,c]=AK(i,s,r);return t.receiveHandlerId(l),n.receiveHandlerId(l),c}},[r,t,n,s,i])}function WK(e,t){const n=eT(e);Se(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=$K(),s=FK(n.options,n.previewOptions);return UK(n,r,s),[ZE(n.collect,r,s),DK(s),EK(s)]}function HK(e){return x.useMemo(()=>e.hooks.dropTarget(),[e])}function qK(e){const t=Ba(),n=x.useMemo(()=>new LK(t.getBackend()),[t]);return vi(()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget()),[e]),n}function GK(){const e=Ba();return x.useMemo(()=>new PK(e),[e])}function YK(e){const{accept:t}=e;return x.useMemo(()=>(Se(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class QK{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function KK(e,t){const n=x.useMemo(()=>new QK(e,t),[t]);return x.useEffect(()=>{n.spec=e},[e]),n}function XK(e,t,n){const r=Ba(),s=KK(e,t),i=YK(e);vi(function(){const[l,c]=_K(i,s,r);return t.receiveHandlerId(l),n.receiveHandlerId(l),c},[r,t,s,n,i.map(a=>a.toString()).join("|")])}function JK(e,t){const n=eT(e),r=GK(),s=qK(n.options);return XK(n,r,s),[ZE(n.collect,r,s),HK(s)]}function nT(e){let t=null;return()=>(t==null&&(t=e()),t)}function ZK(e,t){return e.filter(n=>n!==t)}function eX(e,t){const n=new Set,r=i=>n.add(i);e.forEach(r),t.forEach(r);const s=[];return n.forEach(i=>s.push(i)),s}class tX{enter(t){const n=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=eX(this.entered.filter(r),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=ZK(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class nX{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(n[r]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const rT="__NATIVE_FILE__",sT="__NATIVE_URL__",iT="__NATIVE_TEXT__",aT="__NATIVE_HTML__",aj=Object.freeze(Object.defineProperty({__proto__:null,FILE:rT,HTML:aT,TEXT:iT,URL:sT},Symbol.toStringTag,{value:"Module"}));function hm(e,t,n){const r=t.reduce((s,i)=>s||e.getData(i),"");return r??n}const og={[rT]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[aT]:{exposeProperties:{html:(e,t)=>hm(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[sT]:{exposeProperties:{urls:(e,t)=>hm(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[iT]:{exposeProperties:{text:(e,t)=>hm(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function rX(e,t){const n=og[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new nX(n);return r.loadDataTransfer(t),r}function fm(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(og).filter(n=>{const r=og[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const sX=nT(()=>/firefox/i.test(navigator.userAgent)),oT=nT(()=>!!window.safari);class oj{interpolate(t){const{xs:n,ys:r,c1s:s,c2s:i,c3s:a}=this;let l=n.length-1;if(t===n[l])return r[l];let c=0,u=a.length-1,d;for(;c<=u;){d=Math.floor(.5*(c+u));const m=n[d];if(m<t)c=d+1;else if(m>t)u=d-1;else return r[d]}l=Math.max(0,u);const h=t-n[l],f=h*h;return r[l]+s[l]*h+i[l]*f+a[l]*h*f}constructor(t,n){const{length:r}=t,s=[];for(let m=0;m<r;m++)s.push(m);s.sort((m,p)=>t[m]<t[p]?-1:1);const i=[],a=[];let l,c;for(let m=0;m<r-1;m++)l=t[m+1]-t[m],c=n[m+1]-n[m],i.push(l),a.push(c/l);const u=[a[0]];for(let m=0;m<i.length-1;m++){const p=a[m],g=a[m+1];if(p*g<=0)u.push(0);else{l=i[m];const y=i[m+1],b=l+y;u.push(3*b/((b+y)/p+(b+l)/g))}}u.push(a[a.length-1]);const d=[],h=[];let f;for(let m=0;m<u.length-1;m++){f=a[m];const p=u[m],g=1/i[m],y=p+u[m+1]-f-f;d.push((f-p-y)*g),h.push(y*g*g)}this.xs=t,this.ys=n,this.c1s=u,this.c2s=d,this.c3s=h}}const iX=1;function lT(e){const t=e.nodeType===iX?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Uc(e){return{x:e.clientX,y:e.clientY}}function aX(e){var t;return e.nodeName==="IMG"&&(sX()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function oX(e,t,n,r){let s=e?t.width:n,i=e?t.height:r;return oT()&&e&&(i/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:i}}function lX(e,t,n,r,s){const i=aX(t),l=lT(i?e:t),c={x:n.x-l.x,y:n.y-l.y},{offsetWidth:u,offsetHeight:d}=e,{anchorX:h,anchorY:f}=r,{dragPreviewWidth:m,dragPreviewHeight:p}=oX(i,t,u,d),g=()=>{let k=new oj([0,.5,1],[c.y,c.y/d*p,c.y+p-d]).interpolate(f);return oT()&&i&&(k+=(window.devicePixelRatio-1)*p),k},y=()=>new oj([0,.5,1],[c.x,c.x/u*m,c.x+m-u]).interpolate(h),{offsetX:b,offsetY:v}=s,w=b===0||b,S=v===0||v;return{x:w?b:y(),y:S?v:g()}}class cX{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}}function uX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){uX(e,s,n[s])})}return e}class dX{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,r){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,r);const s=a=>this.handleDragStart(a,t),i=a=>this.handleSelectStart(a);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",s),n.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",s),n.removeEventListener("selectstart",i),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const r=a=>this.handleDragEnter(a,t),s=a=>this.handleDragOver(a,t),i=a=>this.handleDrop(a,t);return n.addEventListener("dragenter",r),n.addEventListener("dragover",s),n.addEventListener("drop",i),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",s),n.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return lj({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return lj({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(aj).some(n=>aj[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=rX(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&lT(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const a=Uc(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});const{dataTransfer:l}=s,c=fm(l);if(this.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){const d=this.monitor.getSourceId(),h=this.sourceNodes.get(d),f=this.sourcePreviewNodes.get(d)||h;if(f){const{anchorX:m,anchorY:p,offsetX:g,offsetY:y}=this.getCurrentSourcePreviewNodeOptions(),w=lX(h,f,a,{anchorX:m,anchorY:p},{offsetX:g,offsetY:y});l.setDragImage(f,w.x,w.y)}}try{l==null||l.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(l&&!l.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:l}=s,c=fm(l);c&&this.beginDragNativeItem(c,l)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,i.length>0&&this.actions.hover(i,{clientOffset:Uc(s)}),i.some(l=>this.monitor.canDropOnTarget(l))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=Uc(s),this.scheduleHover(i),(i||[]).some(l=>this.monitor.canDropOnTarget(l))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;s.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}else fm(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:Uc(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const i=s.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(s.preventDefault(),i.dragDrop()))},this.options=new cX(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new tX(this.isNodeInDocument)}}const hX=function(t,n,r){return new dX(t,n,r)},cj={company_name:"ASP Cranes & Heavy Equipment Pvt. Ltd.",company_address:"123 Industrial Area, Mumbai, Maharashtra 400001",customer_name:"ABC Construction Pvt. Ltd.",customer_address:"456 Project Site, Pune, Maharashtra 411001",quotation_number:"QT-2025-001",quotation_date:new Date().toLocaleDateString("en-IN"),total_amount:"7,85,000"};function fX({isOpen:e,onClose:t,elements:n,templateName:r="Template Preview"}){if(!e)return null;const s=c=>{let u=c;return Object.entries(cj).forEach(([d,h])=>{u=u.replace(new RegExp(`{{${d}}}`,"g"),h)}),u},i=(c,u)=>{var h,f,m,p,g,y,b;const d={fontSize:((h=c.style)==null?void 0:h.fontSize)||"14px",fontWeight:((f=c.style)==null?void 0:f.fontWeight)||"normal",color:((m=c.style)==null?void 0:m.color)||"#000000",backgroundColor:((p=c.style)==null?void 0:p.backgroundColor)||"transparent",padding:((g=c.style)==null?void 0:g.padding)||"8px",margin:((y=c.style)==null?void 0:y.margin)||"0px",textAlign:((b=c.style)==null?void 0:b.textAlign)||"left"};switch(c.type){case"header":return o.jsx("div",{className:"text-center p-6 bg-blue-50 border-b-2 border-blue-200",children:o.jsx("h1",{className:"text-3xl font-bold",style:d,children:s(c.content||"Company Header")})},u);case"text":return o.jsx("div",{style:d,className:"mb-4",children:s(c.content||"Text content")},u);case"field":return o.jsx("div",{style:d,className:"mb-2",children:o.jsx("strong",{children:s(c.content||"{{field_name}}")})},u);case"table":return o.jsx("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-300",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"border border-gray-300 p-3 text-left font-semibold",children:"Equipment"}),o.jsx("th",{className:"border border-gray-300 p-3 text-left font-semibold",children:"Capacity"}),o.jsx("th",{className:"border border-gray-300 p-3 text-left font-semibold",children:"Duration"}),o.jsx("th",{className:"border border-gray-300 p-3 text-left font-semibold",children:"Rate"})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 p-3",children:"Mobile Crane"}),o.jsx("td",{className:"border border-gray-300 p-3",children:"100MT"}),o.jsx("td",{className:"border border-gray-300 p-3",children:"1 Month"}),o.jsx("td",{className:"border border-gray-300 p-3",children:"7,85,000"})]}),o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("td",{className:"border border-gray-300 p-3",children:"Operator Services"}),o.jsx("td",{className:"border border-gray-300 p-3",children:"Certified"}),o.jsx("td",{className:"border border-gray-300 p-3",children:"1 Month"}),o.jsx("td",{className:"border border-gray-300 p-3",children:"45,000"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 p-3 font-semibold",colSpan:3,children:"Total"}),o.jsx("td",{className:"border border-gray-300 p-3 font-semibold",children:"8,30,000"})]})]})]})},u);case"image":return o.jsx("div",{className:"mb-4 text-center",children:o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded p-6 bg-gray-50",children:o.jsxs("div",{className:"text-gray-500",children:[" ",c.content||"Company Logo"]})})},u);case"terms":return o.jsxs("div",{className:"mb-6 bg-gray-50 border border-gray-200 rounded p-4",style:d,children:[o.jsx("h3",{className:"font-semibold mb-3 text-lg",children:"Terms & Conditions"}),o.jsx("div",{className:"text-sm leading-relaxed",children:c.content?s(c.content):o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{children:"1. Payment terms: 30% advance, 70% on delivery"}),o.jsx("p",{children:"2. Delivery timeline: 15-20 business days"}),o.jsx("p",{children:"3. Warranty: 12 months comprehensive warranty"}),o.jsx("p",{children:"4. Installation and commissioning included"}),o.jsx("p",{children:"5. All prices are exclusive of GST"})]})})]},u);case"spacer":const v=c.content||"20px";return o.jsx("div",{style:{height:v},className:"mb-2"},u);default:return o.jsx("div",{children:"Unknown element type"},u)}},a=()=>{window.print()},l=()=>{alert("Download functionality would generate a PDF here")};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl max-h-[90vh] w-full mx-4 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Template Preview"}),o.jsx("p",{className:"text-sm text-gray-600",children:r})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U,{variant:"ghost",size:"sm",onClick:l,className:"flex items-center gap-2",children:[o.jsx(Ud,{size:16}),"Download PDF"]}),o.jsxs(U,{variant:"ghost",size:"sm",onClick:a,className:"flex items-center gap-2",children:[o.jsx(CI,{size:16}),"Print"]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:t,className:"p-2",children:o.jsx(Ni,{size:20})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:[o.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"QUOTATION"}),o.jsx("p",{className:"text-blue-100",children:"Professional Equipment Rental Services"})]}),o.jsx("div",{className:"p-6",children:n.length>0?n.map((c,u)=>i(c,u)):o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx("p",{children:"No elements to preview"}),o.jsx("p",{className:"text-sm",children:"Add elements to your template to see the preview"})]})}),o.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50 rounded-b-lg",children:o.jsxs("div",{className:"text-center text-sm text-gray-600",children:[o.jsx("p",{children:"Generated by ASP Cranes CRM System"}),o.jsxs("p",{children:["Date: ",new Date().toLocaleDateString("en-IN")," | Quotation: ",cj.quotation_number]})]})})]})})]})})}const cT={PALETTE_ITEM:"palette_item"},mX=[{type:"header",label:"Header Section",icon:fp,description:"Company logo and title",defaultContent:"Company Header"},{type:"text",label:"Text Block",icon:fp,description:"Add custom text content",defaultContent:"Your text content here"},{type:"field",label:"Dynamic Field",icon:cx,description:"Insert quotation data",defaultContent:"{{customer_name}}"},{type:"table",label:"Data Table",icon:BN,description:"Display equipment and pricing",defaultContent:"Equipment Table"},{type:"terms",label:"Terms & Conditions",icon:Wt,description:"Legal terms and conditions",defaultContent:"Terms and Conditions"},{type:"image",label:"Image/Logo",icon:ux,description:"Company logo or images",defaultContent:"Image Placeholder"},{type:"spacer",label:"Spacer",icon:WN,description:"Add vertical spacing",defaultContent:""}],pX=[{value:"{{company_name}}",label:"Company Name"},{value:"{{company_address}}",label:"Company Address"},{value:"{{customer_name}}",label:"Customer Name"},{value:"{{customer_address}}",label:"Customer Address"},{value:"{{quotation_number}}",label:"Quotation Number"},{value:"{{quotation_date}}",label:"Quotation Date"},{value:"{{total_amount}}",label:"Total Amount"}];function gX({item:e}){const[{isDragging:t},n]=WK(()=>({type:cT.PALETTE_ITEM,item:{elementType:e.type,defaultContent:e.defaultContent},collect:s=>({isDragging:s.isDragging()})})),r=e.icon;return o.jsx("div",{ref:n,className:`
        cursor-move p-3 bg-white border border-gray-200 rounded-lg shadow-sm
        hover:shadow-md hover:border-blue-300 transition-all duration-200
        ${t?"opacity-50":"opacity-100"}
      `,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(r,{size:20,className:"text-blue-600"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm text-gray-900",children:e.label}),o.jsx("div",{className:"text-xs text-gray-500",children:e.description})]})]})})}function xX({element:e,onUpdate:t,onClose:n}){var w,S,j,k,C,N,D,T,L,V,F,_,z,W,I;const[r,s]=x.useState(e),[i,a]=x.useState(!1),l=(E,P)=>{s(R=>({...R,style:{...R.style,[E]:P}})),a(!0)},c=E=>{s(P=>({...P,content:E})),a(!0)},u=(E,P)=>{s(R=>({...R,config:{...R.config,[E]:P}})),a(!0)},d=E=>{const P=new FileReader;P.onload=R=>{var q;const B=(q=R.target)==null?void 0:q.result;s(J=>({...J,config:{...J.config,src:B,uploadedFile:E}})),a(!0)},P.readAsDataURL(E)},h=()=>{var R;const E=((R=r.config)==null?void 0:R.columns)||["Column 1","Column 2","Column 3"],P=new Array(E.length).fill("");s(B=>{var q;return{...B,config:{...B.config,rows:[...((q=B.config)==null?void 0:q.rows)||[],P]}}}),a(!0)},f=()=>{var R,B;const E=((R=r.config)==null?void 0:R.columns)||[],P=((B=r.config)==null?void 0:B.rows)||[];s(q=>({...q,config:{...q.config,columns:[...E,`Column ${E.length+1}`],rows:P.map(J=>[...J,""])}})),a(!0)},m=(E,P,R)=>{var q;const B=[...((q=r.config)==null?void 0:q.rows)||[]];B[E][P]=R,s(J=>({...J,config:{...J.config,rows:B}})),a(!0)},p=(E,P)=>{var B;const R=[...((B=r.config)==null?void 0:B.columns)||[]];R[E]=P,s(q=>({...q,config:{...q.config,columns:R}})),a(!0)},g=E=>{var P,R,B,q;if((((R=(P=r.config)==null?void 0:P.rows)==null?void 0:R.length)||0)>1){const J=((q=(B=r.config)==null?void 0:B.rows)==null?void 0:q.filter((ne,ae)=>ae!==E))||[];s(ne=>({...ne,config:{...ne.config,rows:J}})),a(!0)}},y=E=>{var P,R,B,q,J,ne;if((((R=(P=r.config)==null?void 0:P.columns)==null?void 0:R.length)||0)>1){const ae=((q=(B=r.config)==null?void 0:B.columns)==null?void 0:q.filter((O,H)=>H!==E))||[],G=((ne=(J=r.config)==null?void 0:J.rows)==null?void 0:ne.map(O=>O.filter((H,K)=>K!==E)))||[];s(O=>({...O,config:{...O.config,columns:ae,rows:G}})),a(!0)}},b=()=>{t(r),n(),console.log(" Element changes saved")},v=()=>{i&&!window.confirm("You have unsaved changes. Are you sure you want to cancel?")||n()};return o.jsxs("div",{className:"w-96 bg-white border-l border-gray-200 p-4 overflow-y-auto max-h-screen",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Edit Element"}),o.jsx(U,{variant:"ghost",size:"sm",onClick:n,className:"text-gray-700 hover:text-gray-900 hover:bg-gray-100",children:""})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),e.type==="field"?o.jsxs("select",{value:r.content||"",onChange:E=>c(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select a field"}),pX.map(E=>o.jsx("option",{value:E.value,children:E.label},E.value))]}):e.type==="table"?o.jsx("div",{className:"text-sm text-gray-600",children:"Configure table structure below"}):e.type==="image"?o.jsx("div",{className:"text-sm text-gray-600",children:"Upload or configure image below"}):o.jsx(Qn,{value:r.content||"",onChange:E=>c(E.target.value),rows:3,placeholder:"Enter content..."})]}),e.type==="table"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:"Table Configuration"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U,{onClick:f,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(Plus,{size:14})," Add Column"]}),o.jsxs(U,{onClick:h,size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:[o.jsx(Plus,{size:14})," Add Row"]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Headers"}),(((w=r.config)==null?void 0:w.columns)||[]).map((E,P)=>{var R,B;return o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(De,{value:E,onChange:q=>p(P,q.target.value),placeholder:`Column ${P+1}`,className:"flex-1"}),o.jsx(U,{onClick:()=>y(P),size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700",disabled:(((B=(R=r.config)==null?void 0:R.columns)==null?void 0:B.length)||0)<=1,children:o.jsx(ur,{size:14})})]},P)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Rows"}),(((S=r.config)==null?void 0:S.rows)||[]).map((E,P)=>{var R,B;return o.jsxs("div",{className:"border border-gray-200 rounded p-2 mb-2",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("span",{className:"text-sm font-medium",children:["Row ",P+1]}),o.jsx(U,{onClick:()=>g(P),size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700",disabled:(((B=(R=r.config)==null?void 0:R.rows)==null?void 0:B.length)||0)<=1,children:o.jsx(ur,{size:12})})]}),E.map((q,J)=>{var ne,ae;return o.jsx(De,{value:q,onChange:G=>m(P,J,G.target.value),placeholder:`${((ae=(ne=r.config)==null?void 0:ne.columns)==null?void 0:ae[J])||`Column ${J+1}`}`,className:"mb-1"},J)})]},P)})]})]}),e.type==="image"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:"Image Configuration"}),o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Image"}),o.jsx("input",{type:"file",accept:"image/*",onChange:E=>{var R;const P=(R=E.target.files)==null?void 0:R[0];P&&d(P)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),((j=r.config)==null?void 0:j.src)&&o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preview"}),o.jsx("img",{src:r.config.src,alt:"Preview",className:"w-full max-w-xs border border-gray-300 rounded"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alt Text"}),o.jsx(De,{value:((k=r.config)==null?void 0:k.alt)||"",onChange:E=>u("alt",E.target.value),placeholder:"Image description"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aspect Ratio"}),o.jsxs("select",{value:((C=r.config)==null?void 0:C.aspectRatio)||"auto",onChange:E=>u("aspectRatio",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"auto",children:"Auto"}),o.jsx("option",{value:"1/1",children:"Square (1:1)"}),o.jsx("option",{value:"16/9",children:"Widescreen (16:9)"}),o.jsx("option",{value:"4/3",children:"Standard (4:3)"}),o.jsx("option",{value:"3/2",children:"Photo (3:2)"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:"Size & Layout"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width"}),o.jsx(De,{value:((N=r.style)==null?void 0:N.width)||"auto",onChange:E=>l("width",E.target.value),placeholder:"auto, 100px, 50%"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height"}),o.jsx(De,{value:((D=r.style)==null?void 0:D.height)||"auto",onChange:E=>l("height",E.target.value),placeholder:"auto, 100px, 50%"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Width"}),o.jsx(De,{value:((T=r.style)==null?void 0:T.maxWidth)||"100%",onChange:E=>l("maxWidth",E.target.value),placeholder:"100%, 500px"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Height"}),o.jsx(De,{value:((L=r.style)==null?void 0:L.minHeight)||"auto",onChange:E=>l("minHeight",E.target.value),placeholder:"auto, 50px"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:"Styling"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Font Size"}),o.jsxs("select",{value:((V=r.style)==null?void 0:V.fontSize)||"14px",onChange:E=>l("fontSize",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"12px",children:"12px"}),o.jsx("option",{value:"14px",children:"14px"}),o.jsx("option",{value:"16px",children:"16px"}),o.jsx("option",{value:"18px",children:"18px"}),o.jsx("option",{value:"20px",children:"20px"}),o.jsx("option",{value:"24px",children:"24px"}),o.jsx("option",{value:"32px",children:"32px"})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Font Weight"}),o.jsxs("select",{value:((F=r.style)==null?void 0:F.fontWeight)||"normal",onChange:E=>l("fontWeight",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"normal",children:"Normal"}),o.jsx("option",{value:"bold",children:"Bold"}),o.jsx("option",{value:"600",children:"Semi Bold"}),o.jsx("option",{value:"300",children:"Light"})]})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Text Alignment"}),o.jsx("div",{className:"flex gap-1",children:["left","center","right"].map(E=>{var P,R;return o.jsxs(U,{variant:((P=r.style)==null?void 0:P.textAlign)===E?"default":"ghost",size:"sm",onClick:()=>l("textAlign",E),className:((R=r.style)==null?void 0:R.textAlign)===E?"text-white bg-blue-600":"text-gray-700 hover:text-gray-900 hover:bg-gray-100",children:[E==="left"&&o.jsx(KA,{size:16}),E==="center"&&o.jsx(QA,{size:16}),E==="right"&&o.jsx(XA,{size:16})]},E)})})]}),o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Text Color"}),o.jsx(De,{type:"color",value:((_=r.style)==null?void 0:_.color)||"#000000",onChange:E=>l("color",E.target.value)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),o.jsx(De,{type:"color",value:((z=r.style)==null?void 0:z.backgroundColor)||"#ffffff",onChange:E=>l("backgroundColor",E.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Padding"}),o.jsx(De,{value:((W=r.style)==null?void 0:W.padding)||"8px",onChange:E=>l("padding",E.target.value),placeholder:"8px"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Margin"}),o.jsx(De,{value:((I=r.style)==null?void 0:I.margin)||"0px",onChange:E=>l("margin",E.target.value),placeholder:"0px"})]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(U,{onClick:b,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",disabled:!i,children:i?"Save Changes":"No Changes"}),o.jsx(U,{variant:"ghost",onClick:v,className:"text-gray-700 hover:text-gray-900 hover:bg-gray-100",children:"Cancel"})]})]})]})}function yX({element:e,index:t,onDelete:n,onMoveUp:r,onMoveDown:s,onEdit:i,isFirst:a,isLast:l}){var d,h,f,m,p,g,y,b;const c={fontSize:((d=e.style)==null?void 0:d.fontSize)||"14px",fontWeight:((h=e.style)==null?void 0:h.fontWeight)||"normal",color:(f=e.style)!=null&&f.color&&((m=e.style)==null?void 0:m.color)!=="#ffffff"?e.style.color:"#222",backgroundColor:((p=e.style)==null?void 0:p.backgroundColor)||"#fff",padding:((g=e.style)==null?void 0:g.padding)||"8px",margin:((y=e.style)==null?void 0:y.margin)||"0px",textAlign:((b=e.style)==null?void 0:b.textAlign)||"left"},u=()=>{var v,w,S,j,k,C,N,D,T,L,V,F,_,z,W;switch(e.type){case"header":return o.jsx("div",{className:"text-center p-4 bg-blue-50 border border-blue-200 rounded",children:o.jsx("h1",{className:"text-2xl font-bold",style:c,children:e.content||"Company Header"})});case"text":return o.jsx("div",{style:c,children:e.content||"Text content"});case"field":return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-2",style:c,children:o.jsx("span",{className:"text-yellow-700",children:e.content||"{{field_name}}"})});case"table":const I=((v=e.config)==null?void 0:v.columns)||["Column 1","Column 2","Column 3"],E=((w=e.config)==null?void 0:w.rows)||[["Sample Data 1","Sample Data 2","Sample Data 3"]],P=((S=e.config)==null?void 0:S.showHeader)!==!1;return o.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",style:{width:((j=e.style)==null?void 0:j.width)||"auto",maxWidth:((k=e.style)==null?void 0:k.maxWidth)||"100%"},children:o.jsxs("table",{className:"w-full",style:e.style,children:[P&&o.jsx("thead",{className:"bg-gray-50",children:o.jsx("tr",{children:I.map((R,B)=>{var q,J,ne,ae;return o.jsx("th",{className:"border border-gray-300 p-2 text-left font-medium text-gray-900",style:{width:((J=(q=e.config)==null?void 0:q.columnWidths)==null?void 0:J[B])||"auto",fontSize:((ne=e.style)==null?void 0:ne.fontSize)||"14px",color:((ae=e.style)==null?void 0:ae.color)||"#1f2937"},children:R},B)})})}),o.jsx("tbody",{children:E.map((R,B)=>o.jsx("tr",{className:B%2===0?"bg-white":"bg-gray-50",children:R.map((q,J)=>{var ne,ae,G,O,H;return o.jsx("td",{className:"border border-gray-300 p-2 text-gray-700",style:{width:((ae=(ne=e.config)==null?void 0:ne.columnWidths)==null?void 0:ae[J])||"auto",fontSize:((G=e.style)==null?void 0:G.fontSize)||"14px",color:((O=e.style)==null?void 0:O.color)||"#374151",textAlign:((H=e.style)==null?void 0:H.textAlign)||"left"},children:q||"-"},J)})},B))})]})});case"image":return(C=e.config)!=null&&C.src?o.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",style:{width:((N=e.style)==null?void 0:N.width)||"auto",height:((D=e.style)==null?void 0:D.height)||"auto",maxWidth:((T=e.style)==null?void 0:T.maxWidth)||"100%",textAlign:((L=e.style)==null?void 0:L.textAlign)||"center"},children:o.jsx("img",{src:e.config.src,alt:e.config.alt||"Uploaded image",className:"w-full h-full object-contain",style:{aspectRatio:e.config.aspectRatio||"auto",minHeight:((V=e.style)==null?void 0:V.minHeight)||"100px"}})}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded p-8 text-center bg-gray-50",style:{width:((F=e.style)==null?void 0:F.width)||"auto",height:((_=e.style)==null?void 0:_.height)||"auto",maxWidth:((z=e.style)==null?void 0:z.maxWidth)||"100%",minHeight:((W=e.style)==null?void 0:W.minHeight)||"120px"},children:[o.jsx(ux,{size:48,className:"mx-auto text-gray-400 mb-2"}),o.jsx("p",{className:"text-gray-500",children:"Image Placeholder"}),o.jsx("p",{className:"text-xs text-gray-400",children:e.content||"Click to upload image"})]});case"terms":return o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded p-4",style:c,children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Terms & Conditions"}),o.jsx("div",{className:"text-sm text-gray-700",children:e.content||"Terms and conditions content will appear here..."})]});case"spacer":return o.jsx("div",{className:"border-2 border-dashed border-gray-300 bg-gray-50",style:{height:e.content||"20px"},children:o.jsxs("div",{className:"text-center text-xs text-gray-400 leading-5",children:["Spacer (",e.content||"20px",")"]})});default:return o.jsx("div",{children:"Unknown element type"})}};return o.jsxs("div",{className:"group relative border border-gray-200 rounded-lg p-2 mb-2 hover:border-blue-300 hover:shadow-sm transition-all duration-200",children:[o.jsxs("div",{className:"absolute top-1 right-1 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white rounded shadow-sm border",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>i(e,t),className:"p-1 h-6 w-6 text-gray-700 hover:text-gray-900 hover:bg-gray-100",children:o.jsx(mi,{size:12})}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>r(t),disabled:a,className:"p-1 h-6 w-6 text-gray-700 hover:text-gray-900 hover:bg-gray-100 disabled:text-gray-300",children:o.jsx(eI,{size:12})}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>s(t),disabled:l,className:"p-1 h-6 w-6 text-gray-700 hover:text-gray-900 hover:bg-gray-100 disabled:text-gray-300",children:o.jsx(JA,{size:12})}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>n(t),className:"p-1 h-6 w-6 text-red-600 hover:text-red-700 hover:bg-red-50",children:o.jsx(ur,{size:12})})]}),o.jsx("div",{className:"pointer-events-none",children:u()}),o.jsx("div",{className:"absolute left-1 top-1 opacity-0 group-hover:opacity-100 transition-opacity cursor-move p-1",children:o.jsx(bI,{size:12,className:"text-gray-600 hover:text-gray-800"})})]})}function vX({elements:e,onElementsChange:t,onEditElement:n}){const[{isOver:r},s]=JK(()=>({accept:cT.PALETTE_ITEM,drop:c=>{const u=h=>{switch(h){case"table":return{columns:["Item","Description","Quantity","Rate","Amount"],rows:[["Sample Item","Description here","1","10,000","10,000"]],showHeader:!0,columnWidths:["20%","30%","15%","15%","20%"]};case"image":return{src:"",alt:"Image",aspectRatio:"auto"};case"field":return{placeholder:"Enter field value",required:!1,defaultValue:""};default:return{}}},d={id:`element-${Date.now()}`,type:c.elementType,content:c.defaultContent||"",style:{fontSize:"14px",fontWeight:"normal",color:"#000000",backgroundColor:"transparent",padding:"8px",margin:"4px 0",textAlign:"left",width:"auto",height:"auto",maxWidth:"100%"},config:u(c.elementType)};t([...e,d])},collect:c=>({isOver:c.isOver()})})),i=c=>{t(e.filter((u,d)=>d!==c))},a=c=>{if(c>0){const u=[...e];[u[c],u[c-1]]=[u[c-1],u[c]],t(u)}},l=c=>{if(c<e.length-1){const u=[...e];[u[c],u[c+1]]=[u[c+1],u[c]],t(u)}};return o.jsx("div",{ref:s,className:`
        min-h-96 p-4 border-2 border-dashed rounded-lg
        ${r?"border-blue-400 bg-blue-50":"border-gray-300 bg-gray-50"}
        transition-colors duration-200
      `,children:e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(fp,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Start Building Your Template"}),o.jsx("p",{className:"text-gray-500",children:"Drag elements from the palette to create your quotation template"})]}):o.jsx("div",{className:"space-y-2",children:e.map((c,u)=>o.jsx(yX,{element:c,index:u,onDelete:i,onMoveUp:a,onMoveDown:l,onEdit:n,isFirst:u===0,isLast:u===e.length-1},c.id))})})}function bX({template:e,onSave:t,onCancel:n}){const[r,s]=x.useState((e==null?void 0:e.name)||""),[i,a]=x.useState((e==null?void 0:e.description)||""),[l,c]=x.useState([]),[u,d]=x.useState(!1),[h,f]=x.useState(null),[m,p]=x.useState(!1),[g,y]=x.useState(!1),[b,v]=x.useState(null);x.useEffect(()=>{if(e){s(e.name),a(e.description||"");const N=(e.elements||[]).map(D=>({...D,style:{fontSize:"14px",fontWeight:"normal",color:"#000000",backgroundColor:"transparent",padding:"8px",margin:"4px 0",textAlign:"left",...D.style||{}}}));c(N)}},[e]);const w=async()=>{if(!r.trim()){v("Please enter a template name"),setTimeout(()=>v(null),3e3);return}if(l.length===0){v("Please add at least one element to the template"),setTimeout(()=>v(null),3e3);return}d(!0);try{const N={name:r.trim(),description:i.trim(),elements:l.map(D=>({id:D.id,type:D.type,content:D.content,fieldType:D.fieldType,style:D.style,config:D.config})),tags:(e==null?void 0:e.tags)||[],usage_count:(e==null?void 0:e.usage_count)||0,createdBy:(e==null?void 0:e.createdBy)||"current-user",version:(e==null?void 0:e.version)||1,isDefault:(e==null?void 0:e.isDefault)||!1,isActive:(e==null?void 0:e.isActive)!==!1,category:(e==null?void 0:e.category)||"general",styles:(e==null?void 0:e.styles)||{},layout:(e==null?void 0:e.layout)||{},thumbnail:e==null?void 0:e.thumbnail,content:(e==null?void 0:e.content)||""};await t(N),y(!0),setTimeout(()=>y(!1),3e3),console.log(" Template saved successfully")}catch(N){console.error(" Error saving template:",N),v("Failed to save template. Please try again."),setTimeout(()=>v(null),5e3)}finally{d(!1)}},S=()=>{if(l.length===0){v("Please add elements to preview the template"),setTimeout(()=>v(null),3e3);return}p(!0),console.log(" Opening preview for template:",r)},j=(N,D)=>{f({element:N,index:D})},k=N=>{if(h){const D=[...l];D[h.index]={...D[h.index],...N},c(D),console.log(" Element updated:",N)}},C=()=>{f(null)};return o.jsx(bK,{backend:hX,children:o.jsxs("div",{className:"flex h-screen bg-gray-100",children:[g&&o.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",children:" Template saved successfully!"}),o.jsx("div",{className:"w-80 bg-white border-r border-gray-200 p-4 overflow-y-auto",children:o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Template Elements"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Drag elements to the canvas to build your template"}),o.jsx("div",{className:"space-y-3",children:mX.map(N=>o.jsx(gX,{item:N},N.type))})]})}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1 mr-4",children:[o.jsx(De,{value:r,onChange:N=>s(N.target.value),placeholder:"Template Name",className:"text-lg font-semibold mb-2"}),o.jsx(De,{value:i,onChange:N=>a(N.target.value),placeholder:"Template Description (optional)",className:"text-sm"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U,{variant:"ghost",onClick:S,disabled:l.length===0,title:"Preview template with sample data",className:"text-gray-700 hover:text-gray-900 hover:bg-gray-100 disabled:text-gray-400",children:[o.jsx(zu,{size:16,className:"mr-2"}),"Preview"]}),o.jsxs(U,{onClick:w,disabled:u||!r.trim()||l.length===0,title:"Save template to database",className:"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-gray-400",children:[o.jsx(Si,{size:16,className:"mr-2"}),u?"Saving...":"Save Template"]}),o.jsx(U,{variant:"ghost",onClick:n,className:"text-gray-700 hover:text-gray-900 hover:bg-gray-100",children:"Cancel"})]})]})}),o.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:o.jsx(vX,{elements:l,onElementsChange:c,onEditElement:j})})]}),h&&o.jsx(xX,{element:h.element,onUpdate:k,onClose:C}),g&&o.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md shadow-lg z-50",children:" Template saved successfully!"}),b&&o.jsxs("div",{className:"fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md shadow-lg z-50",children:[" ",b]}),o.jsx(fX,{isOpen:m,onClose:()=>p(!1),elements:l,templateName:r})]})})}async function wX(e={}){const t="http://103.224.243.242:3001/api",n=new URLSearchParams;e.search&&n.set("search",e.search),e.category&&n.set("category",e.category),e.isActive!==void 0&&n.set("isActive",String(e.isActive)),e.limit&&n.set("limit",String(e.limit)),e.offset&&n.set("offset",String(e.offset)),e.sortBy&&n.set("sortBy",e.sortBy),e.sortOrder&&n.set("sortOrder",e.sortOrder);const r=await fetch(`${t}/templates/modern?${n.toString()}`,{method:"GET",headers:Fe(),credentials:"include"});if(!r.ok)throw new Error(`Failed to fetch modern templates: ${r.status} ${r.statusText}`);return await r.json()}async function uj(e){const t="http://103.224.243.242:3001/api";if(!e.name||!e.name.trim())throw new Error("Template name is required");if(!e.elements||!Array.isArray(e.elements))throw new Error("Template elements must be an array");const n=await fetch(`${t}/templates/modern`,{method:"POST",headers:{...Fe(),"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!n.ok){const s=await n.json().catch(()=>({}));throw new Error(s.message||"Failed to create modern template")}return(await n.json()).data}async function jX(e,t,n){const r="http://103.224.243.242:3001/api",s={...t},i=await fetch(`${r}/templates/modern/${e}`,{method:"PATCH",headers:{...Fe(),"Content-Type":"application/json"},body:JSON.stringify(s),credentials:"include"});if(!i.ok){const l=await i.json().catch(()=>({}));throw i.status===409?new Error("Template was modified by another user. Please refresh and try again."):new Error(l.message||"Failed to update modern template")}return(await i.json()).data}async function SX(e){const n=await fetch(`http://103.224.243.242:3001/api/templates/modern/${e}`,{method:"DELETE",headers:Fe(),credentials:"include"});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.message||"Failed to delete modern template")}}const NX=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[s,i]=x.useState(""),[a,l]=x.useState(null),[c,u]=x.useState(!1),[d,h]=x.useState("grid"),[f,m]=x.useState("all"),[p,g]=x.useState({show:!1,title:""});x.useEffect(()=>{y()},[]);const y=async()=>{try{r(!0);const D=await wX();t(D.data||D)}catch(D){console.error("Error fetching templates:",D),k("Error loading templates","error")}finally{r(!1)}},b=()=>{l(null),u(!0)},v=D=>{l(D),u(!0)},w=async D=>{if(window.confirm("Are you sure you want to delete this template?"))try{await SX(D),t(T=>T.filter(L=>L.id!==D)),k("Template deleted successfully","success")}catch(T){console.error("Error deleting template:",T),k("Error deleting template","error")}},S=async D=>{try{const T=await uj({...D,name:`${D.name} (Copy)`,createdBy:"Current User",usage_count:0,isDefault:!1});t(L=>[T,...L]),k("Template duplicated successfully","success")}catch(T){console.error("Error duplicating template:",T),k("Error duplicating template","error")}},j=D=>{console.log("Preview template:",D)},k=(D,T="success")=>{g({show:!0,title:D,variant:T}),setTimeout(()=>g({show:!1,title:""}),3e3)},C=e.filter(D=>{var V,F;const T=D.name.toLowerCase().includes(s.toLowerCase())||((V=D.description)==null?void 0:V.toLowerCase().includes(s.toLowerCase())),L=f==="all"||((F=D.tags)==null?void 0:F.includes(f));return T&&L}),N=["all",...new Set(e.flatMap(D=>D.tags||[]))];return c?o.jsx(bX,{template:a||void 0,onSave:async D=>{try{a?(await jX(a.id,D),k("Template updated successfully","success")):(await uj({...D,createdBy:"Current User"}),k("Template created successfully","success")),u(!1),y()}catch(T){console.error("Error saving template:",T),k("Error saving template","error")}},onCancel:()=>u(!1)}):o.jsxs("div",{className:"container mx-auto py-6 px-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Template Management"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage quotation templates"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(U,{variant:"ghost",leftIcon:o.jsx(qN,{}),children:"Import"}),o.jsx(U,{onClick:b,leftIcon:o.jsx(Lr,{}),className:"bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800",children:"Create Template"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(De,{placeholder:"Search templates...",value:s,onChange:D=>i(D.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("select",{value:f,onChange:D=>m(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:N.map(D=>o.jsx("option",{value:D,children:D==="all"?"All Categories":D.charAt(0).toUpperCase()+D.slice(1)},D))}),o.jsxs("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[o.jsx(U,{variant:d==="grid"?"accent":"ghost",size:"sm",onClick:()=>h("grid"),className:"rounded-none",children:o.jsx(BN,{className:"h-4 w-4"})}),o.jsx(U,{variant:d==="list"?"accent":"ghost",size:"sm",onClick:()=>h("list"),className:"rounded-none",children:o.jsx(mI,{className:"h-4 w-4"})})]})]})]}),n?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsx("div",{className:d==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:C.map(D=>o.jsx(le,{className:`group hover:shadow-lg transition-all duration-200 ${D.isDefault?"ring-2 ring-primary-200":""} ${d==="list"?"flex-row":""}`,children:d==="grid"?o.jsxs(o.Fragment,{children:[o.jsxs(ye,{className:"pb-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wt,{className:"h-5 w-5 text-primary-600"}),D.isDefault&&o.jsx(iv,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),o.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1",children:[o.jsx(U,{size:"sm",variant:"ghost",onClick:()=>j(D),children:o.jsx(zu,{className:"h-3 w-3"})}),o.jsx(U,{size:"sm",variant:"ghost",onClick:()=>v(D),children:o.jsx(sv,{className:"h-3 w-3"})}),o.jsx(U,{size:"sm",variant:"ghost",onClick:()=>S(D),children:o.jsx(tv,{className:"h-3 w-3"})}),!D.isDefault&&o.jsx(U,{size:"sm",variant:"ghost",onClick:()=>w(D.id),className:"text-red-600 hover:text-red-700",children:o.jsx(ur,{className:"h-3 w-3"})})]})]}),o.jsx(ve,{className:"text-lg",children:D.name}),D.description&&o.jsx("p",{className:"text-sm text-gray-600",children:D.description})]}),o.jsx(pe,{children:o.jsxs("div",{className:"space-y-3",children:[D.tags&&D.tags.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1",children:D.tags.map(T=>o.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-full",children:T},T))}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(pi,{className:"h-3 w-3"}),o.jsx("span",{children:D.createdBy})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Yn,{className:"h-3 w-3"}),o.jsx("span",{children:new Date(D.updatedAt).toLocaleDateString()})]})]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Used ",D.usage_count||0," times"]})]})})]}):o.jsxs("div",{className:"flex items-center justify-between p-4 w-full",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wt,{className:"h-5 w-5 text-primary-600"}),D.isDefault&&o.jsx(iv,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:D.name}),o.jsx("p",{className:"text-sm text-gray-600",children:D.description}),o.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500",children:[o.jsxs("span",{children:["By ",D.createdBy]}),o.jsxs("span",{children:["Updated ",new Date(D.updatedAt).toLocaleDateString()]}),o.jsxs("span",{children:["Used ",D.usage_count||0," times"]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(U,{size:"sm",variant:"ghost",onClick:()=>j(D),children:o.jsx(zu,{className:"h-4 w-4"})}),o.jsx(U,{size:"sm",variant:"ghost",onClick:()=>v(D),children:o.jsx(sv,{className:"h-4 w-4"})}),o.jsx(U,{size:"sm",variant:"ghost",onClick:()=>S(D),children:o.jsx(tv,{className:"h-4 w-4"})}),!D.isDefault&&o.jsx(U,{size:"sm",variant:"ghost",onClick:()=>w(D.id),className:"text-red-600 hover:text-red-700",children:o.jsx(ur,{className:"h-4 w-4"})})]})]})},D.id))}),C.length===0&&!n&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Wt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No templates found"}),o.jsx("p",{className:"text-gray-600 mb-2",children:s||f!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating your first template."}),o.jsx("p",{className:"text-gray-500 mb-4",children:"You can create a new template from here. Click the button below to get started."}),!s&&f==="all"&&o.jsx(U,{onClick:b,leftIcon:o.jsx(Lr,{}),children:"Create Your First Template"})]}),p.show&&o.jsx(ft,{title:p.title,variant:p.variant,isVisible:p.show,onClose:()=>g({show:!1,title:""})})]})},CX=({children:e})=>{const{isAuthenticated:t,user:n,setUser:r}=Ge();return x.useEffect(()=>{(async()=>{try{if(!t&&!n){const i=await eC();i&&r(i)}}catch(i){console.error("Error checking authentication status:",i)}})()},[t,n,r]),o.jsx(o.Fragment,{children:e})};function Ft({children:e,redirectTo:t="/login",allowedRoles:n}){const{user:r,isAuthenticated:s,setUser:i}=Ge(),[a,l]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const u=await eC();u?(!r||r.id!==u.id)&&i(u):(localStorage.removeItem("jwt-token"),localStorage.removeItem("user"),localStorage.removeItem("explicit-login-performed"))}catch(u){console.error("Error verifying token:",u),localStorage.removeItem("jwt-token"),localStorage.removeItem("user"),localStorage.removeItem("explicit-login-performed")}finally{l(!1)}})()},[r,i]),a?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"h-12 w-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):(console.log(` Protected Route Check - Authenticated: ${s}, User: ${(r==null?void 0:r.name)||"none"}`),!s||!r?(console.log(` Route protection failed - redirecting to ${t}`),o.jsx(Vn,{to:t,replace:!0})):n&&!n.includes(r.role)?(console.log(` Role protection failed - user has ${r.role} but needs one of [${n.join(",")}]`),o.jsx(Vn,{to:"/dashboard",replace:!0})):(console.log(" Route protection passed - rendering protected content"),e?o.jsx(o.Fragment,{children:e}):o.jsx(ON,{})))}function kX(){const{user:e,isAuthenticated:t}=Ge();if(console.log(" DashboardRouter called"),console.log(" Authentication state:",{isAuthenticated:t}),console.log(" User object:",JSON.stringify(e,null,2)),console.log(" User role:",e==null?void 0:e.role),!t||!e)return console.log(" DashboardRouter: Not authenticated, redirecting to login"),o.jsx(Vn,{to:"/login",replace:!0});if(!e.role)return console.error(" DashboardRouter: User authenticated but role is undefined!"),console.error(" Full user object:",e),console.log(" Fallback: Showing AdminDashboard due to missing role"),o.jsx(_f,{});switch(console.log(" DashboardRouter: User role is",e.role),e.role){case"admin":return console.log(" Rendering AdminDashboard"),o.jsx(_f,{});case"sales_agent":return console.log(" Rendering SalesAgentDashboard"),o.jsx(jV,{});case"operations_manager":return console.log(" Rendering OperationsManagerDashboard"),o.jsx(kV,{});case"operator":return console.log(" Rendering OperatorDashboard"),o.jsx(EV,{});default:return console.log(" Unknown user role:",e.role,"showing AdminDashboard as fallback"),o.jsx(_f,{})}}function DX(){const e=window.location.pathname==="/"||window.location.pathname==="";if(console.log(" AppContent - Current pathname:",window.location.pathname),console.log(" AppContent - Is root URL:",e),e)return console.log(" Redirecting from root to /login"),o.jsx(Vn,{to:"/login",replace:!0});const t=o.jsx("div",{className:"fixed inset-0 bg-white flex min-h-screen items-center justify-center z-50 loading-screen",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-blue-600 border-t-transparent mb-4"}),o.jsx("p",{className:"text-lg text-gray-700 font-medium",children:"Loading ASP Cranes CRM..."}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait while we prepare your dashboard"})]})});return o.jsx(x.Suspense,{fallback:t,children:o.jsxs(IA,{children:[o.jsx(Ye,{path:"/blank-check.html",element:o.jsx(Vn,{to:"/blank-check.html",replace:!0})}),o.jsx(Ye,{path:"/api-test.html",element:o.jsx(Vn,{to:"/api-test.html",replace:!0})}),o.jsx(Ye,{path:"/login",element:o.jsx(xM,{})}),o.jsx(Ye,{element:o.jsx(Ft,{}),children:o.jsxs(Ye,{path:"/",element:o.jsx(N5,{}),children:[o.jsx(Ye,{index:!0,element:o.jsx(Vn,{to:"/dashboard",replace:!0})}),o.jsx(Ye,{path:"dashboard",element:o.jsx(kX,{})}),o.jsx(Ye,{path:"admin/users",element:o.jsx(Ft,{allowedRoles:["admin"],children:o.jsx(vH,{})})}),o.jsx(Ye,{path:"admin/config",element:o.jsx(Ft,{allowedRoles:["admin"],children:o.jsx(_H,{})})}),o.jsx(Ye,{path:"admin/equipment",element:o.jsx(Ft,{allowedRoles:["admin","operations_manager"],children:o.jsx(hH,{})})}),o.jsx(Ye,{path:"admin/services",element:o.jsx(Ft,{allowedRoles:["admin","operations_manager"],children:o.jsx(mH,{})})}),o.jsx(Ye,{path:"admin/templates",element:o.jsx(Ft,{allowedRoles:["admin","sales_agent"],children:o.jsx(NX,{})})}),o.jsx(Ye,{path:"leads",element:o.jsx(Ft,{allowedRoles:["admin","sales_agent","operations_manager"],children:o.jsx(S8,{})})}),o.jsx(Ye,{path:"customers",element:o.jsx(Ft,{allowedRoles:["admin","sales_agent","operations_manager"],children:o.jsx(AH,{})})}),o.jsx(Ye,{path:"deals",element:o.jsx(Ft,{allowedRoles:["admin","sales_agent","operations_manager"],children:o.jsx(tQ,{})})}),o.jsx(Ye,{path:"deals/:id",element:o.jsx(Ft,{allowedRoles:["admin","sales_agent","operations_manager"],children:o.jsx(rQ,{})})}),o.jsx(Ye,{path:"quotations",element:o.jsx(Ft,{allowedRoles:["admin","sales_agent","operations_manager"],children:o.jsx(I8,{})})}),o.jsx(Ye,{path:"quotations/create",element:o.jsx(Ft,{allowedRoles:["admin","sales_agent"],children:o.jsx(U8,{})})}),o.jsx(Ye,{path:"jobs",element:o.jsx(Ft,{allowedRoles:["admin","operations_manager","operator"],children:o.jsx(tH,{})})}),o.jsx(Ye,{path:"site-assessments",element:o.jsx(Ft,{allowedRoles:["admin","operations_manager","operator"],children:o.jsx(sH,{})})}),o.jsx(Ye,{path:"job-summary",element:o.jsx(Ft,{allowedRoles:["admin","operations_manager","operator"],children:o.jsx(aH,{})})}),o.jsx(Ye,{path:"*",element:o.jsx(Vn,{to:"/dashboard",replace:!0})})]})})]})})}function EX(){return o.jsx(BA,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:o.jsx(CX,{children:o.jsx(OI,{children:o.jsxs(o.Fragment,{children:[o.jsx(DX,{}),o.jsx(II,{}),o.jsx(C8,{})]})})})})}console.log(" Starting ASP Cranes CRM...");console.log(" Current URL:",window.location.href);console.log(" localStorage contents:",{"jwt-token":localStorage.getItem("jwt-token")?"Present":"Missing","explicit-login-performed":localStorage.getItem("explicit-login-performed"),"auth-storage":localStorage.getItem("auth-storage")?"Present":"Missing"});console.log(" Auth store hydration temporarily disabled for debugging");document.body.classList.contains("dark")||document.body.classList.add("dark");const mm=document.getElementById("root");if(!mm)console.error(" Failed to find root element"),document.body.innerHTML='<div style="padding: 20px; font-family: Arial; color: red;">Error: Root element not found</div>';else{console.log(" Root element found, creating React app...");try{SN(mm).render(o.jsx(x.StrictMode,{children:o.jsx(x.Suspense,{fallback:o.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"h-16 w-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading ASP Cranes CRM..."})]})}),children:o.jsx(EX,{})})})),console.log(" React application rendered successfully")}catch(e){console.error(" React render error:",e),mm.innerHTML='<div style="padding: 20px; font-family: Arial; color: red;">React render error: '+e+"</div>"}}
